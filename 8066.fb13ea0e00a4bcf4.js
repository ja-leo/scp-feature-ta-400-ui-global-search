(self.webpackChunkscales_doc_site=self.webpackChunkscales_doc_site||[]).push([[8066],{6708:ut=>{var nt,rt,V,et;nt={},rt=function(S){var y=nt[S];if(void 0===y)throw"module ["+S+"] was undefined";return void 0===y.instance&&function(S){for(var y=nt[S],h=y.deps,s=y.defn,t=h.length,m=new Array(t),r=0;r<t;++r)m[r]=rt(h[r]);var u=s.apply(null,m);if(void 0===u)throw"module ["+S+"] returned undefined";y.instance=u}(S),y.instance},et=function(S,y){V(S,[],function(){return y})},(V=function(S,y,h){if("string"!=typeof S)throw"module id must be a string";if(void 0===y)throw"no dependencies for "+S;if(void 0===h)throw"no definition function for "+S;nt[S]={deps:y,defn:h,instance:void 0}})("tinymce.core.geom.Rect",[],function(){"use strict";var S=Math.min,y=Math.max,h=Math.round;function s(i,c,g){var k,C,p,v,l,f;return k=c.x,C=c.y,p=i.w,v=i.h,l=c.w,f=c.h,"b"===(g=(g||"").split(""))[0]&&(C+=f),"r"===g[1]&&(k+=l),"c"===g[0]&&(C+=h(f/2)),"c"===g[1]&&(k+=h(l/2)),"b"===g[3]&&(C-=v),"r"===g[4]&&(k-=p),"c"===g[3]&&(C-=h(v/2)),"c"===g[4]&&(k-=h(p/2)),a(k,C,p,v)}function a(i,c,g,k){return{x:i,y:c,w:g,h:k}}return{inflate:function m(i,c,g){return a(i.x-c,i.y-g,i.w+2*c,i.h+2*g)},relativePosition:s,findBestRelativePosition:function t(i,c,g,k){var C,p;for(p=0;p<k.length;p++)if((C=s(i,c,k[p])).x>=g.x&&C.x+C.w<=g.w+g.x&&C.y>=g.y&&C.y+C.h<=g.h+g.y)return k[p];return null},intersect:function r(i,c){var g,k,C,p;return g=y(i.x,c.x),k=y(i.y,c.y),C=S(i.x+i.w,c.x+c.w),p=S(i.y+i.h,c.y+c.h),C-g<0||p-k<0?null:a(g,k,C-g,p-k)},clamp:function u(i,c,g){var k,C,p,v,l,f,n,o,E,e;return f=i.y,n=i.x+i.w,o=i.y+i.h,E=c.x+c.w,e=c.y+c.h,k=y(0,c.x-(l=i.x)),C=y(0,c.y-f),p=y(0,n-E),v=y(0,o-e),l+=k,f+=C,g&&(n+=k,o+=C,l-=p,f-=v),a(l,f,(n-=p)-l,(o-=v)-f)},create:a,fromClientRect:function d(i){return a(i.left,i.top,i.width,i.height)}}}),V("tinymce.core.util.Promise",[],function(){if(window.Promise)return window.Promise;var S=s.immediateFn||"function"==typeof setImmediate&&setImmediate||function(i){setTimeout(i,1)};function y(i,c){return function(){i.apply(c,arguments)}}var h=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function s(i){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof i)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(i,y(m,this),y(r,this))}function t(i){var c=this;null!==this._state?S(function(){var g=c._state?i.onFulfilled:i.onRejected;if(null!==g){var k;try{k=g(c._value)}catch(C){return void i.reject(C)}i.resolve(k)}else(c._state?i.resolve:i.reject)(c._value)}):this._deferreds.push(i)}function m(i){try{if(i===this)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void d(y(c,i),y(m,this),y(r,this))}this._state=!0,this._value=i,u.call(this)}catch(g){r.call(this,g)}}function r(i){this._state=!1,this._value=i,u.call(this)}function u(){for(var i=0,c=this._deferreds.length;i<c;i++)t.call(this,this._deferreds[i]);this._deferreds=null}function a(i,c,g,k){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof c?c:null,this.resolve=g,this.reject=k}function d(i,c,g){var k=!1;try{i(function(C){k||(k=!0,c(C))},function(C){k||(k=!0,g(C))})}catch(C){if(k)return;k=!0,g(C)}}return s.prototype.catch=function(i){return this.then(null,i)},s.prototype.then=function(i,c){var g=this;return new s(function(k,C){t.call(g,new a(i,c,k,C))})},s.all=function(){var i=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new s(function(c,g){if(0===i.length)return c([]);var k=i.length;function C(v,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var f=l.then;if("function"==typeof f)return void f.call(l,function(n){C(v,n)},g)}i[v]=l,0==--k&&c(i)}catch(n){g(n)}}for(var p=0;p<i.length;p++)C(p,i[p])})},s.resolve=function(i){return i&&"object"==typeof i&&i.constructor===s?i:new s(function(c){c(i)})},s.reject=function(i){return new s(function(c,g){g(i)})},s.race=function(i){return new s(function(c,g){for(var k=0,C=i.length;k<C;k++)i[k].then(c,g)})},s}),V("tinymce.core.util.Delay",["tinymce.core.util.Promise"],function(S){var y;function s(a,d){return"number"!=typeof d&&(d=0),setTimeout(a,d)}function t(a,d){return"number"!=typeof d&&(d=1),setInterval(a,d)}function u(a,d){var i,c;return c=function(){var g=arguments;clearTimeout(i),i=s(function(){a.apply(this,g)},d)},c.stop=function(){clearTimeout(i)},c}return{requestAnimationFrame:function(a,d){y?y.then(a):y=new S(function(i){d||(d=document.body),function h(a,d){var i,c=window.requestAnimationFrame,g=["ms","moz","webkit"];for(i=0;i<g.length&&!c;i++)c=window[g[i]+"RequestAnimationFrame"];c||(c=function k(C){window.setTimeout(C,0)}),c(a,d)}(i,d)}).then(a)},setTimeout:s,setInterval:t,setEditorTimeout:function(a,d,i){return s(function(){a.removed||d()},i)},setEditorInterval:function(a,d,i){var c;return c=t(function(){a.removed?clearInterval(c):d()},i)},debounce:u,throttle:u,clearInterval:function r(a){return clearInterval(a)},clearTimeout:function m(a){return clearTimeout(a)}}}),V("tinymce.core.Env",[],function(){var h,s,t,m,r,u,a,d,i,c,g,k,C,S=navigator,y=S.userAgent;function p(l){return"matchMedia"in window&&matchMedia(l).matches}return h=window.opera&&window.opera.buildNumber,i=/Android/.test(y),t=(t=!(s=/WebKit/.test(y))&&!h&&/MSIE/gi.test(y)&&/Explorer/gi.test(S.appName))&&/MSIE (\w+)\./.exec(y)[1],m=-1!=y.indexOf("Trident/")&&(-1!=y.indexOf("rv:")||-1!=S.appName.indexOf("Netscape"))&&11,r=-1!=y.indexOf("Edge/")&&!t&&!m&&12,t=t||m||r,u=!s&&!m&&/Gecko/.test(y),a=-1!=y.indexOf("Mac"),d=/(iPad|iPhone)/.test(y),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,g=p("only screen and (max-device-width: 480px)")&&(i||d),k=p("only screen and (min-width: 800px)")&&(i||d),C=-1!=y.indexOf("Windows Phone"),r&&(s=!1),{opera:h,webkit:s,ie:t,gecko:u,mac:a,iOS:d,android:i,contentEditable:!d||c||y.match(/AppleWebKit\/(\d*)/)[1]>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=t,range:window.getSelection&&"Range"in window,documentMode:t&&!r?document.documentMode||7:10,fileApi:c,ceFalse:!1===t||t>8,canHaveCSP:!1===t||t>11,desktop:!g&&!k,windowsPhone:C}}),V("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],function(S,y){"use strict";var s=/^(?:mouse|contextmenu)|click/,t={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},r=function(){return!1},u=function(){return!0};function a(C,p,v,l){C.addEventListener?C.addEventListener(p,v,l||!1):C.attachEvent&&C.attachEvent("on"+p,v)}function d(C,p,v,l){C.removeEventListener?C.removeEventListener(p,v,l||!1):C.detachEvent&&C.detachEvent("on"+p,v)}function c(C,p){var v,f,l=p||{};for(v in C)t[v]||(l[v]=C[v]);if(l.target||(l.target=l.srcElement||document),y.experimentalShadowDom&&(l.target=function i(C,p){var v,l=p;return(v=C.path)&&v.length>0&&(l=v[0]),C.deepPath&&(v=C.deepPath())&&v.length>0&&(l=v[0]),l}(C,l.target)),C&&s.test(C.type)&&C.pageX===f&&C.clientX!==f){var n=l.target.ownerDocument||document,o=n.documentElement,E=n.body;l.pageX=C.clientX+(o&&o.scrollLeft||E&&E.scrollLeft||0)-(o&&o.clientLeft||E&&E.clientLeft||0),l.pageY=C.clientY+(o&&o.scrollTop||E&&E.scrollTop||0)-(o&&o.clientTop||E&&E.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=u,C&&(C.preventDefault?C.preventDefault():C.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=u,C&&(C.stopPropagation?C.stopPropagation():C.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=u,l.stopPropagation()},!1===function(C){return C.isDefaultPrevented===u||C.isDefaultPrevented===r}(l)&&(l.isDefaultPrevented=r,l.isPropagationStopped=r,l.isImmediatePropagationStopped=r),void 0===l.metaKey&&(l.metaKey=!1),l}function g(C,p,v){var l=C.document,f={type:"ready"};function n(){return"complete"===l.readyState||"interactive"===l.readyState&&l.body}function o(){v.domLoaded||(v.domLoaded=!0,p(f))}v.domLoaded?p(f):(!l.addEventListener||y.ie&&y.ie<11?(a(l,"readystatechange",function E(){n()&&(d(l,"readystatechange",E),o())}),l.documentElement.doScroll&&C.self===C.top&&function e(){try{l.documentElement.doScroll("left")}catch(b){return void S.setTimeout(e)}o()}()):n()?o():a(C,"DOMContentLoaded",o),a(C,"load",o))}function k(){var v,l,f,n,o,C=this,p={};function E(e,b){var w,x,T,N,_=p[b];if(w=_&&_[e.type])for(x=0,T=w.length;x<T;x++)if((N=w[x])&&!1===N.func.call(N.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}l="mce-data-"+(+new Date).toString(32),n="onmouseenter"in document.documentElement,f="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},v=1,C.domLoaded=!1,C.events=p,C.bind=function(e,b,w,x){var T,N,_,A,F,O,R,M=window;function U(P){E(c(P||M.event),T)}if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[l]?T=e[l]:(T=v++,e[l]=T,p[T]={}),x=x||e,_=(b=b.split(" ")).length;_--;)O=U,F=R=!1,"DOMContentLoaded"===(A=b[_])&&(A="ready"),C.domLoaded&&"ready"===A&&"complete"==e.readyState?w.call(x,c({type:A})):(n||(F=o[A])&&(O=function(P){var B,L;if(B=P.currentTarget,(L=P.relatedTarget)&&B.contains)L=B.contains(L);else for(;L&&L!==B;)L=L.parentNode;L||((P=c(P||M.event)).type="mouseout"===P.type?"mouseleave":"mouseenter",P.target=B,E(P,T))}),!f&&("focusin"===A||"focusout"===A)&&(R=!0,F="focusin"===A?"focus":"blur",O=function(P){(P=c(P||M.event)).type="focus"===P.type?"focusin":"focusout",E(P,T)}),(N=p[T][A])?"ready"===A&&C.domLoaded?w({type:A}):N.push({func:w,scope:x}):(p[T][A]=N=[{func:w,scope:x}],N.fakeName=F,N.capture=R,N.nativeHandler=O,"ready"===A?g(e,O,C):a(e,F||A,O,R)));return e=N=0,w}},C.unbind=function(e,b,w){var x,T,N,_,A,F;if(!e||3===e.nodeType||8===e.nodeType)return C;if(x=e[l]){if(F=p[x],b){for(N=(b=b.split(" ")).length;N--;)if(T=F[A=b[N]]){if(w)for(_=T.length;_--;)if(T[_].func===w){var O=T.nativeHandler,R=T.fakeName,M=T.capture;(T=T.slice(0,_).concat(T.slice(_+1))).nativeHandler=O,T.fakeName=R,T.capture=M,F[A]=T}(!w||0===T.length)&&(delete F[A],d(e,T.fakeName||A,T.nativeHandler,T.capture))}}else{for(A in F)d(e,(T=F[A]).fakeName||A,T.nativeHandler,T.capture);F={}}for(A in F)return C;delete p[x];try{delete e[l]}catch(U){e[l]=null}}return C},C.fire=function(e,b,w){var x;if(!e||3===e.nodeType||8===e.nodeType)return C;(w=c(null,w)).type=b,w.target=e;do{(x=e[l])&&E(w,x),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!w.isPropagationStopped());return C},C.clean=function(e){var b,w,x=C.unbind;if(!e||3===e.nodeType||8===e.nodeType)return C;if(e[l]&&x(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(x(e),b=(w=e.getElementsByTagName("*")).length;b--;)(e=w[b])[l]&&x(e);return C},C.destroy=function(){p={}},C.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}return(k.Event=new k).bind(window,"ready",function(){}),k}),V("tinymce.core.dom.Sizzle",[],function(){var S,y,h,s,t,m,r,u,a,d,i,c,g,k,C,p,v,l,f,n="sizzle"+-new Date,o=window.document,E=0,e=0,b=be(),w=be(),x=be(),T=function(D,H){return D===H&&(i=!0),0},N="undefined",_=1<<31,A={}.hasOwnProperty,F=[],O=F.pop,R=F.push,M=F.push,U=F.slice,P=F.indexOf||function(D){for(var H=0,W=this.length;H<W;H++)if(this[H]===D)return H;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+L+"*("+z+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+L+"*\\]",ee=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",ue=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),ae=new RegExp("^"+L+"*,"+L+"*"),ne=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),he=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),Ee=new RegExp(ee),me=new RegExp("^"+z+"$"),$={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+ee),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,ie=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ke=/[+~]/,ye=/'|\\/g,oe=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),K=function(D,H,W){var j="0x"+H-65536;return j!=j||W?H:j<0?String.fromCharCode(j+65536):String.fromCharCode(j>>10|55296,1023&j|56320)};try{M.apply(F=U.call(o.childNodes),o.childNodes)}catch(D){M={apply:F.length?function(H,W){R.apply(H,U.call(W))}:function(H,W){for(var j=H.length,X=0;H[j++]=W[X++];);H.length=j-1}}}function se(D,H,W,j){var X,Q,J,ce,te,Se,_e,Re,Fe,Oe;if((H?H.ownerDocument||H:o)!==g&&c(H),W=W||[],!D||"string"!=typeof D)return W;if(1!==(ce=(H=H||g).nodeType)&&9!==ce)return[];if(C&&!j){if(X=ie.exec(D))if(J=X[1]){if(9===ce){if(!(Q=H.getElementById(J))||!Q.parentNode)return W;if(Q.id===J)return W.push(Q),W}else if(H.ownerDocument&&(Q=H.ownerDocument.getElementById(J))&&f(H,Q)&&Q.id===J)return W.push(Q),W}else{if(X[2])return M.apply(W,H.getElementsByTagName(D)),W;if((J=X[3])&&y.getElementsByClassName)return M.apply(W,H.getElementsByClassName(J)),W}if(y.qsa&&(!p||!p.test(D))){if(Re=_e=n,Fe=H,Oe=9===ce&&D,1===ce&&"object"!==H.nodeName.toLowerCase()){for(Se=m(D),(_e=H.getAttribute("id"))?Re=_e.replace(ye,"\\$&"):H.setAttribute("id",Re),Re="[id='"+Re+"'] ",te=Se.length;te--;)Se[te]=Re+Ae(Se[te]);Fe=ke.test(D)&&fe(H.parentNode)||H,Oe=Se.join(",")}if(Oe)try{return M.apply(W,Fe.querySelectorAll(Oe)),W}catch(de){}finally{_e||H.removeAttribute("id")}}}return u(D.replace(ue,"$1"),H,W,j)}function be(){var D=[];return function H(W,j){return D.push(W+" ")>h.cacheLength&&delete H[D.shift()],H[W+" "]=j}}function we(D){return D[n]=!0,D}function De(D){var H=g.createElement("div");try{return!!D(H)}catch(W){return!1}finally{H.parentNode&&H.parentNode.removeChild(H),H=null}}function ve(D,H){for(var W=D.split("|"),j=D.length;j--;)h.attrHandle[W[j]]=H}function Ue(D,H){var W=H&&D,j=W&&1===D.nodeType&&1===H.nodeType&&(~H.sourceIndex||_)-(~D.sourceIndex||_);if(j)return j;if(W)for(;W=W.nextSibling;)if(W===H)return-1;return D?1:-1}function qe(D){return function(H){return"input"===H.nodeName.toLowerCase()&&H.type===D}}function Te(D){return function(H){var W=H.nodeName.toLowerCase();return("input"===W||"button"===W)&&H.type===D}}function re(D){return we(function(H){return H=+H,we(function(W,j){for(var X,Q=D([],W.length,H),J=Q.length;J--;)W[X=Q[J]]&&(W[X]=!(j[X]=W[X]))})})}function fe(D){return D&&typeof D.getElementsByTagName!==N&&D}for(S in y=se.support={},t=se.isXML=function(D){var H=D&&(D.ownerDocument||D).documentElement;return!!H&&"HTML"!==H.nodeName},c=se.setDocument=function(D){var H,W=D?D.ownerDocument||D:o,j=W.defaultView;return W!==g&&9===W.nodeType&&W.documentElement?(g=W,k=W.documentElement,C=!t(W),j&&j!==function X(Q){try{return Q.top}catch(J){}return null}(j)&&(j.addEventListener?j.addEventListener("unload",function(){c()},!1):j.attachEvent&&j.attachEvent("onunload",function(){c()})),y.attributes=De(function(Q){return Q.className="i",!Q.getAttribute("className")}),y.getElementsByTagName=De(function(Q){return Q.appendChild(W.createComment("")),!Q.getElementsByTagName("*").length}),y.getElementsByClassName=Y.test(W.getElementsByClassName),y.getById=De(function(Q){return k.appendChild(Q).id=n,!W.getElementsByName||!W.getElementsByName(n).length}),y.getById?(h.find.ID=function(Q,J){if(typeof J.getElementById!==N&&C){var ce=J.getElementById(Q);return ce&&ce.parentNode?[ce]:[]}},h.filter.ID=function(Q){var J=Q.replace(oe,K);return function(ce){return ce.getAttribute("id")===J}}):(delete h.find.ID,h.filter.ID=function(Q){var J=Q.replace(oe,K);return function(ce){var te=typeof ce.getAttributeNode!==N&&ce.getAttributeNode("id");return te&&te.value===J}}),h.find.TAG=y.getElementsByTagName?function(Q,J){if(typeof J.getElementsByTagName!==N)return J.getElementsByTagName(Q)}:function(Q,J){var ce,te=[],Se=0,_e=J.getElementsByTagName(Q);if("*"===Q){for(;ce=_e[Se++];)1===ce.nodeType&&te.push(ce);return te}return _e},h.find.CLASS=y.getElementsByClassName&&function(Q,J){if(C)return J.getElementsByClassName(Q)},v=[],p=[],(y.qsa=Y.test(W.querySelectorAll))&&(De(function(Q){Q.innerHTML="<select msallowcapture=''><option selected=''></option></select>",Q.querySelectorAll("[msallowcapture^='']").length&&p.push("[*^$]="+L+"*(?:''|\"\")"),Q.querySelectorAll("[selected]").length||p.push("\\["+L+"*(?:value|"+B+")"),Q.querySelectorAll(":checked").length||p.push(":checked")}),De(function(Q){var J=W.createElement("input");J.setAttribute("type","hidden"),Q.appendChild(J).setAttribute("name","D"),Q.querySelectorAll("[name=d]").length&&p.push("name"+L+"*[*^$|!~]?="),Q.querySelectorAll(":enabled").length||p.push(":enabled",":disabled"),Q.querySelectorAll("*,:x"),p.push(",.*:")})),(y.matchesSelector=Y.test(l=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&De(function(Q){y.disconnectedMatch=l.call(Q,"div"),l.call(Q,"[s!='']:x"),v.push("!=",ee)}),p=p.length&&new RegExp(p.join("|")),v=v.length&&new RegExp(v.join("|")),H=Y.test(k.compareDocumentPosition),f=H||Y.test(k.contains)?function(Q,J){var ce=9===Q.nodeType?Q.documentElement:Q,te=J&&J.parentNode;return Q===te||!(!te||1!==te.nodeType||!(ce.contains?ce.contains(te):Q.compareDocumentPosition&&16&Q.compareDocumentPosition(te)))}:function(Q,J){if(J)for(;J=J.parentNode;)if(J===Q)return!0;return!1},T=H?function(Q,J){if(Q===J)return i=!0,0;var ce=!Q.compareDocumentPosition-!J.compareDocumentPosition;return ce||(1&(ce=(Q.ownerDocument||Q)===(J.ownerDocument||J)?Q.compareDocumentPosition(J):1)||!y.sortDetached&&J.compareDocumentPosition(Q)===ce?Q===W||Q.ownerDocument===o&&f(o,Q)?-1:J===W||J.ownerDocument===o&&f(o,J)?1:d?P.call(d,Q)-P.call(d,J):0:4&ce?-1:1)}:function(Q,J){if(Q===J)return i=!0,0;var ce,te=0,Se=Q.parentNode,_e=J.parentNode,Re=[Q],Fe=[J];if(!Se||!_e)return Q===W?-1:J===W?1:Se?-1:_e?1:d?P.call(d,Q)-P.call(d,J):0;if(Se===_e)return Ue(Q,J);for(ce=Q;ce=ce.parentNode;)Re.unshift(ce);for(ce=J;ce=ce.parentNode;)Fe.unshift(ce);for(;Re[te]===Fe[te];)te++;return te?Ue(Re[te],Fe[te]):Re[te]===o?-1:Fe[te]===o?1:0},W):g},se.matches=function(D,H){return se(D,null,null,H)},se.matchesSelector=function(D,H){if((D.ownerDocument||D)!==g&&c(D),H=H.replace(he,"='$1']"),y.matchesSelector&&C&&(!v||!v.test(H))&&(!p||!p.test(H)))try{var W=l.call(D,H);if(W||y.disconnectedMatch||D.document&&11!==D.document.nodeType)return W}catch(j){}return se(H,g,null,[D]).length>0},se.contains=function(D,H){return(D.ownerDocument||D)!==g&&c(D),f(D,H)},se.attr=function(D,H){(D.ownerDocument||D)!==g&&c(D);var W=h.attrHandle[H.toLowerCase()],j=W&&A.call(h.attrHandle,H.toLowerCase())?W(D,H,!C):void 0;return void 0!==j?j:y.attributes||!C?D.getAttribute(H):(j=D.getAttributeNode(H))&&j.specified?j.value:null},se.error=function(D){throw new Error("Syntax error, unrecognized expression: "+D)},se.uniqueSort=function(D){var H,W=[],j=0,X=0;if(i=!y.detectDuplicates,d=!y.sortStable&&D.slice(0),D.sort(T),i){for(;H=D[X++];)H===D[X]&&(j=W.push(X));for(;j--;)D.splice(W[j],1)}return d=null,D},s=se.getText=function(D){var H,W="",j=0,X=D.nodeType;if(X){if(1===X||9===X||11===X){if("string"==typeof D.textContent)return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)W+=s(D)}else if(3===X||4===X)return D.nodeValue}else for(;H=D[j++];)W+=s(H);return W},(h=se.selectors={cacheLength:50,createPseudo:we,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(oe,K),D[3]=(D[3]||D[4]||D[5]||"").replace(oe,K),"~="===D[2]&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),"nth"===D[1].slice(0,3)?(D[3]||se.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*("even"===D[3]||"odd"===D[3])),D[5]=+(D[7]+D[8]||"odd"===D[3])):D[3]&&se.error(D[0]),D},PSEUDO:function(D){var H,W=!D[6]&&D[2];return $.CHILD.test(D[0])?null:(D[3]?D[2]=D[4]||D[5]||"":W&&Ee.test(W)&&(H=m(W,!0))&&(H=W.indexOf(")",W.length-H)-W.length)&&(D[0]=D[0].slice(0,H),D[2]=W.slice(0,H)),D.slice(0,3))}},filter:{TAG:function(D){var H=D.replace(oe,K).toLowerCase();return"*"===D?function(){return!0}:function(W){return W.nodeName&&W.nodeName.toLowerCase()===H}},CLASS:function(D){var H=b[D+" "];return H||(H=new RegExp("(^|"+L+")"+D+"("+L+"|$)"))&&b(D,function(W){return H.test("string"==typeof W.className&&W.className||typeof W.getAttribute!==N&&W.getAttribute("class")||"")})},ATTR:function(D,H,W){return function(j){var X=se.attr(j,D);return null==X?"!="===H:!H||(X+="","="===H?X===W:"!="===H?X!==W:"^="===H?W&&0===X.indexOf(W):"*="===H?W&&X.indexOf(W)>-1:"$="===H?W&&X.slice(-W.length)===W:"~="===H?(" "+X+" ").indexOf(W)>-1:"|="===H&&(X===W||X.slice(0,W.length+1)===W+"-"))}},CHILD:function(D,H,W,j,X){var Q="nth"!==D.slice(0,3),J="last"!==D.slice(-4),ce="of-type"===H;return 1===j&&0===X?function(te){return!!te.parentNode}:function(te,Se,_e){var Re,Fe,Oe,de,Ne,xe,pe=Q!==J?"nextSibling":"previousSibling",le=te.parentNode,ge=ce&&te.nodeName.toLowerCase(),Pe=!_e&&!ce;if(le){if(Q){for(;pe;){for(Oe=te;Oe=Oe[pe];)if(ce?Oe.nodeName.toLowerCase()===ge:1===Oe.nodeType)return!1;xe=pe="only"===D&&!xe&&"nextSibling"}return!0}if(xe=[J?le.firstChild:le.lastChild],J&&Pe){for(de=(Re=(Fe=le[n]||(le[n]={}))[D]||[])[0]===E&&Re[2],Oe=(Ne=Re[0]===E&&Re[1])&&le.childNodes[Ne];Oe=++Ne&&Oe&&Oe[pe]||(de=Ne=0)||xe.pop();)if(1===Oe.nodeType&&++de&&Oe===te){Fe[D]=[E,Ne,de];break}}else if(Pe&&(Re=(te[n]||(te[n]={}))[D])&&Re[0]===E)de=Re[1];else for(;(Oe=++Ne&&Oe&&Oe[pe]||(de=Ne=0)||xe.pop())&&((ce?Oe.nodeName.toLowerCase()!==ge:1!==Oe.nodeType)||!++de||(Pe&&((Oe[n]||(Oe[n]={}))[D]=[E,de]),Oe!==te)););return(de-=X)===j||de%j==0&&de/j>=0}}},PSEUDO:function(D,H){var W,j=h.pseudos[D]||h.setFilters[D.toLowerCase()]||se.error("unsupported pseudo: "+D);return j[n]?j(H):j.length>1?(W=[D,D,"",H],h.setFilters.hasOwnProperty(D.toLowerCase())?we(function(X,Q){for(var J,ce=j(X,H),te=ce.length;te--;)X[J=P.call(X,ce[te])]=!(Q[J]=ce[te])}):function(X){return j(X,0,W)}):j}},pseudos:{not:we(function(D){var H=[],W=[],j=r(D.replace(ue,"$1"));return j[n]?we(function(X,Q,J,ce){for(var te,Se=j(X,null,ce,[]),_e=X.length;_e--;)(te=Se[_e])&&(X[_e]=!(Q[_e]=te))}):function(X,Q,J){return H[0]=X,j(H,null,J,W),!W.pop()}}),has:we(function(D){return function(H){return se(D,H).length>0}}),contains:we(function(D){return D=D.replace(oe,K),function(H){return(H.textContent||H.innerText||s(H)).indexOf(D)>-1}}),lang:we(function(D){return me.test(D||"")||se.error("unsupported lang: "+D),D=D.replace(oe,K).toLowerCase(),function(H){var W;do{if(W=C?H.lang:H.getAttribute("xml:lang")||H.getAttribute("lang"))return(W=W.toLowerCase())===D||0===W.indexOf(D+"-")}while((H=H.parentNode)&&1===H.nodeType);return!1}}),target:function(D){var H=window.location&&window.location.hash;return H&&H.slice(1)===D.id},root:function(D){return D===k},focus:function(D){return D===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:function(D){return!1===D.disabled},disabled:function(D){return!0===D.disabled},checked:function(D){var H=D.nodeName.toLowerCase();return"input"===H&&!!D.checked||"option"===H&&!!D.selected},selected:function(D){return!0===D.selected},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeType<6)return!1;return!0},parent:function(D){return!h.pseudos.empty(D)},header:function(D){return Z.test(D.nodeName)},input:function(D){return G.test(D.nodeName)},button:function(D){var H=D.nodeName.toLowerCase();return"input"===H&&"button"===D.type||"button"===H},text:function(D){var H;return"input"===D.nodeName.toLowerCase()&&"text"===D.type&&(null==(H=D.getAttribute("type"))||"text"===H.toLowerCase())},first:re(function(){return[0]}),last:re(function(D,H){return[H-1]}),eq:re(function(D,H,W){return[W<0?W+H:W]}),even:re(function(D,H){for(var W=0;W<H;W+=2)D.push(W);return D}),odd:re(function(D,H){for(var W=1;W<H;W+=2)D.push(W);return D}),lt:re(function(D,H,W){for(var j=W<0?W+H:W;--j>=0;)D.push(j);return D}),gt:re(function(D,H,W){for(var j=W<0?W+H:W;++j<H;)D.push(j);return D})}}).pseudos.nth=h.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[S]=qe(S);for(S in{submit:!0,reset:!0})h.pseudos[S]=Te(S);function Ce(){}function Ae(D){for(var H=0,W=D.length,j="";H<W;H++)j+=D[H].value;return j}function Me(D,H,W){var j=H.dir,X=W&&"parentNode"===j,Q=e++;return H.first?function(J,ce,te){for(;J=J[j];)if(1===J.nodeType||X)return D(J,ce,te)}:function(J,ce,te){var Se,_e,Re=[E,Q];if(te){for(;J=J[j];)if((1===J.nodeType||X)&&D(J,ce,te))return!0}else for(;J=J[j];)if(1===J.nodeType||X){if((Se=(_e=J[n]||(J[n]={}))[j])&&Se[0]===E&&Se[1]===Q)return Re[2]=Se[2];if(_e[j]=Re,Re[2]=D(J,ce,te))return!0}}}function Le(D){return D.length>1?function(H,W,j){for(var X=D.length;X--;)if(!D[X](H,W,j))return!1;return!0}:D[0]}function Ke(D,H,W,j,X){for(var Q,J=[],ce=0,te=D.length,Se=null!=H;ce<te;ce++)(Q=D[ce])&&(!W||W(Q,j,X))&&(J.push(Q),Se&&H.push(ce));return J}function je(D,H,W,j,X,Q){return j&&!j[n]&&(j=je(j)),X&&!X[n]&&(X=je(X,Q)),we(function(J,ce,te,Se){var _e,Re,Fe,Oe=[],de=[],Ne=ce.length,xe=J||function Ye(D,H,W){for(var j=0,X=H.length;j<X;j++)se(D,H[j],W);return W}(H||"*",te.nodeType?[te]:te,[]),pe=!D||!J&&H?xe:Ke(xe,Oe,D,te,Se),le=W?X||(J?D:Ne||j)?[]:ce:pe;if(W&&W(pe,le,te,Se),j)for(_e=Ke(le,de),j(_e,[],te,Se),Re=_e.length;Re--;)(Fe=_e[Re])&&(le[de[Re]]=!(pe[de[Re]]=Fe));if(J){if(X||D){if(X){for(_e=[],Re=le.length;Re--;)(Fe=le[Re])&&_e.push(pe[Re]=Fe);X(null,le=[],_e,Se)}for(Re=le.length;Re--;)(Fe=le[Re])&&(_e=X?P.call(J,Fe):Oe[Re])>-1&&(J[_e]=!(ce[_e]=Fe))}}else le=Ke(le===ce?le.splice(Ne,le.length):le),X?X(null,ce,le,Se):M.apply(ce,le)})}function Xe(D){for(var H,W,j,X=D.length,Q=h.relative[D[0].type],J=Q||h.relative[" "],ce=Q?1:0,te=Me(function(Re){return Re===H},J,!0),Se=Me(function(Re){return P.call(H,Re)>-1},J,!0),_e=[function(Re,Fe,Oe){return!Q&&(Oe||Fe!==a)||((H=Fe).nodeType?te(Re,Fe,Oe):Se(Re,Fe,Oe))}];ce<X;ce++)if(W=h.relative[D[ce].type])_e=[Me(Le(_e),W)];else{if((W=h.filter[D[ce].type].apply(null,D[ce].matches))[n]){for(j=++ce;j<X&&!h.relative[D[j].type];j++);return je(ce>1&&Le(_e),ce>1&&Ae(D.slice(0,ce-1).concat({value:" "===D[ce-2].type?"*":""})).replace(ue,"$1"),W,ce<j&&Xe(D.slice(ce,j)),j<X&&Xe(D=D.slice(j)),j<X&&Ae(D))}_e.push(W)}return Le(_e)}return Ce.prototype=h.filters=h.pseudos,h.setFilters=new Ce,m=se.tokenize=function(D,H){var W,j,X,Q,J,ce,te,Se=w[D+" "];if(Se)return H?0:Se.slice(0);for(J=D,ce=[],te=h.preFilter;J;){for(Q in(!W||(j=ae.exec(J)))&&(j&&(J=J.slice(j[0].length)||J),ce.push(X=[])),W=!1,(j=ne.exec(J))&&(W=j.shift(),X.push({value:W,type:j[0].replace(ue," ")}),J=J.slice(W.length)),h.filter)(j=$[Q].exec(J))&&(!te[Q]||(j=te[Q](j)))&&(W=j.shift(),X.push({value:W,type:Q,matches:j}),J=J.slice(W.length));if(!W)break}return H?J.length:J?se.error(D):w(D,ce).slice(0)},r=se.compile=function(D,H){var W,j=[],X=[],Q=x[D+" "];if(!Q){for(H||(H=m(D)),W=H.length;W--;)(Q=Xe(H[W]))[n]?j.push(Q):X.push(Q);Q=x(D,function it(D,H){var W=H.length>0,j=D.length>0,X=function(Q,J,ce,te,Se){var _e,Re,Fe,Oe=0,de="0",Ne=Q&&[],xe=[],pe=a,le=Q||j&&h.find.TAG("*",Se),ge=E+=null==pe?1:Math.random()||.1,Pe=le.length;for(Se&&(a=J!==g&&J);de!==Pe&&null!=(_e=le[de]);de++){if(j&&_e){for(Re=0;Fe=D[Re++];)if(Fe(_e,J,ce)){te.push(_e);break}Se&&(E=ge)}W&&((_e=!Fe&&_e)&&Oe--,Q&&Ne.push(_e))}if(Oe+=de,W&&de!==Oe){for(Re=0;Fe=H[Re++];)Fe(Ne,xe,J,ce);if(Q){if(Oe>0)for(;de--;)Ne[de]||xe[de]||(xe[de]=O.call(te));xe=Ke(xe)}M.apply(te,xe),Se&&!Q&&xe.length>0&&Oe+H.length>1&&se.uniqueSort(te)}return Se&&(E=ge,a=pe),Ne};return W?we(X):X}(X,j)),Q.selector=D}return Q},u=se.select=function(D,H,W,j){var X,Q,J,ce,te,Se="function"==typeof D&&D,_e=!j&&m(D=Se.selector||D);if(W=W||[],1===_e.length){if((Q=_e[0]=_e[0].slice(0)).length>2&&"ID"===(J=Q[0]).type&&y.getById&&9===H.nodeType&&C&&h.relative[Q[1].type]){if(!(H=(h.find.ID(J.matches[0].replace(oe,K),H)||[])[0]))return W;Se&&(H=H.parentNode),D=D.slice(Q.shift().value.length)}for(X=$.needsContext.test(D)?0:Q.length;X--&&!h.relative[ce=(J=Q[X]).type];)if((te=h.find[ce])&&(j=te(J.matches[0].replace(oe,K),ke.test(Q[0].type)&&fe(H.parentNode)||H))){if(Q.splice(X,1),!(D=j.length&&Ae(Q)))return M.apply(W,j),W;break}}return(Se||r(D,_e))(j,H,!C,W,ke.test(D)&&fe(H.parentNode)||H),W},y.sortStable=n.split("").sort(T).join("")===n,y.detectDuplicates=!!i,c(),y.sortDetached=De(function(D){return 1&D.compareDocumentPosition(g.createElement("div"))}),De(function(D){return D.innerHTML="<a href='#'></a>","#"===D.firstChild.getAttribute("href")})||ve("type|href|height|width",function(D,H,W){if(!W)return D.getAttribute(H,"type"===H.toLowerCase()?1:2)}),(!y.attributes||!De(function(D){return D.innerHTML="<input/>",D.firstChild.setAttribute("value",""),""===D.firstChild.getAttribute("value")}))&&ve("value",function(D,H,W){if(!W&&"input"===D.nodeName.toLowerCase())return D.defaultValue}),De(function(D){return null==D.getAttribute("disabled")})||ve(B,function(D,H,W){var j;if(!W)return!0===D[H]?H.toLowerCase():(j=D.getAttributeNode(H))&&j.specified?j.value:null}),se}),V("tinymce.core.util.Arr",[],function(){var S=Array.isArray||function(i){return"[object Array]"===Object.prototype.toString.call(i)};function h(i,c,g){var k,C;if(!i)return 0;if(g=g||i,void 0!==i.length){for(k=0,C=i.length;k<C;k++)if(!1===c.call(g,i[k],k,i))return 0}else for(k in i)if(i.hasOwnProperty(k)&&!1===c.call(g,i[k],k,i))return 0;return 1}function u(i,c,g){var k,C;for(k=0,C=i.length;k<C;k++)if(c.call(g,i[k],k,i))return k;return-1}return{isArray:S,toArray:function y(i){var g,k,c=i;if(!S(i))for(c=[],g=0,k=i.length;g<k;g++)c[g]=i[g];return c},each:h,map:function s(i,c){var g=[];return h(i,function(k,C){g.push(c(k,C,i))}),g},filter:function t(i,c){var g=[];return h(i,function(k,C){(!c||c(k,C,i))&&g.push(k)}),g},indexOf:function m(i,c){var g,k;if(i)for(g=0,k=i.length;g<k;g++)if(i[g]===c)return g;return-1},reduce:function r(i,c,g,k){var C=0;for(arguments.length<3&&(g=i[0]);C<i.length;C++)g=c.call(k,g,i[C],C);return g},findIndex:u,find:function a(i,c,g){var k=u(i,c,g);if(-1!==k)return i[k]},last:function d(i){return i[i.length-1]}}}),V("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],function(S,y){var h=/^\s*|\s*$/g;function s(C){return null==C?"":(""+C).replace(h,"")}function t(C,p){return p?!("array"!=p||!y.isArray(C))||typeof C==p:void 0!==C}return{trim:s,isArray:y.isArray,is:t,toArray:y.toArray,makeMap:function m(C,p,v){var l;for(p=p||",","string"==typeof(C=C||[])&&(C=C.split(p)),v=v||{},l=C.length;l--;)v[C[l]]={};return v},each:y.each,map:y.map,grep:y.filter,inArray:y.indexOf,hasOwn:function r(C,p){return Object.prototype.hasOwnProperty.call(C,p)},extend:function a(C,p){var v,l,f,o,n=arguments;for(v=1,l=n.length;v<l;v++)for(f in p=n[v])p.hasOwnProperty(f)&&void 0!==(o=p[f])&&(C[f]=o);return C},create:function u(C,p,v){var f,n,o,E,e,l=this,b=0;if(C=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(C),o=C[3].match(/(^|\.)(\w+)$/i)[2],!(n=l.createNS(C[3].replace(/\.\w+$/,""),v))[o]){if("static"==C[2])return n[o]=p,void(this.onCreate&&this.onCreate(C[2],C[3],n[o]));p[o]||(p[o]=function(){},b=1),n[o]=p[o],l.extend(n[o].prototype,p),C[5]&&(f=l.resolve(C[5]).prototype,E=C[5].match(/\.(\w+)$/i)[1],e=n[o],n[o]=b?function(){return f[E].apply(this,arguments)}:function(){return this.parent=f[E],e.apply(this,arguments)},n[o].prototype[o]=n[o],l.each(f,function(w,x){n[o].prototype[x]=f[x]}),l.each(p,function(w,x){f[x]?n[o].prototype[x]=function(){return this.parent=f[x],w.apply(this,arguments)}:x!=o&&(n[o].prototype[x]=w)})),l.each(p.static,function(w,x){n[o][x]=w})}},walk:function d(C,p,v,l){l=l||this,C&&(v&&(C=C[v]),y.each(C,function(f,n){if(!1===p.call(l,f,n,v))return!1;d(f,p,v,l)}))},createNS:function i(C,p){var v,l;for(p=p||window,C=C.split("."),v=0;v<C.length;v++)p[l=C[v]]||(p[l]={}),p=p[l];return p},resolve:function c(C,p){var v,l;for(p=p||window,v=0,l=(C=C.split(".")).length;v<l&&(p=p[C[v]]);v++);return p},explode:function g(C,p){return!C||t(C,"array")?C:y.map(C.split(p||","),s)},_addCacheSuffix:function k(C){var p=S.cacheSuffix;return p&&(C+=(-1===C.indexOf("?")?"?":"&")+p),C}}}),V("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],function(S,y,h,s){var d,t=document,m=Array.prototype.push,r=Array.prototype.slice,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=S.Event,i=h.makeMap("children,contents,next,prev");function c(P){return void 0!==P}function g(P){return"string"==typeof P}function C(P,B){var L,z,q;for(q=(B=B||t).createElement("div"),L=B.createDocumentFragment(),q.innerHTML=P;z=q.firstChild;)L.appendChild(z);return L}function p(P,B,L,z){var q;if(g(B))B=C(B,F(P[0]));else if(B.length&&!B.nodeType){if(B=w.makeArray(B),z)for(q=B.length-1;q>=0;q--)p(P,B[q],L,z);else for(q=0;q<B.length;q++)p(P,B[q],L,z);return P}if(B.nodeType)for(q=P.length;q--;)L.call(P[q],B);return P}function v(P,B){return P&&B&&-1!==(" "+P.className+" ").indexOf(" "+B+" ")}function l(P,B,L){var z,q;return B=w(B)[0],P.each(function(){var ee=this;(!L||z!=ee.parentNode)&&(z=ee.parentNode,q=B.cloneNode(!1),ee.parentNode.insertBefore(q,ee)),q.appendChild(ee)}),P}var f=h.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),n=h.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),o={for:"htmlFor",class:"className",readonly:"readOnly"},E={float:"cssFloat"},e={},b={};function w(P,B){return new w.fn.init(P,B)}var T=/^\s*|\s*$/g;function N(P){return null===P||P===d?"":(""+P).replace(T,"")}function _(P,B){var L,z,q,ue;if(P)if(void 0===(L=P.length)){for(z in P)if(P.hasOwnProperty(z)&&!1===B.call(ue=P[z],z,ue))break}else for(q=0;q<L&&!1!==B.call(ue=P[q],q,ue);q++);return P}function A(P,B){var L=[];return _(P,function(z,q){B(q,z)&&L.push(q)}),L}function F(P){return P?9==P.nodeType?P:P.ownerDocument:t}function O(P,B,L){var z=[],q=P[B];for("string"!=typeof L&&L instanceof w&&(L=L[0]);q&&9!==q.nodeType&&(void 0===L||!(q===L||"string"==typeof L&&w(q).is(L)));)1===q.nodeType&&z.push(q),q=q[B];return z}function R(P,B,L,z){var q=[];for(z instanceof w&&(z=z[0]);P;P=P[B])if(!L||P.nodeType===L){if(void 0!==z&&(P===z||"string"==typeof z&&w(P).is(z)))break;q.push(P)}return q}function M(P,B,L){for(P=P[B];P;P=P[B])if(P.nodeType==L)return P;return null}function U(P,B,L){_(L,function(z,q){P[z]=P[z]||{},P[z][B]=q})}return w.fn=w.prototype={constructor:w,selector:"",context:null,length:0,init:function(P,B){var z,q,L=this;if(!P)return L;if(P.nodeType)return L.context=L[0]=P,L.length=1,L;if(B&&B.nodeType)L.context=B;else{if(B)return w(P).attr(B);L.context=B=document}if(g(P)){if(L.selector=P,!(z="<"===P.charAt(0)&&">"===P.charAt(P.length-1)&&P.length>=3?[null,P,null]:u.exec(P)))return w(B).find(P);if(z[1])for(q=C(P,F(B)).firstChild;q;)m.call(L,q),q=q.nextSibling;else{if(!(q=F(B).getElementById(z[2])))return L;if(q.id!==z[2])return L.find(P);L.length=1,L[0]=q}}else this.add(P,!1);return L},toArray:function(){return h.toArray(this)},add:function(P,B){var z,q,L=this;if(g(P))return L.add(w(P));if(!1!==B)for(z=w.unique(L.toArray().concat(w.makeArray(P))),L.length=z.length,q=0;q<z.length;q++)L[q]=z[q];else m.apply(L,w.makeArray(P));return L},attr:function(P,B){var z,L=this;if("object"==typeof P)_(P,function(q,ee){L.attr(q,ee)});else{if(!c(B)){if(L[0]&&1===L[0].nodeType){if((z=e[P])&&z.get)return z.get(L[0],P);if(n[P])return L.prop(P)?P:d;null===(B=L[0].getAttribute(P,2))&&(B=d)}return B}this.each(function(){var q;if(1===this.nodeType){if((q=e[P])&&q.set)return void q.set(this,B);null===B?this.removeAttribute(P,2):this.setAttribute(P,B,2)}})}return L},removeAttr:function(P){return this.attr(P,null)},prop:function(P,B){var L=this;if("object"==typeof(P=o[P]||P))_(P,function(z,q){L.prop(z,q)});else{if(!c(B))return L[0]&&L[0].nodeType&&P in L[0]?L[0][P]:B;this.each(function(){1==this.nodeType&&(this[P]=B)})}return L},css:function(P,B){var z,q,L=this;function ee(ae){return ae.replace(/-(\D)/g,function(ne,he){return he.toUpperCase()})}function ue(ae){return ae.replace(/[A-Z]/g,function(ne){return"-"+ne})}if("object"==typeof P)_(P,function(ae,ne){L.css(ae,ne)});else if(c(B))P=ee(P),"number"==typeof B&&!f[P]&&(B+="px"),L.each(function(){var ae=this.style;if((q=b[P])&&q.set)q.set(this,B);else{try{this.style[E[P]||P]=B}catch(ne){}(null===B||""===B)&&(ae.removeProperty?ae.removeProperty(ue(P)):ae.removeAttribute(P))}});else{if(z=L[0],(q=b[P])&&q.get)return q.get(z);if(z.ownerDocument.defaultView)try{return z.ownerDocument.defaultView.getComputedStyle(z,null).getPropertyValue(ue(P))}catch(ae){return d}else if(z.currentStyle)return z.currentStyle[ee(P)]}return L},remove:function(){for(var B,L=this.length;L--;)a.clean(B=this[L]),B.parentNode&&B.parentNode.removeChild(B);return this},empty:function(){for(var B,L=this.length;L--;)for(B=this[L];B.firstChild;)B.removeChild(B.firstChild);return this},html:function(P){var L,B=this;if(c(P)){L=B.length;try{for(;L--;)B[L].innerHTML=P}catch(z){w(B[L]).empty().append(P)}return B}return B[0]?B[0].innerHTML:""},text:function(P){var L,B=this;if(c(P)){for(L=B.length;L--;)"innerText"in B[L]?B[L].innerText=P:B[0].textContent=P;return B}return B[0]?B[0].innerText||B[0].textContent:""},append:function(){return p(this,arguments,function(P){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(P)})},prepend:function(){return p(this,arguments,function(P){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(P,this.firstChild)},!0)},before:function(){var P=this;return P[0]&&P[0].parentNode?p(P,arguments,function(B){this.parentNode.insertBefore(B,this)}):P},after:function(){var P=this;return P[0]&&P[0].parentNode?p(P,arguments,function(B){this.parentNode.insertBefore(B,this.nextSibling)},!0):P},appendTo:function(P){return w(P).append(this),this},prependTo:function(P){return w(P).prepend(this),this},replaceWith:function(P){return this.before(P).remove()},wrap:function(P){return l(this,P)},wrapAll:function(P){return l(this,P,!0)},wrapInner:function(P){return this.each(function(){w(this).contents().wrapAll(P)}),this},unwrap:function(){return this.parent().each(function(){w(this).replaceWith(this.childNodes)})},clone:function(){var P=[];return this.each(function(){P.push(this.cloneNode(!0))}),w(P)},addClass:function(P){return this.toggleClass(P,!0)},removeClass:function(P){return this.toggleClass(P,!1)},toggleClass:function(P,B){var L=this;return"string"!=typeof P||(-1!==P.indexOf(" ")?_(P.split(" "),function(){L.toggleClass(this,B)}):L.each(function(z,q){var ee,ue;(ue=v(q,P))!==B&&(ee=q.className,ue?q.className=N((" "+ee+" ").replace(" "+P+" "," ")):q.className+=ee?" "+P:P)})),L},hasClass:function(P){return v(this[0],P)},each:function(P){return _(this,P)},on:function(P,B){return this.each(function(){a.bind(this,P,B)})},off:function(P,B){return this.each(function(){a.unbind(this,P,B)})},trigger:function(P){return this.each(function(){"object"==typeof P?a.fire(this,P.type,P):a.fire(this,P)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new w(r.apply(this,arguments))},eq:function(P){return-1===P?this.slice(P):this.slice(P,+P+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(P){var B,L,z=[];for(B=0,L=this.length;B<L;B++)w.find(P,this[B],z);return w(z)},filter:function(P){return w("function"==typeof P?A(this.toArray(),function(B,L){return P(L,B)}):w.filter(P,this.toArray()))},closest:function(P){var B=[];return P instanceof w&&(P=P[0]),this.each(function(L,z){for(;z;){if("string"==typeof P&&w(z).is(P)){B.push(z);break}if(z==P){B.push(z);break}z=z.parentNode}}),w(B)},offset:function(P){var B,L,z,ue,q=0,ee=0;return P?this.css(P):((B=this[0])&&(z=(L=B.ownerDocument).documentElement,B.getBoundingClientRect&&(q=(ue=B.getBoundingClientRect()).left+(z.scrollLeft||L.body.scrollLeft)-z.clientLeft,ee=ue.top+(z.scrollTop||L.body.scrollTop)-z.clientTop)),{left:q,top:ee})},push:m,sort:[].sort,splice:[].splice},h.extend(w,{extend:h.extend,makeArray:function(P){return function k(P){return P&&P==P.window}(P)||P.nodeType?[P]:h.toArray(P)},inArray:function x(P,B){var L;if(B.indexOf)return B.indexOf(P);for(L=B.length;L--;)if(B[L]===P)return L;return-1},isArray:h.isArray,each:_,trim:N,grep:A,find:y,expr:y.selectors,unique:y.uniqueSort,text:y.getText,contains:y.contains,filter:function(P,B,L){var z=B.length;for(L&&(P=":not("+P+")");z--;)1!=B[z].nodeType&&B.splice(z,1);return 1===B.length?w.find.matchesSelector(B[0],P)?[B[0]]:[]:w.find.matches(P,B)}}),_({parent:function(P){var B=P.parentNode;return B&&11!==B.nodeType?B:null},parents:function(P){return O(P,"parentNode")},next:function(P){return M(P,"nextSibling",1)},prev:function(P){return M(P,"previousSibling",1)},children:function(P){return R(P.firstChild,"nextSibling",1)},contents:function(P){return h.toArray(("iframe"===P.nodeName?P.contentDocument||P.contentWindow.document:P).childNodes)}},function(P,B){w.fn[P]=function(L){var q=[];return this.each(function(){var ee=B.call(q,this,L,q);ee&&(w.isArray(ee)?q.push.apply(q,ee):q.push(ee))}),this.length>1&&(i[P]||(q=w.unique(q)),0===P.indexOf("parents")&&(q=q.reverse())),q=w(q),L?q.filter(L):q}}),_({parentsUntil:function(P,B){return O(P,"parentNode",B)},nextUntil:function(P,B){return R(P,"nextSibling",1,B).slice(1)},prevUntil:function(P,B){return R(P,"previousSibling",1,B).slice(1)}},function(P,B){w.fn[P]=function(L,z){var ee=[];return this.each(function(){var ue=B.call(ee,this,L,ee);ue&&(w.isArray(ue)?ee.push.apply(ee,ue):ee.push(ue))}),this.length>1&&(ee=w.unique(ee),(0===P.indexOf("parents")||"prevUntil"===P)&&(ee=ee.reverse())),ee=w(ee),z?ee.filter(z):ee}}),w.fn.is=function(P){return!!P&&this.filter(P).length>0},w.fn.init.prototype=w.fn,w.overrideDefaults=function(P){var B;function L(z,q){return B=B||P(),0===arguments.length&&(z=B.element),q||(q=B.context),new L.fn.init(z,q)}return w.extend(L,this),L},s.ie&&s.ie<8&&(U(e,"get",{maxlength:function(P){var B=P.maxLength;return 2147483647===B?d:B},size:function(P){var B=P.size;return 20===B?d:B},class:function(P){return P.className},style:function(P){var B=P.style.cssText;return 0===B.length?d:B}}),U(e,"set",{class:function(P,B){P.className=B},style:function(P,B){P.style.cssText=B}})),s.ie&&s.ie<9&&(E.float="styleFloat",U(b,"set",{opacity:function(P,B){var L=P.style;null===B||""===B?L.removeAttribute("filter"):(L.zoom=1,L.filter="alpha(opacity="+100*B+")")}})),w.attrHooks=e,w.cssHooks=b,w}),V("tinymce.core.html.Styles",[],function(){return function(S,y){var r,a,d,i,h=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,t=/\s*([^:]+):\s*([^;]+);?/g,m=/\s+$/,u={};for(S=S||{},y&&(d=y.getValidStyles(),i=y.getInvalidStyles()),a="\\\" \\' \\; \\: ; : \ufeff".split(" "),r=0;r<a.length;r++)u[a[r]]="\ufeff"+r,u["\ufeff"+r]=a[r];function g(k,C,p,v){function l(f){return(f=parseInt(f,10).toString(16)).length>1?f:"0"+f}return"#"+l(C)+l(p)+l(v)}return{toHex:function(k){return k.replace(h,g)},parse:function(k){var p,v,l,f,C={},n=S.url_converter,o=S.url_converter_scope||this;function E(A,F,O){var R,M,U,P;if((R=C[A+"-top"+F])&&(M=C[A+"-right"+F])&&(U=C[A+"-bottom"+F])&&(P=C[A+"-left"+F])){var B=[R,M,U,P];for(r=B.length-1;r--&&B[r]===B[r+1];);r>-1&&O||(C[A+F]=-1==r?B[0]:B.join(" "),delete C[A+"-top"+F],delete C[A+"-right"+F],delete C[A+"-bottom"+F],delete C[A+"-left"+F])}}function e(A){var O,F=C[A];if(F){for(O=(F=F.split(" ")).length;O--;)if(F[O]!==F[0])return!1;return C[A]=F[0],!0}}function w(A){return f=!0,u[A]}function x(A,F){return f&&(A=A.replace(/\uFEFF[0-9]/g,function(O){return u[O]})),F||(A=A.replace(/\\([\'\";:])/g,"$1")),A}function T(A){return String.fromCharCode(parseInt(A.slice(1),16))}function N(A){return A.replace(/\\[0-9a-f]+/gi,T)}function _(A,F,O,R,M,U){if(M=M||U)return"'"+(M=x(M)).replace(/\'/g,"\\'")+"'";if(F=x(F||O||R),!S.allow_script_urls){var P=F.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(P)||!S.allow_svg_data_urls&&/^data:image\/svg/i.test(P))return""}return n&&(F=n.call(o,F,"style")),"url('"+F.replace(/\'/g,"\\'")+"')"}if(k){for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(A){return A.replace(/[;:]/g,w)});p=t.exec(k);)if(t.lastIndex=p.index+p[0].length,v=p[1].replace(m,"").toLowerCase(),l=p[2].replace(m,""),v&&l){if(v=N(v),l=N(l),-1!==v.indexOf("\ufeff")||-1!==v.indexOf('"')||!S.allow_script_urls&&("behavior"==v||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===v&&"700"===l?l="bold":("color"===v||"background-color"===v)&&(l=l.toLowerCase()),l=(l=l.replace(h,g)).replace(s,_),C[v]=f?x(l,!0):l}E("border","",!0),E("border","-width"),E("border","-color"),E("border","-style"),E("padding",""),E("margin",""),function b(A,F,O,R){!e(F)||!e(O)||!e(R)||(C[A]=C[F]+" "+C[O]+" "+C[R],delete C[F],delete C[O],delete C[R])}("border","border-width","border-style","border-color"),"medium none"===C.border&&delete C.border,"none"===C["border-image"]&&delete C["border-image"]}return C},serialize:function(k,C){var v,l,o,e,p="";function f(o){var E,e,b,w;if(E=d[o])for(e=0,b=E.length;e<b;e++)(w=k[o=E[e]])&&(p+=(p.length>0?" ":"")+o+": "+w+";")}if(C&&d)f("*"),f(C);else for(v in k)(l=k[v])&&(!i||(o=v,e=void 0,!((e=i["*"])&&e[o]||(e=i[C],e&&e[o]))))&&(p+=(p.length>0?" ":"")+v+": "+l+";");return p}}}}),V("tinymce.core.dom.TreeWalker",[],function(){return function(S,y){var h=S;function s(m,r,u,a){var d,i;if(m){if(!a&&m[r])return m[r];if(m!=y){if(d=m[u])return d;for(i=m.parentNode;i&&i!=y;i=i.parentNode)if(d=i[u])return d}}}this.current=function(){return h},this.next=function(m){return h=s(h,"firstChild","nextSibling",m)},this.prev=function(m){return h=s(h,"lastChild","previousSibling",m)},this.prev2=function(m){return h=function t(m,r,u,a){var d,i,c;if(m){if(d=m[u],y&&d===y)return;if(d){if(!a)for(c=d[r];c;c=c[r])if(!c[r])return c;return d}if((i=m.parentNode)&&i!==y)return i}}(h,"lastChild","previousSibling",m),h}}}),V("tinymce.core.html.Entities",["tinymce.core.util.Tools"],function(S){var h,s,t,y=S.makeMap,m=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,a=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function c(k,C){var p,v,l,f={};if(k){for(k=k.split(","),C=C||10,p=0;p<k.length;p+=2)v=String.fromCharCode(parseInt(k[p],C)),s[v]||(f[v]=l="&"+k[p+1]+";",f[l]=v);return f}}s={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},t={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},h=c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var g={encodeRaw:function(k,C){return k.replace(C?m:r,function(p){return s[p]||p})},encodeAllRaw:function(k){return(""+k).replace(u,function(C){return s[C]||C})},encodeNumeric:function(k,C){return k.replace(C?m:r,function(p){return p.length>1?"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";":s[p]||"&#"+p.charCodeAt(0)+";"})},encodeNamed:function(k,C,p){return p=p||h,k.replace(C?m:r,function(v){return s[v]||p[v]||v})},getEncodeFunc:function(k,C){return C=c(C)||h,(k=y(k.replace(/\+/g,","))).named&&k.numeric?function p(l,f){return l.replace(f?m:r,function(n){return void 0!==s[n]?s[n]:void 0!==C[n]?C[n]:n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":"&#"+n.charCodeAt(0)+";"})}:k.named?C?function v(l,f){return g.encodeNamed(l,f,C)}:g.encodeNamed:k.numeric?g.encodeNumeric:g.encodeRaw},decode:function(k){return k.replace(a,function(C,p){return p?(p="x"===p.charAt(0).toLowerCase()?parseInt(p.substr(1),16):parseInt(p,10))>65535?(p-=65536,String.fromCharCode(55296+(p>>10),56320+(1023&p))):d[p]||String.fromCharCode(p):t[C]||h[C]||function i(k){var C;return(C=document.createElement("div")).innerHTML=k,C.textContent||C.innerText||k}(C)})}};return g}),V("tinymce.core.dom.Range",["tinymce.core.util.Tools"],function(S){function y(h){var s=this,t=h.doc,a=!0,d=!1,i="startOffset",c="startContainer",g="endContainer",k="endOffset",C=S.extend,p=h.nodeIndex;function v(){return t.createDocumentFragment()}function l($,G){B(a,$,G)}function f($,G){B(d,$,G)}function n($){l($.parentNode,p($))}function e($){f($.parentNode,p($)+1)}function A(){return L(1)}function M($,G){var Z;if(3==$.nodeType||G<0)return $;for(Z=$.firstChild;Z&&G>0;)--G,Z=Z.nextSibling;return Z||$}function P($,G,Z,Y){var ie,ke,ye,oe,K,se;if($==Z)return G==Y?0:G<Y?-1:1;for(ie=Z;ie&&ie.parentNode!=$;)ie=ie.parentNode;if(ie){for(ke=0,ye=$.firstChild;ye!=ie&&ke<G;)ke++,ye=ye.nextSibling;return G<=ke?-1:1}for(ie=$;ie&&ie.parentNode!=Z;)ie=ie.parentNode;if(ie){for(ke=0,ye=Z.firstChild;ye!=ie&&ke<Y;)ke++,ye=ye.nextSibling;return ke<Y?-1:1}for(oe=h.findCommonAncestor($,Z),K=$;K&&K.parentNode!=oe;)K=K.parentNode;for(K||(K=oe),se=Z;se&&se.parentNode!=oe;)se=se.parentNode;if(se||(se=oe),K==se)return 0;for(ye=oe.firstChild;ye;){if(ye==K)return-1;if(ye==se)return 1;ye=ye.nextSibling}}function B($,G,Z){var Y,ie;for($?(s[c]=G,s[i]=Z):(s[g]=G,s[k]=Z),Y=s[g];Y.parentNode;)Y=Y.parentNode;for(ie=s[c];ie.parentNode;)ie=ie.parentNode;ie==Y?P(s[c],s[i],s[g],s[k])>0&&s.collapse($):s.collapse($),s.collapsed=function U(){return s[c]==s[g]&&s[i]==s[k]}(),s.commonAncestorContainer=h.findCommonAncestor(s[c],s[g])}function L($){var G,ie,ke,ye,oe,K,se,Z=0,Y=0;if(s[c]==s[g])return function z($){var G,Y,ie,ke,ye,oe,K,se;if(2!=$&&(G=v()),s[i]==s[k])return G;if(3==s[c].nodeType)return Y=s[c].nodeValue.substring(s[i],s[k]),1!=$&&(ie=s[c],se=s[k]-s[i],0===(K=s[i])&&se>=ie.nodeValue.length-1?ie.parentNode.removeChild(ie):ie.deleteData(K,se),s.collapse(a)),2==$?void 0:(Y.length>0&&G.appendChild(t.createTextNode(Y)),G);for(ie=M(s[c],s[i]),ke=s[k]-s[i];ie&&ke>0;)ye=ie.nextSibling,oe=Ee(ie,$),G&&G.appendChild(oe),--ke,ie=ye;return 1!=$&&s.collapse(a),G}($);for(ie=(G=s[g]).parentNode;ie;G=ie,ie=ie.parentNode){if(ie==s[c])return q(G,$);++Z}for(ie=(G=s[c]).parentNode;ie;G=ie,ie=ie.parentNode){if(ie==s[g])return ee(G,$);++Y}for(ke=Y-Z,ye=s[c];ke>0;)ye=ye.parentNode,ke--;for(oe=s[g];ke<0;)oe=oe.parentNode,ke++;for(K=ye.parentNode,se=oe.parentNode;K!=se;K=K.parentNode,se=se.parentNode)ye=K,oe=se;return function ue($,G,Z){var Y,ie,ke,oe,K,se;for(2!=Z&&(ie=v()),Y=ne($,Z),ie&&ie.appendChild(Y),ke=p($),oe=p(G)-++ke,K=$.nextSibling;oe>0;)se=K.nextSibling,Y=Ee(K,Z),ie&&ie.appendChild(Y),K=se,--oe;return Y=ae(G,Z),ie&&ie.appendChild(Y),1!=Z&&(s.setStartAfter($),s.collapse(a)),ie}(ye,oe,$)}function q($,G){var Z,Y,ke,ye,oe;if(2!=G&&(Z=v()),Y=ae($,G),Z&&Z.appendChild(Y),(ke=p($)-s[i])<=0)return 1!=G&&(s.setEndBefore($),s.collapse(d)),Z;for(Y=$.previousSibling;ke>0;)ye=Y.previousSibling,oe=Ee(Y,G),Z&&Z.insertBefore(oe,Z.firstChild),--ke,Y=ye;return 1!=G&&(s.setEndBefore($),s.collapse(d)),Z}function ee($,G){var Z,Y,ie,ke,ye,oe;for(2!=G&&(Z=v()),ie=ne($,G),Z&&Z.appendChild(ie),Y=p($),++Y,ke=s[k]-Y,ie=$.nextSibling;ie&&ke>0;)ye=ie.nextSibling,oe=Ee(ie,G),Z&&Z.appendChild(oe),--ke,ie=ye;return 1!=G&&(s.setStartAfter($),s.collapse(a)),Z}function ae($,G){var Y,ie,ke,ye,oe,Z=M(s[g],s[k]-1),K=Z!=s[g];if(Z==$)return he(Z,K,d,G);for(ie=he(Y=Z.parentNode,d,d,G);Y;){for(;Z;)ke=Z.previousSibling,ye=he(Z,K,d,G),2!=G&&ie.insertBefore(ye,ie.firstChild),K=a,Z=ke;if(Y==$)return ie;Z=Y.previousSibling,oe=he(Y=Y.parentNode,d,d,G),2!=G&&oe.appendChild(ie),ie=oe}}function ne($,G){var ie,ke,ye,oe,K,Z=M(s[c],s[i]),Y=Z!=s[c];if(Z==$)return he(Z,Y,a,G);for(ke=he(ie=Z.parentNode,d,a,G);ie;){for(;Z;)ye=Z.nextSibling,oe=he(Z,Y,a,G),2!=G&&ke.appendChild(oe),Y=a,Z=ye;if(ie==$)return ke;Z=ie.nextSibling,K=he(ie=ie.parentNode,d,a,G),2!=G&&K.appendChild(ke),ke=K}}function he($,G,Z,Y){var ie,ke,ye,oe,K;return G?Ee($,Y):3==$.nodeType?(ie=$.nodeValue,Z?(ke=ie.substring(oe=s[i]),ye=ie.substring(0,oe)):(ke=ie.substring(0,oe=s[k]),ye=ie.substring(oe)),1!=Y&&($.nodeValue=ye),2==Y?void 0:((K=h.clone($,d)).nodeValue=ke,K)):2!=Y?h.clone($,d):void 0}function Ee($,G){if(2!=G)return 1==G?h.clone($,a):$;$.parentNode.removeChild($)}return C(s,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:a,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:l,setEnd:f,setStartBefore:n,setStartAfter:function o($){l($.parentNode,p($)+1)},setEndBefore:function E($){f($.parentNode,p($))},setEndAfter:e,collapse:function b($){$?(s[g]=s[c],s[k]=s[i]):(s[c]=s[g],s[i]=s[k]),s.collapsed=a},selectNode:function w($){n($),e($)},selectNodeContents:function x($){l($,0),f($,1===$.nodeType?$.childNodes.length:$.nodeValue.length)},compareBoundaryPoints:function T($,G){var Z=s[c],Y=s[i],ie=s[g],ke=s[k],ye=G.startContainer,oe=G.startOffset,K=G.endContainer,se=G.endOffset;return 0===$?P(Z,Y,ye,oe):1===$?P(ie,ke,ye,oe):2===$?P(ie,ke,K,se):3===$?P(Z,Y,K,se):void 0},deleteContents:function N(){L(2)},extractContents:function _(){return L(0)},cloneContents:A,insertNode:function F($){var Y,ie,G=this[c],Z=this[i];3!==G.nodeType&&4!==G.nodeType||!G.nodeValue?(G.childNodes.length>0&&(ie=G.childNodes[Z]),ie?G.insertBefore($,ie):3==G.nodeType?h.insertAfter($,G):G.appendChild($)):Z?Z>=G.nodeValue.length?h.insertAfter($,G):(Y=G.splitText(Z),G.parentNode.insertBefore($,Y)):G.parentNode.insertBefore($,G)},surroundContents:function O($){var G=s.extractContents();s.insertNode($),$.appendChild(G),s.selectNode($)},cloneRange:function R(){return C(new y(h),{startContainer:s[c],startOffset:s[i],endContainer:s[g],endOffset:s[k],collapsed:s.collapsed,commonAncestorContainer:s.commonAncestorContainer})},toStringIE:function me(){return h.create("body",null,A()).outerText}}),s}return y.prototype.toString=function(){return this.toStringIE()},y}),et("global!Array",Array),et("global!Error",Error),V("ephox.katamari.api.Fun",["global!Array","global!Error"],function(S,y){var t=function(C){return function(){return C}},g=t(!1),k=t(!0);return{noop:function(){},compose:function(C,p){return function(){return C(p.apply(null,arguments))}},constant:t,identity:function(C){return C},tripleEquals:function(C,p){return C===p},curry:function(C){for(var p=new S(arguments.length-1),v=1;v<arguments.length;v++)p[v-1]=arguments[v];return function(){for(var l=new S(arguments.length),f=0;f<l.length;f++)l[f]=arguments[f];var n=p.concat(l);return C.apply(null,n)}},not:function(C){return function(){return!C.apply(null,arguments)}},die:function(C){return function(){throw new y(C)}},apply:function(C){return C()},call:function(C){C()},never:g,always:k}}),et("global!Object",Object),V("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(S,y){var a,d,i,g,h=S.never,s=S.always,t=function(){return m},m=(g={fold:function(k,C){return k()},is:h,isSome:h,isNone:s,getOr:i=function(k){return k},getOrThunk:d=function(k){return k()},getOrDie:function(k){throw new Error(k||"error: getOrDie called on none.")},or:i,orThunk:d,map:t,ap:t,each:function(){},bind:t,flatten:t,exists:h,forall:s,filter:t,equals:a=function(k){return k.isNone()},equals_:a,toArray:function(){return[]},toString:S.constant("none()")},y.freeze&&y.freeze(g),g),r=function(a){var d=function(){return a},i=function(){return k},g=function(C){return C(a)},k={fold:function(C,p){return p(a)},is:function(C){return a===C},isSome:s,isNone:h,getOr:d,getOrThunk:d,getOrDie:d,or:i,orThunk:i,map:function(C){return r(C(a))},ap:function(C){return C.fold(t,function(p){return r(p(a))})},each:function(C){C(a)},bind:g,flatten:d,exists:g,forall:g,filter:function(C){return C(a)?k:m},equals:function(C){return C.is(a)},equals_:function(C,p){return C.fold(h,function(v){return p(a,v)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return k};return{some:r,none:t,from:function(a){return null==a?m:r(a)}}}),et("global!String",String),V("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(S,y,h,s){var R,t=void 0===(R=y.prototype.indexOf)?function(P,B){return o(P,B)}:function(P,B){return R.call(P,B)},r=function(R,M){return t(R,M)>-1},i=function(R,M){for(var U=R.length,P=new y(U),B=0;B<U;B++)P[B]=M(R[B],B,R);return P},c=function(R,M){for(var U=0,P=R.length;U<P;U++)M(R[U],U,R)},g=function(R,M){for(var U=R.length-1;U>=0;U--)M(R[U],U,R)},C=function(R,M){for(var U=[],P=0,B=R.length;P<B;P++){var L=R[P];M(L,P,R)&&U.push(L)}return U},n=function(R,M){for(var U=0,P=R.length;U<P;U++)if(M(R[U],U,R))return S.some(U);return S.none()},o=function(R,M){for(var U=0,P=R.length;U<P;++U)if(R[U]===M)return U;return-1},E=y.prototype.push,e=function(R){for(var M=[],U=0,P=R.length;U<P;++U){if(!y.prototype.isPrototypeOf(R[U]))throw new h("Arr.flatten item "+U+" was not an array, input: "+R);E.apply(M,R[U])}return M},w=function(R,M){for(var U=0,P=R.length;U<P;++U)if(!0!==M(R[U],U,R))return!1;return!0},T=y.prototype.slice;return{map:i,each:c,eachr:g,partition:function(R,M){for(var U=[],P=[],B=0,L=R.length;B<L;B++){var z=R[B];(M(z,B,R)?U:P).push(z)}return{pass:U,fail:P}},filter:C,groupBy:function(R,M){if(0===R.length)return[];for(var U=M(R[0]),P=[],B=[],L=0,z=R.length;L<z;L++){var q=R[L],ee=M(q);ee!==U&&(P.push(B),B=[]),U=ee,B.push(q)}return 0!==B.length&&P.push(B),P},indexOf:function(R,M){var U=t(R,M);return-1===U?S.none():S.some(U)},foldr:function(R,M,U){return g(R,function(P){U=M(U,P)}),U},foldl:function(R,M,U){return c(R,function(P){U=M(U,P)}),U},find:function(R,M){for(var U=0,P=R.length;U<P;U++){var B=R[U];if(M(B,U,R))return S.some(B)}return S.none()},findIndex:n,flatten:e,bind:function(R,M){var U=i(R,M);return e(U)},forall:w,exists:function(R,M){return n(R,M).isSome()},contains:r,equal:function(R,M){return R.length===M.length&&w(R,function(U,P){return U===M[P]})},reverse:function(R){var M=T.call(R,0);return M.reverse(),M},chunk:function(R,M){for(var U=[],P=0;P<R.length;P+=M){var B=R.slice(P,P+M);U.push(B)}return U},difference:function(R,M){return C(R,function(U){return!r(M,U)})},mapToObject:function(R,M){for(var U={},P=0,B=R.length;P<B;P++){var L=R[P];U[s(L)]=M(L,P)}return U},pure:function(R){return[R]},sort:function(R,M){var U=T.call(R,0);return U.sort(M),U},range:function(R,M){for(var U=[],P=0;P<R;P++)U.push(M(P));return U}}}),et("global!setTimeout",setTimeout),V("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(S,y,h){var s=function(m){var r=y.none(),u=[],d=function(C){c()?k(C):u.push(C)},c=function(){return r.isSome()},k=function(C){r.each(function(p){h(function(){C(p)},0)})};return m(function(C){r=y.some(C),function(C){S.each(C,k)}(u),u=[]}),{get:d,map:function(C){return s(function(p){d(function(v){p(C(v))})})},isReady:c}};return{nu:s,pure:function(m){return s(function(r){r(m)})}}}),V("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(S,y){return{bounce:function(s){return function(){var t=S.prototype.slice.call(arguments),m=this;y(function(){s.apply(m,t)},0)}}}}),V("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(S,y){var h=function(t){var m=function(i){t(y.bounce(i))};return{map:function(i){return h(function(c){m(function(g){var k=i(g);c(k)})})},bind:function(i){return h(function(c){m(function(g){i(g).get(c)})})},anonBind:function(i){return h(function(c){m(function(g){i.get(c)})})},toLazy:function(){return S.nu(m)},get:m}};return{nu:h,pure:function(t){return h(function(m){m(t)})}}}),V("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(S){return{par:function(h,s){return s(function(t){var m=[],r=0;0===h.length?t([]):S.each(h,function(a,d){a.get(function(a){return function(d){m[a]=d,++r>=h.length&&t(m)}}(d))})})}}}),V("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(S,y,h){var s=function(r){return h.par(r,y.nu)};return{par:s,mapM:function(r,u){var a=S.map(r,u);return s(a)},compose:function(r,u){return function(a){return u(a).bind(r)}}}}),V("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(S,y){var h=function(t){return{is:function(p){return t===p},isValue:S.constant(!0),isError:S.constant(!1),getOr:S.constant(t),getOrThunk:S.constant(t),getOrDie:S.constant(t),or:function(p){return h(t)},orThunk:function(p){return h(t)},fold:function(p,v){return v(t)},map:function(p){return h(p(t))},each:function(p){p(t)},bind:function(p){return p(t)},exists:function(p){return p(t)},forall:function(p){return p(t)},toOption:function(){return y.some(t)}}},s=function(t){return{is:S.constant(!1),isValue:S.constant(!1),isError:S.constant(!0),getOr:S.identity,getOrThunk:function(g){return g()},getOrDie:function(){return S.die(t)()},or:function(g){return g},orThunk:function(g){return g()},fold:function(g,k){return g(t)},map:function(g){return s(t)},each:S.noop,bind:function(g){return s(t)},exists:S.constant(!1),forall:S.constant(!0),toOption:y.none}};return{value:h,error:s}}),V("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r){"use strict";return function(u,a){var c,d=0,i={};function g(l){u.getElementsByTagName("head")[0].appendChild(l)}function k(l,f,n){var o,E,e,b;function w(){for(var F=b.passed,O=F.length;O--;)F[O]();b.status=2,b.passed=[],b.failed=[]}function x(){for(var F=b.failed,O=F.length;O--;)F[O]();b.status=3,b.passed=[],b.failed=[]}function N(F,O){F()||((new Date).getTime()-e<c?m.setTimeout(O):x())}function _(){N(function(){for(var O,M,F=u.styleSheets,R=F.length;R--;)if((M=(O=F[R]).ownerNode?O.ownerNode:O.owningElement)&&M.id===o.id)return w(),!0},_)}if(l=r._addCacheSuffix(l),i[l]?b=i[l]:i[l]=b={passed:[],failed:[]},f&&b.passed.push(f),n&&b.failed.push(n),1!=b.status){if(2==b.status)return void w();if(3==b.status)return void x();if(b.status=1,(o=u.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+d++,o.async=!1,o.defer=!1,e=(new Date).getTime(),"onload"in o&&!function T(){var F=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(F&&F[1]<536)}())o.onload=_,o.onerror=x;else{if(navigator.userAgent.indexOf("Firefox")>0)return(E=u.createElement("style")).textContent='@import "'+l+'"',function A(){N(function(){try{var F=E.sheet.cssRules;return w(),!!F}catch(O){}},A)}(),void g(E);_()}g(o),o.href=l}}c=(a=a||{}).maxLoadTime||5e3;var C=function(l){return h.nu(function(f){k(l,y.compose(f,y.constant(t.value(l))),y.compose(f,y.constant(t.error(l))))})},p=function(l){return l.fold(y.identity,y.identity)};return{load:k,loadAll:function(l,f,n){s.par(S.map(l,C)).get(function(o){var E=S.partition(o,function(e){return e.isValue()});E.fail.length>0?n(E.fail.map(p)):f(E.pass.map(p))})}}}}),V("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(S){var y={},h={},s=S.makeMap,t=S.each,m=S.extend,r=S.explode,u=S.inArray;function a(c,g){return(c=S.trim(c))?c.split(g||" "):[]}function i(c,g){var k;return c&&(k={},"string"==typeof c&&(c={"*":c}),t(c,function(C,p){k[p]=k[p.toUpperCase()]="map"==g?s(C,/[, ]/):r(C,/[, ]/)})),k}return function(c){var v,l,f,n,o,E,e,b,w,x,T,N,_,g=this,k={},C={},p=[],A={},F={};function O(z,q,ee){var ue=c[z];return ue?ue=s(ue,/[, ]/,s(ue.toUpperCase(),/[, ]/)):(ue=y[z])||(ue=s(q," ",s(q.toUpperCase()," ")),ue=m(ue,ee),y[z]=ue),ue}function R(z){return new RegExp("^"+z.replace(/([?+*])/g,".$1")+"$")}function M(z){var q,ee,ue,ae,ne,he,Ee,me,$,G,Z,Y,ie,ke,ye,oe,K,se,be,we=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,De=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ve=/[*?+]/;if(z)for(z=a(z,","),k["@"]&&(oe=k["@"].attributes,K=k["@"].attributesOrder),q=0,ee=z.length;q<ee;q++)if(ne=we.exec(z[q])){if($=ne[2],ye=ne[3],me=ne[5],he={attributes:Y={},attributesOrder:ie=[]},"#"===(ke=ne[1])&&(he.paddEmpty=!0),"-"===ke&&(he.removeEmpty=!0),"!"===ne[4]&&(he.removeEmptyAttrs=!0),oe){for(se in oe)Y[se]=oe[se];ie.push.apply(ie,K)}if(me)for(ue=0,ae=(me=a(me,"|")).length;ue<ae;ue++)if(ne=De.exec(me[ue])){if(Ee={},Z=ne[1],G=ne[2].replace(/::/g,":"),ke=ne[3],be=ne[4],"!"===Z&&(he.attributesRequired=he.attributesRequired||[],he.attributesRequired.push(G),Ee.required=!0),"-"===Z){delete Y[G],ie.splice(u(ie,G),1);continue}ke&&("="===ke&&(he.attributesDefault=he.attributesDefault||[],he.attributesDefault.push({name:G,value:be}),Ee.defaultValue=be),":"===ke&&(he.attributesForced=he.attributesForced||[],he.attributesForced.push({name:G,value:be}),Ee.forcedValue=be),"<"===ke&&(Ee.validValues=s(be,"?"))),ve.test(G)?(he.attributePatterns=he.attributePatterns||[],Ee.pattern=R(G),he.attributePatterns.push(Ee)):(Y[G]||ie.push(G),Y[G]=Ee)}!oe&&"@"==$&&(oe=Y,K=ie),ye&&(he.outputName=$,k[ye]=he),ve.test($)?(he.pattern=R($),p.push(he)):k[$]=he}}function U(z){k={},p=[],M(z),t(f,function(q,ee){C[ee]=q.children})}function P(z){var q=/^(~)?(.+)$/;z&&(y.text_block_elements=y.block_elements=null,t(a(z,","),function(ee){var ue=q.exec(ee),ae="~"===ue[1],ne=ae?"span":"div",he=ue[2];if(C[he]=C[ne],A[he]=ne,ae||(w[he.toUpperCase()]={},w[he]={}),!k[he]){var Ee=k[ne];delete(Ee=m({},Ee)).removeEmptyAttrs,delete Ee.removeEmpty,k[he]=Ee}t(C,function(me,$){me[ne]&&(C[$]=me=m({},C[$]),me[he]=me[ne])})}))}function B(z){var q=/^([+\-]?)(\w+)\[([^\]]+)\]$/;y[c.schema]=null,z&&t(a(z,","),function(ee){var ae,ne,ue=q.exec(ee);ue&&(ae=(ne=ue[1])?C[ue[2]]:C[ue[2]]={"#comment":{}},ae=C[ue[2]],t(a(ue[3],"|"),function(he){"-"===ne?delete ae[he]:ae[he]={}}))})}function L(z){var ee,q=k[z];if(q)return q;for(ee=p.length;ee--;)if((q=p[ee]).pattern.test(z))return q}f=function d(c){var k,C,p,v,l,f,g={};function n(E,e,b){var w,x,T;function N(_,A){var O,R,F={};for(O=0,R=_.length;O<R;O++)F[_[O]]=A||{};return F}for(e=e||"","string"==typeof(b=b||[])&&(b=a(b)),w=(E=a(E)).length;w--;)T={attributes:N(x=a([k,e].join(" "))),attributesOrder:x,children:N(b,h)},g[E[w]]=T}function o(E,e){var b,w,x,T;for(b=(E=a(E)).length,e=a(e);b--;)for(w=g[E[b]],x=0,T=e.length;x<T;x++)w.attributes[e[x]]={},w.attributesOrder.push(e[x])}return y[c]?y[c]:(k="id accesskey class dir lang style tabindex title role",C="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",p="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=c&&(k+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",C+=" article aside details dialog figure header footer hgroup section nav",p+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=c&&(k+=" xml:lang",p=[p,f="acronym applet basefont big font strike tt"].join(" "),t(a(f),function(E){n(E,"",p)}),C=[C,l="center dir isindex noframes"].join(" "),v=[C,p].join(" "),t(a(l),function(E){n(E,"",v)})),v=v||[C,p].join(" "),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),n("address dt dd div caption","",v),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",p),n("blockquote","cite",v),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",v),n("dl","","dt dd"),n("a","href target rel media hreflang type",p),n("q","cite",p),n("ins del","cite datetime",v),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",v),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),n("param","name value"),n("map","name",[v,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==c?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",v),n("th","colspan rowspan headers scope abbr",v),n("form","accept-charset action autocomplete enctype method name novalidate target",v),n("fieldset","disabled form name",[v,"legend"].join(" ")),n("label","form for",p),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==c?v:p),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[v,"li"].join(" ")),n("noscript","",v),"html4"!=c&&(n("wbr"),n("ruby","",[p,"rt rp"].join(" ")),n("figcaption","",v),n("mark rt rp summary bdi","",p),n("canvas","width height",v),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[p,"option"].join(" ")),n("article section nav aside header footer","",v),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[v,"figcaption"].join(" ")),n("time","datetime",p),n("dialog","open",v),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",p),n("progress","value max",p),n("meter","value min max low high optimum",p),n("details","open",[v,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=c&&(o("script","language xml:space"),o("style","xml:space"),o("object","declare classid code codebase codetype archive standby align border hspace vspace"),o("embed","align name hspace vspace"),o("param","valuetype type"),o("a","charset name rev shape coords"),o("br","clear"),o("applet","codebase archive code object alt name width height align hspace vspace"),o("img","name longdesc align border hspace vspace"),o("iframe","longdesc frameborder marginwidth marginheight scrolling align"),o("font basefont","size color face"),o("input","usemap align"),o("select","onchange"),o("textarea"),o("h1 h2 h3 h4 h5 h6 div p legend caption","align"),o("ul","type compact"),o("li","type"),o("ol dl menu dir","compact"),o("pre","width xml:space"),o("hr","align noshade size width"),o("isindex","prompt"),o("table","summary width frame rules cellspacing cellpadding align bgcolor"),o("col","width align char charoff valign"),o("colgroup","width align char charoff valign"),o("thead","align char charoff valign"),o("tr","align char charoff valign bgcolor"),o("th","axis align char charoff valign nowrap bgcolor width height"),o("form","accept"),o("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),o("tfoot","align char charoff valign"),o("tbody","align char charoff valign"),o("area","nohref"),o("body","background bgcolor text link vlink alink")),"html4"!=c&&(o("input button select textarea","autofocus"),o("input textarea","placeholder"),o("a","download"),o("link script img","crossorigin"),o("iframe","sandbox seamless allowfullscreen")),t(a("a form meter progress dfn"),function(E){g[E]&&delete g[E].children[E]}),delete g.caption.children.table,delete g.script,y[c]=g,g)}((c=c||{}).schema),!1===c.verify_html&&(c.valid_elements="*[*]"),v=i(c.valid_styles),l=i(c.invalid_styles,"map"),b=i(c.valid_classes,"map"),n=O("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),E=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),e=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),x=O("non_empty_elements","td th iframe video audio object script pre code",E),T=O("move_caret_before_on_enter_elements","table",x),N=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",N),_=O("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),t((c.special||"script noscript style textarea").split(" "),function(z){F[z]=new RegExp("</"+z+"[^>]*>","gi")}),c.valid_elements?U(c.valid_elements):(t(f,function(z,q){k[q]={attributes:z.attributes,attributesOrder:z.attributesOrder},C[q]=z.children}),"html5"!=c.schema&&t(a("strong/b em/i"),function(z){z=a(z,"/"),k[z[1]].outputName=z[0]}),t(a("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(z){k[z]&&(k[z].removeEmpty=!0)}),t(a("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(z){k[z].paddEmpty=!0}),t(a("span"),function(z){k[z].removeEmptyAttrs=!0})),P(c.custom_elements),B(c.valid_children),M(c.extended_valid_elements),B("+ol[ul|ol],+ul[ul|ol]"),t({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(z,q){k[q]&&(k[q].parentsRequired=a(z))}),c.invalid_elements&&t(r(c.invalid_elements),function(z){k[z]&&delete k[z]}),L("span")||M("span[!data-mce-type|*]"),g.children=C,g.getValidStyles=function(){return v},g.getInvalidStyles=function(){return l},g.getValidClasses=function(){return b},g.getBoolAttrs=function(){return e},g.getBlockElements=function(){return w},g.getTextBlockElements=function(){return N},g.getTextInlineElements=function(){return _},g.getShortEndedElements=function(){return E},g.getSelfClosingElements=function(){return o},g.getNonEmptyElements=function(){return x},g.getMoveCaretBeforeOnEnterElements=function(){return T},g.getWhiteSpaceElements=function(){return n},g.getSpecialElements=function(){return F},g.isValidChild=function(z,q){var ee=C[z.toLowerCase()];return!(!ee||!ee[q.toLowerCase()])},g.isValid=function(z,q){var ee,ue,ae=L(z);if(ae){if(!q)return!0;if(ae.attributes[q])return!0;if(ee=ae.attributePatterns)for(ue=ee.length;ue--;)if(ee[ue].pattern.test(z))return!0}return!1},g.getElementRule=L,g.getCustomElements=function(){return A},g.addValidElements=M,g.setValidElements=U,g.addCustomElements=P,g.addValidChildren=B,g.elements=k}}),V("tinymce.core.dom.DOMUtils",["tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Range","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r,u,a,d,i){var c=i.each,g=i.is,k=i.grep,C=i.trim,p=r.ie,v=/^([a-z0-9],?)+$/i,l=/^[ \t\r\n]*$/;function n(e,b){var w=b.attr("style");(w=e.serializeStyle(e.parseStyle(w),b[0].nodeName))||(w=null),b.attr("data-mce-style",w)}function o(e,b){var x,T,w=0;if(e)for(x=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)T=e.nodeType,(!b||3!=T||T!=x&&e.nodeValue.length)&&(w++,x=T);return w}function E(e,b){var x,w=this;w.doc=e,w.win=window,w.files={},w.counter=0,w.stdMode=!p||e.documentMode>=8,w.boxModel=!p||"CSS1Compat"==e.compatMode||w.stdMode,w.styleSheetLoader=new t(e),w.boundEvents=[],w.settings=b=b||{},w.schema=b.schema?b.schema:new a({}),w.styles=new d({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),w.fixDoc(e),w.events=b.ownEvents?new y(b.proxy):y.Event,w.attrHooks=function f(e,b){var w={},x=b.keep_values;return w={style:{set:function(N,_){null===_||"object"!=typeof _?(x&&N.attr("data-mce-style",_),N.attr("style",_)):N.css(_)},get:function(N){var _=N.attr("data-mce-style")||N.attr("style");return e.serializeStyle(e.parseStyle(_),N[0].nodeName)}}},x&&(w.href=w.src={set:function(N,_,A){b.url_converter&&(_=b.url_converter.call(b.url_converter_scope||e,_,A,N[0])),N.attr("data-mce-"+A,_).attr(A,_)},get:function(N,_){return N.attr("data-mce-"+_)||N.attr(_)}}),w}(w,b),x=b.schema?b.schema.getBlockElements():{},w.$=S.overrideDefaults(function(){return{context:e,element:w.getRoot()}}),w.isBlock=function(T){if(!T)return!1;var N=T.nodeType;return N?!(1!==N||!x[T.nodeName]):!!x[T]}}return E.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var w,b=this.settings;if(p&&b.schema)for(w in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(x){e.createElement(x)}),b.schema.getCustomElements())e.createElement(w)},clone:function(e,b){var x,w=this;return!p||1!==e.nodeType||b?e.cloneNode(b):b?x.firstChild:(x=w.doc.createElement(e.nodeName),c(w.getAttribs(e),function(N){w.setAttrib(x,N.nodeName,w.getAttrib(e,N.nodeName))}),x)},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var b,w;return b=(e=e||this.win).document,w=this.boxModel?b.documentElement:b.body,{x:e.pageXOffset||w.scrollLeft,y:e.pageYOffset||w.scrollTop,w:e.innerWidth||w.clientWidth,h:e.innerHeight||w.clientHeight}},getRect:function(e){var w,x,b=this;return e=b.get(e),w=b.getPos(e),x=b.getSize(e),{x:w.x,y:w.y,w:x.w,h:x.h}},getSize:function(e){var w,x,b=this;return e=b.get(e),w=b.getStyle(e,"width"),x=b.getStyle(e,"height"),-1===w.indexOf("px")&&(w=0),-1===x.indexOf("px")&&(x=0),{w:parseInt(w,10)||e.offsetWidth||e.clientWidth,h:parseInt(x,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,b,w){return this.getParents(e,b,w,!1)},getParents:function(e,b,w,x){var N,T=this,_=[];for(e=T.get(e),x=void 0===x,w=w||("BODY"!=T.getRoot().nodeName?T.getRoot().parentNode:null),g(b,"string")&&(N=b,b="*"===b?function(A){return 1==A.nodeType}:function(A){return T.is(A,N)});e&&e!=w&&e.nodeType&&9!==e.nodeType;){if(!b||b(e)){if(!x)return e;_.push(e)}e=e.parentNode}return x?_:null},get:function(e){var b;return e&&this.doc&&"string"==typeof e&&(b=e,(e=this.doc.getElementById(e))&&e.id!==b)?this.doc.getElementsByName(b)[1]:e},getNext:function(e,b){return this._findSib(e,b,"nextSibling")},getPrev:function(e,b){return this._findSib(e,b,"previousSibling")},select:function(e,b){var w=this;return s(e,w.get(b)||w.settings.root_element||w.doc,[])},is:function(e,b){var w;if(!e)return!1;if(void 0===e.length){if("*"===b)return 1==e.nodeType;if(v.test(b)){for(b=b.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),w=b.length-1;w>=0;w--)if(b[w]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var x=e.nodeType?[e]:e;return s(b,x[0].ownerDocument||x[0],null,x).length>0},add:function(e,b,w,x,T){var N=this;return this.run(e,function(_){var A;return A=g(b,"string")?N.doc.createElement(b):b,N.setAttribs(A,w),x&&(x.nodeType?A.appendChild(x):N.setHTML(A,x)),T?A:_.appendChild(A)})},create:function(e,b,w){return this.add(this.doc.createElement(e),e,b,w,1)},createHTML:function(e,b,w){var T,x="";for(T in x+="<"+e,b)b.hasOwnProperty(T)&&null!=b[T]&&(x+=" "+T+'="'+this.encode(b[T])+'"');return void 0!==w?x+">"+w+"</"+e+">":x+" />"},createFragment:function(e){var b,w,T,x=this.doc;for(T=x.createElement("div"),b=x.createDocumentFragment(),e&&(T.innerHTML=e);w=T.firstChild;)b.appendChild(w);return b},remove:function(e,b){return e=this.$$(e),b?e.each(function(){for(var w;w=this.firstChild;)3==w.nodeType&&0===w.data.length?this.removeChild(w):this.parentNode.insertBefore(w,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,b,w){e=this.$$(e).css(b,w),this.settings.update_styles&&n(this,e)},getStyle:function(e,b,w){return e=this.$$(e),w?e.css(b):("float"==(b=b.replace(/-(\D)/g,function(x,T){return T.toUpperCase()}))&&(b=r.ie&&r.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[b]:void 0)},setStyles:function(e,b){e=this.$$(e).css(b),this.settings.update_styles&&n(this,e)},removeAllAttribs:function(e){return this.run(e,function(b){var w,x=b.attributes;for(w=x.length-1;w>=0;w--)b.removeAttributeNode(x.item(w))})},setAttrib:function(e,b,w){var T,N,x=this,_=x.settings;""===w&&(w=null),T=(e=x.$$(e)).attr(b),e.length&&((N=x.attrHooks[b])&&N.set?N.set(e,w,b):e.attr(b,w),T!=w&&_.onSetAttrib&&_.onSetAttrib({attrElm:e,attrName:b,attrValue:w}))},setAttribs:function(e,b){var w=this;w.$$(e).each(function(x,T){c(b,function(N,_){w.setAttrib(T,_,N)})})},getAttrib:function(e,b,w){var T,N;return(e=this.$$(e)).length&&(N=(T=this.attrHooks[b])&&T.get?T.get(e,b):e.attr(b)),void 0===N&&(N=w||""),N},getPos:function(e,b){var N,F,w=this,x=0,T=0,_=w.doc,A=_.body;if(b=b||A,e=w.get(e)){if(b===A&&e.getBoundingClientRect&&"static"===S(A).css("position"))return{x:x=(F=e.getBoundingClientRect()).left+(_.documentElement.scrollLeft||A.scrollLeft)-(b=w.boxModel?_.documentElement:A).clientLeft,y:T=F.top+(_.documentElement.scrollTop||A.scrollTop)-b.clientTop};for(N=e;N&&N!=b&&N.nodeType;)x+=N.offsetLeft||0,T+=N.offsetTop||0,N=N.offsetParent;for(N=e.parentNode;N&&N!=b&&N.nodeType;)x-=N.scrollLeft||0,T-=N.scrollTop||0,N=N.parentNode}return{x,y:T}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,b){return this.styles.serialize(e,b)},addStyle:function(e){var x,T,w=this.doc;if(this!==E.DOM&&w===document){var N=E.DOM.addedStyles;if((N=N||[])[e])return;N[e]=!0,E.DOM.addedStyles=N}(T=w.getElementById("mceDefaultStyles"))||((T=w.createElement("style")).id="mceDefaultStyles",T.type="text/css",(x=w.getElementsByTagName("head")[0]).firstChild?x.insertBefore(T,x.firstChild):x.appendChild(T)),T.styleSheet?T.styleSheet.cssText+=e:T.appendChild(w.createTextNode(e))},loadCSS:function(e){var x,b=this,w=b.doc;b===E.DOM||w!==document?(e||(e=""),x=w.getElementsByTagName("head")[0],c(e.split(","),function(T){var N;T=i._addCacheSuffix(T),!b.files[T]&&(b.files[T]=!0,N=b.create("link",{rel:"stylesheet",href:T}),p&&w.documentMode&&w.recalc&&(N.onload=function(){w.recalc&&w.recalc(),N.onload=null}),x.appendChild(N))})):E.DOM.loadCSS(e)},addClass:function(e,b){this.$$(e).addClass(b)},removeClass:function(e,b){this.toggleClass(e,b,!1)},hasClass:function(e,b){return this.$$(e).hasClass(b)},toggleClass:function(e,b,w){this.$$(e).toggleClass(b,w).each(function(){""===this.className&&S(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,b){e=this.$$(e),p?e.each(function(w,x){if(!1!==x.canHaveHTML){for(;x.firstChild;)x.removeChild(x.firstChild);try{x.innerHTML="<br>"+b,x.removeChild(x.firstChild)}catch(T){S("<div></div>").html("<br>"+b).contents().slice(1).appendTo(x)}return b}}):e.html(b)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:S("<div></div>").append(S(e).clone()).html()},setOuterHTML:function(e,b){var w=this;w.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=b)}catch(x){}w.remove(S(this).html(b),!0)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(e,b){return b=this.get(b),this.run(e,function(w){var x,T;return x=b.parentNode,(T=b.nextSibling)?x.insertBefore(w,T):x.appendChild(w),w})},replace:function(e,b,w){return this.run(b,function(T){return g(T,"array")&&(e=e.cloneNode(!0)),w&&c(k(T.childNodes),function(N){e.appendChild(N)}),T.parentNode.replaceChild(e,T)})},rename:function(e,b){var x,w=this;return e.nodeName!=b.toUpperCase()&&(x=w.create(b),c(w.getAttribs(e),function(T){w.setAttrib(x,T.nodeName,w.getAttrib(e,T.nodeName))}),w.replace(x,e,1)),x||e},findCommonAncestor:function(e,b){for(var x,w=e;w;){for(x=b;x&&w!=x;)x=x.parentNode;if(w==x)break;w=w.parentNode}return!w&&e.ownerDocument?e.ownerDocument.documentElement:w},toHex:function(e){return this.styles.toHex(i.trim(e))},run:function(e,b,w){var T,x=this;return"string"==typeof e&&(e=x.get(e)),!!e&&(w=w||this,e.nodeType||!e.length&&0!==e.length?b.call(w,e):(T=[],c(e,function(N,_){N&&("string"==typeof N&&(N=x.get(N)),T.push(b.call(w,N,_)))}),T))},getAttribs:function(e){var b;return(e=this.get(e))?p?(b=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&b.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(x){b.push({specified:1,nodeName:x})}),b)):e.attributes:[]},isEmpty:function(e,b){var x,T,N,_,A,F,w=this,O=0;if(e=e.firstChild){A=new m(e,e.parentNode),b=b||(w.schema?w.schema.getNonEmptyElements():null),_=w.schema?w.schema.getWhiteSpaceElements():{};do{if(1===(N=e.nodeType)){var R=e.getAttribute("data-mce-bogus");if(R){e=A.next("all"===R);continue}if(F=e.nodeName.toLowerCase(),b&&b[F]){if("br"===F){O++,e=A.next();continue}return!1}for(x=(T=w.getAttribs(e)).length;x--;)if("name"===(F=T[x].nodeName)||"data-mce-bookmark"===F)return!1}if(8==N||3===N&&!l.test(e.nodeValue)||3===N&&e.parentNode&&_[e.parentNode.nodeName]&&l.test(e.nodeValue))return!1;e=A.next()}while(e)}return O<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new h(this)},nodeIndex:o,split:function(e,b,w){var N,_,A,x=this,T=x.createRng();function F(O){var R,M=O.childNodes,U=O.nodeType;if(1!=U||"bookmark"!=O.getAttribute("data-mce-type")){for(R=M.length-1;R>=0;R--)F(M[R]);if(9!=U){if(3==U&&O.nodeValue.length>0){var B=C(O.nodeValue).length;if(!x.isBlock(O.parentNode)||B>0||0===B&&function P(L){return L.previousSibling&&"SPAN"==L.previousSibling.nodeName&&L.nextSibling&&"SPAN"==L.nextSibling.nodeName}(O))return}else if(1==U&&(1==(M=O.childNodes).length&&M[0]&&1==M[0].nodeType&&"bookmark"==M[0].getAttribute("data-mce-type")&&O.parentNode.insertBefore(M[0],O),M.length||/^(br|hr|input|img)$/i.test(O.nodeName)))return;x.remove(O)}return O}}if(e&&b)return T.setStart(e.parentNode,x.nodeIndex(e)),T.setEnd(b.parentNode,x.nodeIndex(b)),N=T.extractContents(),(T=x.createRng()).setStart(b.parentNode,x.nodeIndex(b)+1),T.setEnd(e.parentNode,x.nodeIndex(e)+1),_=T.extractContents(),(A=e.parentNode).insertBefore(F(N),e),A.insertBefore(w||b,e),A.insertBefore(F(_),e),x.remove(e),w||b},bind:function(e,b,w,x){var T=this;if(i.isArray(e)){for(var N=e.length;N--;)e[N]=T.bind(e[N],b,w,x);return e}return T.settings.collect&&(e===T.doc||e===T.win)&&T.boundEvents.push([e,b,w,x]),T.events.bind(e,b,w,x||T)},unbind:function(e,b,w){var T,x=this;if(i.isArray(e)){for(T=e.length;T--;)e[T]=x.unbind(e[T],b,w);return e}if(x.boundEvents&&(e===x.doc||e===x.win))for(T=x.boundEvents.length;T--;){var N=x.boundEvents[T];e==N[0]&&(!b||b==N[1])&&(!w||w==N[2])&&this.events.unbind(N[0],N[1],N[2])}return this.events.unbind(e,b,w)},fire:function(e,b,w){return this.events.fire(e,b,w)},getContentEditable:function(e){var b;return e&&1==e.nodeType?(b=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var b=this.getRoot(),w=null;e&&e!==b&&null===(w=this.getContentEditable(e));e=e.parentNode);return w},destroy:function(){var e=this;if(e.boundEvents){for(var b=e.boundEvents.length;b--;){var w=e.boundEvents[b];this.events.unbind(w[0],w[1],w[2])}e.boundEvents=null}s.setDocument&&s.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,b){for(;e;){if(b===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,b,w){var x=this,T=b;if(e)for("string"==typeof T&&(T=function(N){return x.is(N,b)}),e=e[w];e;e=e[w])if(T(e))return e;return null}},E.DOM=new E(document),E.nodeIndex=o,E}),V("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(S,y){var h=S.DOM,s=y.each,t=y.grep,m=function(u){return"function"==typeof u};function r(){var v,c={},g=[],k={},C=[],p=0;this.isDone=function(f){return 2==c[f]},this.markDone=function(f){c[f]=2},this.add=this.load=function(f,n,o,E){c[f]==v&&(g.push(f),c[f]=0),n&&(k[f]||(k[f]=[]),k[f].push({success:n,failure:E,scope:o||this}))},this.remove=function(f){delete c[f],delete k[f]},this.loadQueue=function(f,n,o){this.loadScripts(g,f,n,o)},this.loadScripts=function(f,n,o,E){var e,b=[];function w(x,T){s(k[T],function(N){m(N[x])&&N[x].call(N.scope)}),k[T]=v}C.push({success:n,failure:E,scope:o||this}),e=function(){var x=t(f);f.length=0,s(x,function(T){2!==c[T]?3!==c[T]?1!==c[T]&&(c[T]=1,p++,function l(f,n,o){var e,b,E=h;function w(){E.remove(b),e&&(e.onreadystatechange=e.onload=e=null),n()}b=E.uniqueId(),(e=document.createElement("script")).id=b,e.type="text/javascript",e.src=y._addCacheSuffix(f),"onreadystatechange"in e?e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&w()}:e.onload=w,e.onerror=function x(){m(o)?o():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+f)},(document.getElementsByTagName("head")[0]||document.body).appendChild(e)}(T,function(){c[T]=2,p--,w("success",T),e()},function(){c[T]=3,p--,b.push(T),w("failure",T),e()})):w("failure",T):w("success",T)}),p||(s(C,function(T){0===b.length?m(T.success)&&T.success.call(T.scope):m(T.failure)&&T.failure.call(T.scope,b)}),C.length=0)},e()}}return r.ScriptLoader=new r,r}),V("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(S,y){var h=y.each;function s(){var t=this;t.items=[],t.urls={},t.lookup={}}return s.prototype={get:function(t){if(this.lookup[t])return this.lookup[t].instance},dependencies:function(t){var m;return this.lookup[t]&&(m=this.lookup[t].dependencies),m||[]},requireLangPack:function(t,m){var r=s.language;if(r&&!1!==s.languageLoad){if(m)if(-1!=(m=","+m+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==m.indexOf(","+r+","))return;S.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(t,m,r){return this.items.push(m),this.lookup[t]={instance:m,dependencies:r},m},remove:function(t){delete this.urls[t],delete this.lookup[t]},createUrl:function(t,m){return"object"==typeof m?m:{prefix:t.prefix,resource:m,suffix:t.suffix}},addComponents:function(t,m){var r=this.urls[t];h(m,function(u){S.ScriptLoader.add(r+"/"+u)})},load:function(t,m,r,u,a){var d=this,i=m;function c(){var g=d.dependencies(t);h(g,function(k){var C=d.createUrl(m,k);d.load(C.resource,C,void 0,void 0)}),r&&r.call(u||S)}d.urls[t]||("object"==typeof m&&(i=m.prefix+m.resource+m.suffix),0!==i.indexOf("/")&&-1==i.indexOf("://")&&(i=s.baseURL+"/"+i),d.urls[t]=i.substring(0,i.lastIndexOf("/")),d.lookup[t]?c():S.ScriptLoader.add(i,c,u,a))}},s.PluginManager=new s,s.ThemeManager=new s,s}),V("tinymce.core.dom.NodeType",[],function(){function S(d){return function(i){return!!i&&i.nodeType==d}}var y=S(1);function h(d){return d=d.toLowerCase().split(" "),function(i){var c,g;if(i&&i.nodeType)for(g=i.nodeName.toLowerCase(),c=0;c<d.length;c++)if(g===d[c])return!0;return!1}}function a(d){return function(i){return!(!y(i)||i.contentEditable!==d&&i.getAttribute("data-mce-contenteditable")!==d)}}return{isText:S(3),isElement:y,isComment:S(8),isBr:h("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:h,hasPropValue:function t(d,i){return function(c){return y(c)&&c[d]===i}},hasAttribute:function m(d,i){return function(c){return y(c)&&c.hasAttribute(d)}},hasAttributeValue:function r(d,i){return function(c){return y(c)&&c.getAttribute(d)===i}},matchStyleValues:function s(d,i){return i=i.toLowerCase().split(" "),function(c){var g;if(y(c))for(g=0;g<i.length;g++)if(c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(d)===i[g])return!0;return!1}},isBogus:function u(d){return y(d)&&d.hasAttribute("data-mce-bogus")}}}),V("tinymce.core.text.Zwsp",[],function(){return{isZwsp:function(s){return"\ufeff"===s},ZWSP:"\ufeff",trim:function(s){return s.replace(new RegExp("\ufeff","g"),"")}}}),V("tinymce.core.caret.CaretContainer",["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(S,y){var h=S.isElement,s=S.isText;function t(n){return s(n)&&(n=n.parentNode),h(n)&&n.hasAttribute("data-mce-caret")}function m(n){return s(n)&&y.isZwsp(n.data)}function r(n){return t(n)||m(n)}function p(n){return s(n)&&n.data[0]==y.ZWSP}function v(n){return s(n)&&n.data[n.data.length-1]==y.ZWSP}return{isCaretContainer:r,isCaretContainerBlock:t,isCaretContainerInline:m,showCaretContainerBlock:function f(n){return n&&n.hasAttribute("data-mce-caret")?(function l(n){var o=n.getElementsByTagName("br"),E=o[o.length-1];S.isBogus(E)&&E.parentNode.removeChild(E)}(n),n.removeAttribute("data-mce-caret"),n.removeAttribute("data-mce-bogus"),n.removeAttribute("style"),n.removeAttribute("_moz_abspos"),n):null},insertInline:function a(n,o){var e,b,w;if(b=n.ownerDocument.createTextNode(y.ZWSP),w=n.parentNode,o){if(s(e=n.previousSibling)){if(r(e))return e;if(v(e))return e.splitText(e.data.length-1)}w.insertBefore(b,n)}else{if(s(e=n.nextSibling)){if(r(e))return e;if(p(e))return e.splitText(1),e}n.nextSibling?w.insertBefore(b,n.nextSibling):w.appendChild(b)}return b},prependInline:function(n){if(S.isText(n)){var o=n.data;return o.length>0&&o.charAt(0)!==y.ZWSP&&n.insertData(0,y.ZWSP),n}return null},appendInline:function(n){if(S.isText(n)){var o=n.data;return o.length>0&&o.charAt(o.length-1)!==y.ZWSP&&n.insertData(o.length,y.ZWSP),n}return null},isBeforeInline:function(n){return n&&S.isText(n.container())&&n.container().data.charAt(n.offset())===y.ZWSP},isAfterInline:function(n){return n&&S.isText(n.container())&&n.container().data.charAt(n.offset()-1)===y.ZWSP},insertBlock:function C(n,o,E){var b,w;return(b=o.ownerDocument.createElement(n)).setAttribute("data-mce-caret",E?"before":"after"),b.setAttribute("data-mce-bogus","all"),b.appendChild(function k(){var n=document.createElement("br");return n.setAttribute("data-mce-bogus","1"),n}()),w=o.parentNode,E?w.insertBefore(b,o):o.nextSibling?w.insertBefore(b,o.nextSibling):w.appendChild(b),b},hasContent:function(n){return n.firstChild!==n.lastChild||!S.isBr(n.firstChild)},startsWithCaretContainer:p,endsWithCaretContainer:v}}),V("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],function(S,y,h,s,t){var m=S.each,r=h.isContentEditableTrue,u=h.isContentEditableFalse,a=t.isCaretContainer;function d(n){return r(n)||u(n)}function c(n,o,E){for(;n&&n!==o;){if(E(n))return n;n=n.parentNode}return null}function g(n,o,E){return null!==c(n,o,E)}function k(n,o,E){return g(n,o,function(e){return e.nodeName===E})}function C(n){return"_mce_caret"===n.id}function p(n,o){return a(n)&&!1===g(n,o,C)}function v(n){this.walk=function(o,E){var T,N,_,A,F,O,R,e=o.startContainer,b=o.startOffset,w=o.endContainer,x=o.endOffset;if((R=n.select("td[data-mce-selected],th[data-mce-selected]")).length>0)m(R,function(L){E([L])});else{if(1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[b]),1==w.nodeType&&w.hasChildNodes()&&(w=function i(n,o){var E=n.childNodes;return--o>E.length-1?o=E.length-1:o<0&&(o=0),E[o]||n}(w,x)),e==w)return E(M([e]));for(T=n.findCommonAncestor(e,w),A=e;A;A=A.parentNode){if(A===w)return B(e,T,!0);if(A===T)break}for(A=w;A;A=A.parentNode){if(A===e)return B(w,T);if(A===T)break}N=P(e,T)||e,_=P(w,T)||w,B(e,N,!0),(O=U(N==e?N:N.nextSibling,"nextSibling",_==w?_.nextSibling:_)).length&&E(M(O)),B(w,_)}function M(L){var z;return 3===(z=L[0]).nodeType&&z===e&&b>=z.nodeValue.length&&L.splice(0,1),z=L[L.length-1],0===x&&L.length>0&&z===w&&3===z.nodeType&&L.splice(L.length-1,1),L}function U(L,z,q){for(var ee=[];L&&L!=q;L=L[z])ee.push(L);return ee}function P(L,z){do{if(L.parentNode==z)return L;L=L.parentNode}while(L)}function B(L,z,q){var ee=q?"nextSibling":"previousSibling";for(F=(A=L).parentNode;A&&A!=z;A=F)F=A.parentNode,(O=U(A==L?A:A[ee],ee)).length&&(q||O.reverse(),E(M(O)))}},this.split=function(o){var E=o.startContainer,e=o.startOffset,b=o.endContainer,w=o.endOffset;function x(T,N){return T.splitText(N)}return E==b&&3==E.nodeType?e>0&&e<E.nodeValue.length&&(E=(b=x(E,e)).previousSibling,w>e?(E=b=x(b,w-=e).previousSibling,w=b.nodeValue.length,e=0):w=0):(3==E.nodeType&&e>0&&e<E.nodeValue.length&&(E=x(E,e),e=0),3==b.nodeType&&w>0&&w<b.nodeValue.length&&(w=(b=x(b,w).previousSibling).nodeValue.length)),{startContainer:E,startOffset:e,endContainer:b,endOffset:w}},this.normalize=function(o){var e,E=!1;function b(w){var x,T,N,A,F,O,R,z,_=n.getRoot();function U(z,q){for(var ee=new y(z,n.getParent(z.parentNode,n.isBlock)||_);z=ee[q?"prev":"next"]();)if("BR"===z.nodeName)return!0}function L(z,q){var ee,ue,ae;if(ae=n.getParent((q=q||x).parentNode,n.isBlock)||_,z&&"BR"==q.nodeName&&R&&n.isEmpty(ae))return x=q.parentNode,T=n.nodeIndex(q),void(E=!0);for(ee=new y(q,ae);A=ee[z?"prev":"next"]();){if("false"===n.getContentEditableParent(A)||p(A,n.getRoot()))return;if(3===A.nodeType&&A.nodeValue.length>0)return void(!1===k(A,_,"A")&&(x=A,T=z?A.nodeValue.length:0,E=!0));if(n.isBlock(A)||F[A.nodeName.toLowerCase()])return;ue=A}e&&ue&&(x=ue,E=!0,T=0)}if(T=o[(w?"start":"end")+"Offset"],R=1==(x=o[(w?"start":"end")+"Container"]).nodeType&&T===x.childNodes.length,F=n.schema.getNonEmptyElements(),O=w,!a(x)){if(1==x.nodeType&&T>x.childNodes.length-1&&(O=!1),9===x.nodeType&&(x=n.getRoot(),T=0),x===_){if(O&&(A=x.childNodes[T>0?T-1:0])&&(a(A)||F[A.nodeName]||"TABLE"==A.nodeName))return;if(x.hasChildNodes()){if(T=Math.min(!O&&T>0?T-1:T,x.childNodes.length-1),x=x.childNodes[T],T=0,!e&&x===_.lastChild&&"TABLE"===x.nodeName||function P(z){for(;z&&z!=_;){if(u(z))return!0;z=z.parentNode}return!1}(x)||a(x))return;if(x.hasChildNodes()&&!/TABLE/.test(x.nodeName)){A=x,N=new y(x,_);do{if(u(A)||a(A)){E=!1;break}if(3===A.nodeType&&A.nodeValue.length>0){T=O?0:A.nodeValue.length,x=A,E=!0;break}if(F[A.nodeName.toLowerCase()]&&(!(z=A)||!/^(TD|TH|CAPTION)$/.test(z.nodeName))){T=n.nodeIndex(A),x=A.parentNode,"IMG"==A.nodeName&&!O&&T++,E=!0;break}}while(A=O?N.next():N.prev())}}}e&&(3===x.nodeType&&0===T&&L(!0),1===x.nodeType&&((A=x.childNodes[T])||(A=x.childNodes[T-1]),A&&"BR"===A.nodeName&&!function B(z,q){return z.previousSibling&&z.previousSibling.nodeName==q}(A,"A")&&!U(A)&&!U(A,!0)&&L(!0,A))),O&&!e&&3===x.nodeType&&T===x.nodeValue.length&&L(!1),E&&o["set"+(w?"Start":"End")](x,T)}}return e=o.collapsed,b(!0),e||b(),E&&e&&o.collapse(!0),E}}return v.compareRanges=function(n,o){if(n&&o){if(!n.item&&!n.duplicate)return n.startContainer==o.startContainer&&n.startOffset==o.startOffset;if(n.item&&o.item&&n.item(0)===o.item(0)||n.isEqual&&o.isEqual&&o.isEqual(n))return!0}return!1},v.getCaretRangeFromPoint=function(n,o,E){var e,b;if(E.caretPositionFromPoint)b=E.caretPositionFromPoint(n,o),(e=E.createRange()).setStart(b.offsetNode,b.offset),e.collapse(!0);else if(E.caretRangeFromPoint)e=E.caretRangeFromPoint(n,o);else if(E.body.createTextRange){e=E.body.createTextRange();try{e.moveToPoint(n,o),e.collapse(!0)}catch(w){e=function l(n,o,E){var e,b,w;if(e=E.elementFromPoint(n,o),b=E.body.createTextRange(),(!e||"HTML"==e.tagName)&&(e=E.body),b.moveToElementText(e),(w=(w=S.toArray(b.getClientRects())).sort(function(x,T){return(x=Math.abs(Math.max(x.top-o,x.bottom-o)))-Math.abs(Math.max(T.top-o,T.bottom-o))})).length>0){o=(w[0].bottom+w[0].top)/2;try{return b.moveToPoint(n,o),b.collapse(!0),b}catch(x){}}return null}(n,o,E)}return function f(n,o){var E=n&&n.parentElement?n.parentElement():null;return u(c(E,o,d))?null:n}(e,E.body)}return e},v.getSelectedNode=function(n){var o=n.startContainer,E=n.startOffset;return o.hasChildNodes()&&n.endOffset==E+1?o.childNodes[E]:null},v.getNode=function(n,o){return 1==n.nodeType&&n.hasChildNodes()&&(o>=n.childNodes.length&&(o=n.childNodes.length-1),n=n.childNodes[o]),n},v}),V("tinymce.core.html.Node",[],function(){var S=/^[ \t\r\n]*$/,y={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function h(t,m,r){var u,a,d=r?"lastChild":"firstChild",i=r?"prev":"next";if(t[d])return t[d];if(t!==m){if(u=t[i])return u;for(a=t.parent;a&&a!==m;a=a.parent)if(u=a[i])return u}}function s(t,m){this.name=t,this.type=m,1===m&&(this.attributes=[],this.attributes.map={})}return s.prototype={replace:function(t){var m=this;return t.parent&&t.remove(),m.insert(t,m),m.remove(),m},attr:function(t,m){var u,a,r=this;if("string"!=typeof t){for(a in t)r.attr(a,t[a]);return r}if(u=r.attributes){if(void 0!==m){if(null===m){if(t in u.map)for(delete u.map[t],a=u.length;a--;)if(u[a].name===t)return u=u.splice(a,1),r;return r}if(t in u.map){for(a=u.length;a--;)if(u[a].name===t){u[a].value=m;break}}else u.push({name:t,value:m});return u.map[t]=m,r}return u.map[t]}},clone:function(){var r,u,a,d,i,t=this,m=new s(t.name,t.type);if(a=t.attributes){for((i=[]).map={},r=0,u=a.length;r<u;r++)"id"!==(d=a[r]).name&&(i[i.length]={name:d.name,value:d.value},i.map[d.name]=d.value);m.attributes=i}return m.value=t.value,m.shortEnded=t.shortEnded,m},wrap:function(t){var m=this;return m.parent.insert(t,m),t.append(m),m},unwrap:function(){var m,r,t=this;for(m=t.firstChild;m;)r=m.next,t.insert(m,t,!0),m=r;t.remove()},remove:function(){var t=this,m=t.parent,r=t.next,u=t.prev;return m&&(m.firstChild===t?(m.firstChild=r,r&&(r.prev=null)):u.next=r,m.lastChild===t?(m.lastChild=u,u&&(u.next=null)):r.prev=u,t.parent=t.next=t.prev=null),t},append:function(t){var r,m=this;return t.parent&&t.remove(),(r=m.lastChild)?(r.next=t,t.prev=r,m.lastChild=t):m.lastChild=m.firstChild=t,t.parent=m,t},insert:function(t,m,r){var u;return t.parent&&t.remove(),u=m.parent||this,r?(m===u.firstChild?u.firstChild=t:m.prev.next=t,t.prev=m.prev,t.next=m,m.prev=t):(m===u.lastChild?u.lastChild=t:m.next.prev=t,t.next=m.next,t.prev=m,m.next=t),t.parent=u,t},getAll:function(t){var r,u=[];for(r=this.firstChild;r;r=h(r,this))r.name===t&&u.push(r);return u},empty:function(){var m,r,u,t=this;if(t.firstChild){for(m=[],u=t.firstChild;u;u=h(u,t))m.push(u);for(r=m.length;r--;)(u=m[r]).parent=u.firstChild=u.lastChild=u.next=u.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(t,m){var a,d,u=this.firstChild;if(m=m||{},u)do{if(1===u.type){if(u.attributes.map["data-mce-bogus"])continue;if(t[u.name])return!1;for(a=u.attributes.length;a--;)if("name"===(d=u.attributes[a].name)||0===d.indexOf("data-mce-bookmark"))return!1}if(8===u.type||3===u.type&&!S.test(u.value)||3===u.type&&u.parent&&m[u.parent.name]&&S.test(u.value))return!1}while(u=h(u,this));return!0},walk:function(t){return h(this,null,t)}},s.create=function(t,m){var r,u;if(r=new s(t,y[t]||1),m)for(u in m)r.attr(u,m[u]);return r},s}),V("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(S,y,h){var s=h.each;function m(u,a,d){var c,g,k,C,i=1;for(C=u.getShortEndedElements(),(k=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=c=d;g=k.exec(a);){if(c=k.lastIndex,"/"===g[1])i--;else if(!g[1]){if(g[2]in C)continue;i++}if(0===i)break}return c}function r(u,a){var d=this;function i(){}u=u||{},d.schema=a=a||new S,!1!==u.fix_self_closing&&(u.fix_self_closing=!0),s("comment cdata text start end pi doctype".split(" "),function(c){c&&(d[c]=u[c]||i)}),d.parse=function(c){var k,p,v,f,n,o,E,e,b,w,x,T,N,_,A,F,O,R,M,U,P,B,L,q,ee,ue,ae,ne,me,g=this,C=0,l=[],he=0,Ee=y.decode,$=h.makeMap("src,href,data,background,formaction,poster"),G=/((java|vb)script|mhtml):/i,Z=/^data:/i;function Y(ke){var ye,oe;for(ye=l.length;ye--&&l[ye].name!==ke;);if(ye>=0){for(oe=l.length-1;oe>=ye;oe--)(ke=l[oe]).valid&&g.end(ke.name);l.length=ye}}function ie(ke,ye,oe,K,se){var be,we;if(oe=(ye=ye.toLowerCase())in x?ye:Ee(oe||K||se||""),N&&!e&&!1===function(u){return 0===u.indexOf("data-")||0===u.indexOf("aria-")}(ye)){if(!(be=R[ye])&&M){for(we=M.length;we--&&!(be=M[we]).pattern.test(ye););-1===we&&(be=null)}if(!be||be.validValues&&!(oe in be.validValues))return}if($[ye]&&!u.allow_script_urls){var ve=oe.replace(/[\s\u0000-\u001F]+/g,"");try{ve=decodeURIComponent(ve)}catch(Ue){ve=unescape(ve)}if(G.test(ve)||!u.allow_html_data_urls&&Z.test(ve)&&!/^data:image\//i.test(ve))return}f.map[ye]=oe,f.push({name:ye,value:oe})}for(ee=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),ue=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=a.getShortEndedElements(),q=u.self_closing_elements||a.getSelfClosingElements(),x=a.getBoolAttrs(),N=u.validate,b=u.remove_internals,me=u.fix_self_closing,ae=a.getSpecialElements(),L=c+">";k=ee.exec(L);){if(C<k.index&&g.text(Ee(c.substr(C,k.index-C))),p=k[6])":"===(p=p.toLowerCase()).charAt(0)&&(p=p.substr(1)),Y(p);else if(p=k[7]){if(k.index+k[0].length>c.length){g.text(Ee(c.substr(k.index))),C=k.index+k[0].length;continue}if(":"===(p=p.toLowerCase()).charAt(0)&&(p=p.substr(1)),T=p in w,me&&q[p]&&l.length>0&&l[l.length-1].name===p&&Y(p),!N||(_=a.getElementRule(p))){if(A=!0,N&&(R=_.attributes,M=_.attributePatterns),(O=k[8])?((e=-1!==O.indexOf("data-mce-type"))&&b&&(A=!1),(f=[]).map={},O.replace(ue,ie)):(f=[]).map={},N&&!e){if(U=_.attributesRequired,P=_.attributesDefault,_.removeEmptyAttrs&&!f.length&&(A=!1),B=_.attributesForced)for(n=B.length;n--;)"{$uid}"===(ne=(F=B[n]).value)&&(ne="mce_"+he++),f.map[E=F.name]=ne,f.push({name:E,value:ne});if(P)for(n=P.length;n--;)(E=(F=P[n]).name)in f.map||("{$uid}"===(ne=F.value)&&(ne="mce_"+he++),f.map[E]=ne,f.push({name:E,value:ne}));if(U){for(n=U.length;n--&&!(U[n]in f.map););-1===n&&(A=!1)}if(F=f.map["data-mce-bogus"]){if("all"===F){C=m(a,c,ee.lastIndex),ee.lastIndex=C;continue}A=!1}}A&&g.start(p,f,T)}else A=!1;if(v=ae[p]){v.lastIndex=C=k.index+k[0].length,(k=v.exec(c))?(A&&(o=c.substr(C,k.index-C)),C=k.index+k[0].length):(o=c.substr(C),C=c.length),A&&(o.length>0&&g.text(o,!0),g.end(p)),ee.lastIndex=C;continue}T||(O&&O.indexOf("/")==O.length-1?A&&g.end(p):l.push({name:p,valid:A}))}else(p=k[1])?(">"===p.charAt(0)&&(p=" "+p),!u.allow_conditional_comments&&"[if"===p.substr(0,3).toLowerCase()&&(p=" "+p),g.comment(p)):(p=k[2])?g.cdata(p):(p=k[3])?g.doctype(p):(p=k[4])&&g.pi(p,k[5]);C=k.index+k[0].length}for(C<c.length&&g.text(Ee(c.substr(C))),n=l.length-1;n>=0;n--)(p=l[n]).valid&&g.end(p.name)}}return r.findEndTag=m,r}),V("tinymce.core.html.DomParser",["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],function(S,y,h,s){var t=s.makeMap,m=s.each,r=s.explode,u=s.extend,a=function(i,c){i.padd_empty_with_br?c.empty().append(new S("br","1")).shortEnded=!0:c.empty().append(new S("#text","3")).value="\xa0"},d=function(i,c){return i&&i.firstChild===i.lastChild&&i.firstChild.name===c};return function(i,c){var g=this,k={},C=[],p={},v={};(i=i||{}).validate=!("validate"in i)||i.validate,i.root_name=i.root_name||"body",g.schema=c=c||new y,g.filterNode=function(f){var n,o,E;for((o in k&&((E=p[o])?E.push(f):p[o]=[f]),n=C.length);n--;)(o=C[n].name)in f.attributes.map&&((E=v[o])?E.push(f):v[o]=[f]);return f},g.addNodeFilter=function(f,n){m(r(f),function(o){var E=k[o];E||(k[o]=E=[]),E.push(n)})},g.addAttributeFilter=function(f,n){m(r(f),function(o){var E;for(E=0;E<C.length;E++)if(C[E].name===o)return void C[E].callbacks.push(n);C.push({name:o,callbacks:[n]})})},g.parse=function(f,n){var o,E,e,b,w,x,T,N,_,A,F,O,R,U,P,B,L,z,q,ee,ue,M=[];function ne(me,$){var Z,G=new S(me,$);return me in k&&((Z=p[me])?Z.push(G):p[me]=[G]),G}function he(me){var $,G,Z,Y,ie=c.getBlockElements();for($=me.prev;$&&3===$.type;){if((Z=$.value.replace(P,"")).length>0)return void($.value=Z);if(G=$.next){if(3==G.type&&G.value.length){$=$.prev;continue}if(!ie[G.name]&&"script"!=G.name&&"style"!=G.name){$=$.prev;continue}}Y=$.prev,$.remove(),$=Y}}if(n=n||{},p={},v={},O=u(t("script,style,head,html,body,title,meta,param"),c.getBlockElements()),ee=c.getNonEmptyElements(),q=c.children,F=i.validate,ue="forced_root_block"in n?n.forced_root_block:i.forced_root_block,z=c.getWhiteSpaceElements(),R=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,B=/[ \t\r\n]+/g,L=/^[ \t\r\n]+$/,o=new h({validate:F,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:function Ee(me){var $,G={};for($ in me)"li"!==$&&"p"!=$&&(G[$]=me[$]);return G}(c.getSelfClosingElements()),cdata:function(me){e.append(ne("#cdata",4)).value=me},text:function(me,$){var G;U||(me=me.replace(B," "),e.lastChild&&O[e.lastChild.name]&&(me=me.replace(R,""))),0!==me.length&&((G=ne("#text",3)).raw=!!$,e.append(G).value=me)},comment:function(me){e.append(ne("#comment",8)).value=me},pi:function(me,$){e.append(ne(me,7)).value=$,he(e)},doctype:function(me){e.append(ne("#doctype",10)).value=me,he(e)},start:function(me,$,G){var Z,Y,ie,ke,ye;if(ie=F?c.getElementRule(me):{}){for((Z=ne(ie.outputName||me,1)).attributes=$,Z.shortEnded=G,e.append(Z),(ye=q[e.name])&&q[Z.name]&&!ye[Z.name]&&M.push(Z),Y=C.length;Y--;)(ke=C[Y].name)in $.map&&((_=v[ke])?_.push(Z):v[ke]=[Z]);O[me]&&he(Z),G||(e=Z),!U&&z[me]&&(U=!0)}},end:function(me){var $,G,Z,Y,ie;if(G=F?c.getElementRule(me):{}){if(O[me]&&!U){if(($=e.firstChild)&&3===$.type)if((Z=$.value.replace(R,"")).length>0)$.value=Z,$=$.next;else for(Y=$.next,$.remove(),$=Y;$&&3===$.type;)Y=$.next,(0===(Z=$.value).length||L.test(Z))&&($.remove(),$=Y),$=Y;if(($=e.lastChild)&&3===$.type)if((Z=$.value.replace(P,"")).length>0)$.value=Z,$=$.prev;else for(Y=$.prev,$.remove(),$=Y;$&&3===$.type;)Y=$.prev,(0===(Z=$.value).length||L.test(Z))&&($.remove(),$=Y),$=Y}if(U&&z[me]&&(U=!1),(G.removeEmpty||G.paddEmpty)&&e.isEmpty(ee,z))if(G.paddEmpty)a(i,e);else if(!e.attributes.map.name&&!e.attributes.map.id)return ie=e.parent,O[e.name]?e.empty().remove():e.unwrap(),void(e=ie);e=e.parent}}},c),E=e=new S(n.context||i.root_name,11),o.parse(f),F&&M.length&&(n.context?n.invalid=!0:function l(f){var n,o,E,e,b,w,x,T,N,_,A,F,O,R,M,U;for(F=t("tr,td,th,tbody,thead,tfoot,table"),_=c.getNonEmptyElements(),A=c.getWhiteSpaceElements(),O=c.getTextBlockElements(),R=c.getSpecialElements(),n=0;n<f.length;n++)if((o=f[n]).parent&&!o.fixed){if(O[o.name]&&"li"==o.parent.name){for(M=o.next;M&&O[M.name];)M.name="li",M.fixed=!0,o.parent.insert(M,o.parent),M=M.next;o.unwrap(o);continue}for(e=[o],E=o.parent;E&&!c.isValidChild(E.name,o.name)&&!F[E.name];E=E.parent)e.push(E);if(E&&e.length>1){for(e.reverse(),b=w=g.filterNode(e[0].clone()),N=0;N<e.length-1;N++){for(c.isValidChild(w.name,e[N].name)?(x=g.filterNode(e[N].clone()),w.append(x)):x=w,T=e[N].firstChild;T&&T!=e[N+1];)U=T.next,x.append(T),T=U;w=x}b.isEmpty(_,A)?E.insert(o,e[0],!0):(E.insert(b,e[0],!0),E.insert(o,b)),((E=e[0]).isEmpty(_,A)||d(E,"br"))&&E.empty().remove()}else if(o.parent){if("li"===o.name){if((M=o.prev)&&("ul"===M.name||"ul"===M.name)){M.append(o);continue}if((M=o.next)&&("ul"===M.name||"ul"===M.name)){M.insert(o,M.firstChild,!0);continue}o.wrap(g.filterNode(new S("ul",1)));continue}c.isValidChild(o.parent.name,"div")&&c.isValidChild("div",o.name)?o.wrap(g.filterNode(new S("div",1))):R[o.name]?o.empty().remove():o.unwrap()}}}(M)),ue&&("body"==E.name||n.isRootContent)&&function ae(){var $,G,me=E.firstChild;function Z(Y){Y&&((me=Y.firstChild)&&3==me.type&&(me.value=me.value.replace(R,"")),(me=Y.lastChild)&&3==me.type&&(me.value=me.value.replace(P,"")))}if(c.isValidChild(E.name,ue.toLowerCase())){for(;me;)$=me.next,3==me.type||1==me.type&&"p"!==me.name&&!O[me.name]&&!me.attr("data-mce-type")?(G||((G=ne(ue,1)).attr(i.forced_root_block_attrs),E.insert(G,me)),G.append(me)):(Z(G),G=null),me=$;Z(G)}}(),!n.invalid){for(A in p){for(_=k[A],T=(b=p[A]).length;T--;)b[T].parent||b.splice(T,1);for(w=0,x=_.length;w<x;w++)_[w](b,A,n)}for(w=0,x=C.length;w<x;w++)if((_=C[w]).name in v){for(T=(b=v[_.name]).length;T--;)b[T].parent||b.splice(T,1);for(T=0,N=_.callbacks.length;T<N;T++)_.callbacks[T](b,_.name,n)}}return E},i.remove_trailing_brs&&g.addNodeFilter("br",function(f){var n,E,w,x,T,N,A,F,o=f.length,e=u({},c.getBlockElements()),b=c.getNonEmptyElements(),_=c.getNonEmptyElements();for(e.body=1,n=0;n<o;n++)if(w=(E=f[n]).parent,e[E.parent.name]&&E===w.lastChild){for(T=E.prev;T;){if("span"!==(N=T.name)||"bookmark"!==T.attr("data-mce-type")){if("br"!==N)break;if("br"===N){E=null;break}}T=T.prev}E&&(E.remove(),w.isEmpty(b,_)&&(A=c.getElementRule(w.name))&&(A.removeEmpty?w.remove():A.paddEmpty&&a(i,w)))}else{for(x=E;w&&w.firstChild===x&&w.lastChild===x&&(x=w,!e[w.name]);)w=w.parent;x===w&&!0!==i.padd_empty_with_br&&((F=new S("#text",3)).value="\xa0",E.replace(F))}}),i.allow_unsafe_link_target||g.addAttributeFilter("href",function(f){for(var o,n=f.length;n--;)"a"===(o=f[n]).name&&"_blank"===o.attr("target")&&o.attr("rel",(void 0,w=(b=o.attr("rel"))?s.trim(b):"",/\b(noopener)\b/g.test(w)?w:function(b){return b.split(" ").filter(function(x){return x.length>0}).concat(["noopener"]).join(" ")}(w)));var b,w}),i.allow_html_in_named_anchor||g.addAttributeFilter("id,name",function(f){for(var o,E,e,b,n=f.length;n--;)if("a"===(b=f[n]).name&&b.firstChild&&!b.attr("href")){e=b.parent,o=b.lastChild;do{E=o.prev,e.insert(o,b),o=E}while(o)}}),i.fix_list_elements&&g.addNodeFilter("ul,ol",function(f){for(var o,E,n=f.length;n--;)if("ul"===(E=(o=f[n]).parent).name||"ol"===E.name)if(o.prev&&"li"===o.prev.name)o.prev.append(o);else{var e=new S("li",1);e.attr("style","list-style-type: none"),o.wrap(e)}}),i.validate&&c.getValidClasses()&&g.addAttributeFilter("class",function(f){for(var o,E,e,b,w,T,N,n=f.length,x=c.getValidClasses();n--;){for(E=(o=f[n]).attr("class").split(" "),w="",e=0;e<E.length;e++)b=E[e],N=!1,(T=x["*"])&&T[b]&&(N=!0),T=x[o.name],!N&&T&&T[b]&&(N=!0),N&&(w&&(w+=" "),w+=b);w.length||(w=null),o.attr("class",w)}})}}),V("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(S,y){var h=y.makeMap;return function(s){var m,r,u,a,d,t=[];return m=(s=s||{}).indent,r=h(s.indent_before||""),u=h(s.indent_after||""),a=S.getEncodeFunc(s.entity_encoding||"raw",s.entities),d="html"==s.element_format,{start:function(i,c,g){var k,C,p,v;if(m&&r[i]&&t.length>0&&(v=t[t.length-1]).length>0&&"\n"!==v&&t.push("\n"),t.push("<",i),c)for(k=0,C=c.length;k<C;k++)t.push(" ",(p=c[k]).name,'="',a(p.value,!0),'"');t[t.length]=!g||d?">":" />",g&&m&&u[i]&&t.length>0&&(v=t[t.length-1]).length>0&&"\n"!==v&&t.push("\n")},end:function(i){var c;t.push("</",i,">"),m&&u[i]&&t.length>0&&(c=t[t.length-1]).length>0&&"\n"!==c&&t.push("\n")},text:function(i,c){i.length>0&&(t[t.length]=c?i:a(i))},cdata:function(i){t.push("<![CDATA[",i,"]]>")},comment:function(i){t.push("\x3c!--",i,"--\x3e")},pi:function(i,c){c?t.push("<?",i," ",a(c),"?>"):t.push("<?",i,"?>"),m&&t.push("\n")},doctype:function(i){t.push("<!DOCTYPE",i,">",m?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}}),V("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(S,y){return function(h,s){var t=this,m=new S(h);(h=h||{}).validate=!("validate"in h)||h.validate,t.schema=s=s||new y,t.writer=m,t.serialize=function(r){var u,a;function d(i){var g,k,C,p,v,l,f,n,o,c=u[i.type];if(c)c(i);else{if(g=i.name,k=i.shortEnded,C=i.attributes,a&&C&&C.length>1&&((l=[]).map={},o=s.getElementRule(i.name))){for(f=0,n=o.attributesOrder.length;f<n;f++)(p=o.attributesOrder[f])in C.map&&(l.map[p]=v=C.map[p],l.push({name:p,value:v}));for(f=0,n=C.length;f<n;f++)(p=C[f].name)in l.map||(l.map[p]=v=C.map[p],l.push({name:p,value:v}));C=l}if(m.start(i.name,C,k),!k){if(i=i.firstChild)do{d(i)}while(i=i.next);m.end(g)}}}return a=h.validate,u={3:function(i){m.text(i.value,i.raw)},8:function(i){m.comment(i.value)},7:function(i){m.pi(i.name,i.value)},10:function(i){m.doctype(i.value)},4:function(i){m.cdata(i.value)},11:function(i){if(i=i.firstChild)do{d(i)}while(i=i.next)}},m.reset(),1!=r.type||h.inner?u[11](r):d(r),m.getContent()}}}),V("tinymce.core.dom.Serializer",["tinymce.core.dom.DOMUtils","tinymce.core.html.DomParser","tinymce.core.html.SaxParser","tinymce.core.html.Entities","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.text.Zwsp"],function(S,y,h,s,t,m,r,u,a,d){var i=a.each,c=a.trim,g=S.DOM;return function(C,p){var v,l,f,n=["data-mce-selected"];function o(w){var x=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+n.join("|")+')="[^"]+"'].join("|"),"gi");return d.trim(w.replace(x,""))}function E(w){var N,_,A,F,O,x=w,T=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,R=p.schema;for(x=o(x),O=R.getShortEndedElements();F=T.exec(x);)_=T.lastIndex,A=F[0].length,N=O[F[1]]?_:h.findEndTag(R,x,_),x=x.substring(0,_-A)+x.substring(N),T.lastIndex=_-A;return x}return p&&(v=p.dom,l=p.schema),v=v||g,l=l||new r(C),C.entity_encoding=C.entity_encoding||"named",C.remove_trailing_brs=!("remove_trailing_brs"in C)||C.remove_trailing_brs,(f=new y(C,l)).addAttributeFilter("data-mce-tabindex",function(w,x){for(var N,T=w.length;T--;)(N=w[T]).attr("tabindex",N.attributes.map["data-mce-tabindex"]),N.attr(x,null)}),f.addAttributeFilter("src,href,style",function(w,x){for(var N,_,T=w.length,A="data-mce-"+x,F=C.url_converter,O=C.url_converter_scope;T--;)void 0!==(_=(N=w[T]).attributes.map[A])?(N.attr(x,_.length>0?_:null),N.attr(A,null)):(_=N.attributes.map[x],"style"===x?_=v.serializeStyle(v.parseStyle(_),N.name):F&&(_=F.call(O,_,x,N.name)),N.attr(x,_.length>0?_:null))}),f.addAttributeFilter("class",function(w){for(var T,N,x=w.length;x--;)(N=(T=w[x]).attr("class"))&&(N=T.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),T.attr("class",N.length>0?N:null))}),f.addAttributeFilter("data-mce-type",function(w,x,T){for(var _,N=w.length;N--;)"bookmark"===(_=w[N]).attributes.map["data-mce-type"]&&!T.cleanup&&_.remove()}),f.addNodeFilter("noscript",function(w){for(var T,x=w.length;x--;)(T=w[x].firstChild)&&(T.value=s.decode(T.value))}),f.addNodeFilter("script,style",function(w,x){var N,_,A,T=w.length;function F(O){return O.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(;T--;)_=(N=w[T]).firstChild?N.firstChild.value:"","script"===x?((A=N.attr("type"))&&N.attr("type","mce-no/type"==A?null:A.replace(/^mce\-/,"")),_.length>0&&(N.firstChild.value="// <![CDATA[\n"+F(_)+"\n// ]]>")):_.length>0&&(N.firstChild.value="\x3c!--\n"+F(_)+"\n--\x3e")}),f.addNodeFilter("#comment",function(w){for(var T,x=w.length;x--;)0===(T=w[x]).value.indexOf("[CDATA[")?(T.name="#cdata",T.type=4,T.value=T.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===T.value.indexOf("mce:protected ")&&(T.name="#text",T.type=3,T.raw=!0,T.value=unescape(T.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(w,x){for(var N,T=w.length;T--;)7===(N=w[T]).type?N.remove():1===N.type&&"input"===x&&!("type"in N.attributes.map)&&N.attr("type","text")}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(w,x){for(var T=w.length;T--;)w[T].attr(x,null)}),{schema:l,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(w,x){var N,_,A,F,O,R;return u.ie&&v.select("script,style,select,map").length>0?(O=w.innerHTML,w=w.cloneNode(!1),v.setHTML(w,O)):w=w.cloneNode(!0),(N=document.implementation).createHTMLDocument&&(_=N.createHTMLDocument(""),i("BODY"==w.nodeName?w.childNodes:[w],function(M){_.body.appendChild(_.importNode(M,!0))}),w="BODY"!=w.nodeName?_.body.firstChild:_.body,A=v.doc,v.doc=_),(x=x||{}).format=x.format||"html",x.selection&&(x.forced_root_block=""),x.no_events||(x.node=w,this.onPreProcess(x)),function k(C){var p,v;function l(f){return f&&"br"===f.name}l(p=C.lastChild)&&l(v=p.prev)&&(p.remove(),v.remove())}(R=f.parse(c(x.getInner?w.innerHTML:v.getOuterHTML(w)),x)),F=new t(C,l),x.content=F.serialize(R),x.cleanup||(x.content=d.trim(x.content),x.content=x.content.replace(/\uFEFF/g,"")),x.no_events||this.onPostProcess(x),A&&(v.doc=A),x.node=null,x.content},addRules:function(w){l.addValidElements(w)},setRules:function(w){l.setValidElements(w)},onPreProcess:function(w){p&&p.fire("PreProcess",w)},onPostProcess:function(w){p&&p.fire("PostProcess",w)},addTempAttr:function b(w){-1===a.inArray(n,w)&&(f.addAttributeFilter(w,function(x,T){for(var N=x.length;N--;)x[N].attr(T,null)}),n.push(w))},trimHtml:o,getTrimmedContent:function e(){return E(p.getBody().innerHTML)},trimContent:E}}}),V("tinymce.core.util.VK",["tinymce.core.Env"],function(S){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(y){return y.shiftKey||y.ctrlKey||y.altKey||this.metaKeyPressed(y)},metaKeyPressed:function(y){return S.mac?y.metaKey:y.ctrlKey&&!y.altKey}}}),V("tinymce.core.dom.ControlSelection",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.NodeType"],function(S,y,h,s,t){var m=t.isContentEditableFalse,r=t.isContentEditableTrue;return function(a,d){var g,k,C,p,v,l,f,n,o,E,e,b,w,x,T,N,U,P,i=d.dom,c=y.each,_=d.getDoc(),A=document,F=s.ie&&s.ie<11,O=Math.abs,R=Math.round,M=d.getBody();p={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var B=".mce-content-body";function L(oe){var K=d.settings.object_resizing;return!1!==K&&!s.iOS&&("string"!=typeof K&&(K="table,img,div"),"false"!==oe.getAttribute("data-mce-resize"))&&oe!=d.getBody()&&d.dom.is(oe,K)}function z(oe){var K,se,we,De;T=(T=(K=oe.screenX-f)*v[2]+e)<5?5:T,N=(N=(se=oe.screenY-n)*v[3]+b)<5?5:N,("IMG"==g.nodeName&&!1!==d.settings.resize_img_proportional?!S.modifierPressed(oe):S.modifierPressed(oe)||"IMG"==g.nodeName&&v[2]*v[3]!=0)&&(O(K)>O(se)?(N=R(T*w),T=R(N/w)):(T=R(N/w),N=R(T*w))),i.setStyles(k,{width:T,height:N}),i.setStyles(C,{left:we=(we=v.startPos.x+K)>0?we:0,top:De=(De=v.startPos.y+se)>0?De:0,display:"block"}),C.innerHTML=T+" &times; "+N,v[2]<0&&k.clientWidth<=T&&i.setStyle(k,"left",o+(e-T)),v[3]<0&&k.clientHeight<=N&&i.setStyle(k,"top",E+(b-N)),(K=M.scrollWidth-U)+(se=M.scrollHeight-P)!=0&&i.setStyles(C,{left:we-K,top:De-se}),x||(d.fire("ObjectResizeStart",{target:g,width:e,height:b}),x=!0)}function q(){function oe(K,se){se&&(g.style[K]||!d.schema.isValid(g.nodeName.toLowerCase(),K)?i.setStyle(g,K,se):i.setAttrib(g,K,se))}x=!1,oe("width",T),oe("height",N),i.unbind(_,"mousemove",z),i.unbind(_,"mouseup",q),A!=_&&(i.unbind(A,"mousemove",z),i.unbind(A,"mouseup",q)),i.remove(k),i.remove(C),(!F||"TABLE"==g.nodeName)&&ee(g),d.fire("ObjectResized",{target:g,width:T,height:N}),i.setAttrib(g,"style",i.getAttrib(g,"style")),d.nodeChanged()}function ee(oe,K,se){var be,we,De,ve,Ue;ue(),Y(),be=i.getPos(oe,M),o=be.x,E=be.y,Ue=oe.getBoundingClientRect(),we=Ue.width||Ue.right-Ue.left,De=Ue.height||Ue.bottom-Ue.top,g!=oe&&(Z(),g=oe,T=N=0),ve=d.fire("ObjectSelected",{target:oe}),L(oe)&&!ve.isDefaultPrevented()?c(p,function(qe,Te){var re;function fe(Ce){f=Ce.screenX,n=Ce.screenY,w=(b=g.clientHeight)/(e=g.clientWidth),v=qe,qe.startPos={x:we*qe[0]+o,y:De*qe[1]+E},U=M.scrollWidth,P=M.scrollHeight,k=g.cloneNode(!0),i.addClass(k,"mce-clonedresizable"),i.setAttrib(k,"data-mce-bogus","all"),k.contentEditable=!1,k.unSelectabe=!0,i.setStyles(k,{left:o,top:E,margin:0}),k.removeAttribute("data-mce-selected"),M.appendChild(k),i.bind(_,"mousemove",z),i.bind(_,"mouseup",q),A!=_&&(i.bind(A,"mousemove",z),i.bind(A,"mouseup",q)),C=i.add(M,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},e+" &times; "+b)}K?Te==K&&fe(se):((re=i.get("mceResizeHandle"+Te))&&i.remove(re),re=i.add(M,"div",{id:"mceResizeHandle"+Te,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Te+"-resize; margin:0; padding:0"}),s.ie&&(re.contentEditable=!1),i.bind(re,"mousedown",function(Ce){Ce.stopImmediatePropagation(),Ce.preventDefault(),fe(Ce)}),qe.elm=re,i.setStyles(re,{left:we*qe[0]+o-re.offsetWidth/2,top:De*qe[1]+E-re.offsetHeight/2}))}):ue(),g.setAttribute("data-mce-selected","1")}function ue(){var oe,K;for(oe in Y(),g&&g.removeAttribute("data-mce-selected"),p)(K=i.get("mceResizeHandle"+oe))&&(i.unbind(K),i.remove(K))}function ae(oe){var K,se;function be(we,De){if(we)do{if(we===De)return!0}while(we=we.parentNode)}if(!x&&!d.removed){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(we){we.removeAttribute("data-mce-selected")}),se="mousedown"==oe.type?oe.target:a.getNode(),be(se=i.$(se).closest(F?"table":"table,img,hr")[0],M)&&(ie(),be(K=a.getStart(!0),se)&&be(a.getEnd(!0),se)&&(!F||se!=K&&"IMG"!==K.nodeName)))return void ee(se);ue()}}function ne(oe,K,se){oe&&oe.attachEvent&&oe.attachEvent("on"+K,se)}function he(oe,K,se){oe&&oe.detachEvent&&oe.detachEvent("on"+K,se)}function Ee(oe){var se,be,we,ve,Ue,qe,K=oe.srcElement;for(be in se=K.getBoundingClientRect(),Ue=l.clientX-se.left,qe=l.clientY-se.top,p)if(ve=K.offsetHeight*(we=p[be])[1],O(K.offsetWidth*we[0]-Ue)<8&&O(ve-qe)<8){v=we;break}x=!0,d.fire("ObjectResizeStart",{target:g,width:g.clientWidth,height:g.clientHeight}),d.getDoc().selection.empty(),ee(K,be,l)}function $(oe){return m(function u(a,d){for(;d&&d!=a;){if(r(d)||m(d))return d;d=d.parentNode}return null}(d.getBody(),oe))}function G(oe){var K=oe.srcElement;if($(K))!function me(oe){oe.preventDefault?oe.preventDefault():oe.returnValue=!1}(oe);else if(K!=g){if(d.fire("ObjectSelected",{target:K}),Z(),0===K.id.indexOf("mceResizeHandle"))return void(oe.returnValue=!1);("IMG"==K.nodeName||"TABLE"==K.nodeName)&&(ue(),g=K,ne(K,"resizestart",Ee))}}function Z(){he(g,"resizestart",Ee)}function Y(){for(var oe in p){var K=p[oe];K.elm&&(i.unbind(K.elm),delete K.elm)}}function ie(){try{d.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(oe){}}function ke(oe){var K;if(F){K=_.body.createControlRange();try{return K.addElement(oe),K.select(),!0}catch(se){}}}return d.contentStyles.push(B+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+B+" .mce-resizehandle:hover {background: #000}"+B+" img[data-mce-selected],"+B+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+B+" .mce-clonedresizable {position: absolute;"+(s.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+B+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),d.on("init",function(){F?(d.on("ObjectResized",function(K){"TABLE"!=K.target.nodeName&&(ue(),ke(K.target))}),ne(M,"controlselect",G),d.on("mousedown",function(K){l=K})):(ie(),s.ie>=11&&(d.on("mousedown click",function(K){var se=K.target,be=se.nodeName;!x&&/^(TABLE|IMG|HR)$/.test(be)&&!$(se)&&(d.selection.select(se,"TABLE"==be),"mousedown"==K.type&&d.nodeChanged())}),d.dom.bind(M,"mscontrolselect",function(K){function se(be){h.setEditorTimeout(d,function(){d.selection.select(be)})}if($(K.target))return K.preventDefault(),void se(K.target);/^(TABLE|IMG|HR)$/.test(K.target.nodeName)&&(K.preventDefault(),"IMG"==K.target.tagName&&se(K.target))})));var oe=h.throttle(function(K){d.composing||ae(K)});d.on("nodechange ResizeEditor ResizeWindow drop",oe),d.on("keyup compositionend",function(K){g&&"TABLE"==g.nodeName&&oe(K)}),d.on("hide blur",ue)}),d.on("remove",Y),{isResizable:L,showResizeRect:ee,hideResizeRect:ue,updateResizeRect:ae,controlSelect:ke,destroy:function ye(){g=k=null,F&&(Z(),he(M,"controlselect",G))}}}}),V("tinymce.core.util.Fun",[],function(){var S=[].slice;return{constant:function y(a){return function(){return a}},negate:function h(a){return function(d){return!a(d)}},and:function m(){var a=S.call(arguments);return function(d){for(var i=0;i<a.length;i++)if(!a[i](d))return!1;return!0}},or:function t(){var a=S.call(arguments);return function(d){for(var i=0;i<a.length;i++)if(a[i](d))return!0;return!1}},curry:function r(a){var d=S.call(arguments);return d.length-1>=a.length?a.apply(this,d.slice(1)):function(){var i=d.concat([].slice.call(arguments));return r.apply(this,i)}},compose:function s(a,d){return function(i){return a(d(i))}},noop:function u(){}}}),V("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(S,y,h){var s=S.isContentEditableTrue,t=S.isContentEditableFalse,m=S.isBr,r=S.isText,u=S.matchNodeNames("script style textarea"),a=S.matchNodeNames("img input textarea hr iframe video audio object"),d=S.matchNodeNames("table"),i=h.isCaretContainer;function c(v){return!i(v)&&(r(v)?!u(v.parentNode):a(v)||m(v)||d(v)||t(v))}function g(v,l){for(v=v.parentNode;v&&v!=l;v=v.parentNode){if(t(v))return!1;if(s(v))return!0}return!0}return{isCaretCandidate:c,isInEditable:g,isAtomic:function C(v){return a(v)||function k(v){return!!t(v)&&!0!==y.reduce(v.getElementsByTagName("*"),function(l,f){return l||s(f)},!1)}(v)},isEditableCaretCandidate:function p(v,l){return c(v)&&g(v,l)}}}),V("tinymce.core.geom.ClientRect",[],function(){var S=Math.round;function y(c){return c?{left:S(c.left),top:S(c.top),bottom:S(c.bottom),right:S(c.right),width:S(c.width),height:S(c.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(c,g,k){return c>=0&&c<=Math.min(g.height,k.height)/2}function m(c,g){return c.bottom-c.height/2<g.top||!(c.top>g.bottom)&&t(g.top-c.bottom,c,g)}function r(c,g){return c.top>g.bottom||!(c.bottom<g.top)&&t(g.bottom-c.top,c,g)}function u(c,g){return c.left<g.left}function a(c,g){return c.right>g.right}return{clone:y,collapse:function h(c,g){return c=y(c),g||(c.left=c.left+c.width),c.right=c.left,c.width=0,c},isEqual:function s(c,g){return c.left===g.left&&c.top===g.top&&c.bottom===g.bottom&&c.right===g.right},isAbove:m,isBelow:r,isLeft:u,isRight:a,compare:function d(c,g){return m(c,g)?-1:r(c,g)?1:u(c,g)?-1:a(c,g)?1:0},containsXY:function i(c,g,k){return g>=c.left&&g<=c.right&&k>=c.top&&k<=c.bottom}}}),V("tinymce.core.text.ExtendingChar",[],function(){var S=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:function y(h){return"string"==typeof h&&h.charCodeAt(0)>=768&&S.test(h)}}}),V("tinymce.core.caret.CaretPosition",["tinymce.core.util.Fun","tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.dom.RangeUtils","tinymce.core.caret.CaretCandidate","tinymce.core.geom.ClientRect","tinymce.core.text.ExtendingChar"],function(S,y,h,s,t,m,r){var u=y.isElement,a=t.isCaretCandidate,d=y.matchStyleValues("display","block table"),i=y.matchStyleValues("float","left right"),c=S.and(u,a,S.negate(i)),g=S.negate(y.matchStyleValues("white-space","pre pre-line pre-wrap")),k=y.isText,C=y.isBr,p=h.nodeIndex,v=s.getNode;function l(e){return"createRange"in e?e.createRange():h.DOM.createRng()}function f(e){return e&&/[\r\n\t ]/.test(e)}function n(e){var x,b=e.startContainer,w=e.startOffset;return!!(f(e.toString())&&g(b.parentNode)&&(x=b.data,f(x[w-1])||f(x[w+1])))}function E(e,b,w){function _(){return w||(w=function o(e){var w,x,b=[];function N(O){var R,M;return M=O.getClientRects(),R=m.clone(M.length>0?M[0]:O.getBoundingClientRect()),C(O)&&0===R.left?function T(O){var B,R=O.ownerDocument,M=l(R),U=R.createTextNode("\xa0"),P=O.parentNode;return P.insertBefore(U,O),M.setStart(U,0),M.setEnd(U,1),B=m.clone(M.getBoundingClientRect()),P.removeChild(U),B}(O):R}function _(O,R){return(O=m.collapse(O,R)).width=1,O.right=O.left+1,O}function A(O){0!==O.height&&(b.length>0&&m.isEqual(O,b[b.length-1])||b.push(O))}function F(O,R){var M=l(O.ownerDocument);if(R<O.data.length){if(r.isExtendingChar(O.data[R]))return b;if(r.isExtendingChar(O.data[R-1])&&(M.setStart(O,R),M.setEnd(O,R+1),!n(M)))return A(_(N(M),!1)),b}R>0&&(M.setStart(O,R-1),M.setEnd(O,R),n(M)||A(_(N(M),!1))),R<O.data.length&&(M.setStart(O,R),M.setEnd(O,R+1),n(M)||A(_(N(M),!0)))}if(k(e.container()))return F(e.container(),e.offset()),b;if(u(e.container()))if(e.isAtEnd())x=v(e.container(),e.offset()),k(x)&&F(x,x.data.length),c(x)&&!C(x)&&A(_(N(x),!1));else{if(x=v(e.container(),e.offset()),k(x)&&F(x,0),c(x)&&e.isAtEnd())return A(_(N(x),!1)),b;w=v(e.container(),e.offset()-1),c(w)&&!C(w)&&(d(w)||d(x)||!c(x))&&A(_(N(w),!1)),c(x)&&A(_(N(x),!0))}return b}(new E(e,b))),w}return{container:S.constant(e),offset:S.constant(b),toRange:function N(){var R;return(R=l(e.ownerDocument)).setStart(e,b),R.setEnd(e,b),R},getClientRects:_,isVisible:function A(){return _().length>0},isAtStart:function x(){return k(e),0===b},isAtEnd:function T(){return k(e)?b>=e.data.length:b>=e.childNodes.length},isEqual:function F(R){return R&&e===R.container()&&b===R.offset()},getNode:function O(R){return v(e,R?b-1:b)}}}return E.fromRangeStart=function(e){return new E(e.startContainer,e.startOffset)},E.fromRangeEnd=function(e){return new E(e.endContainer,e.endOffset)},E.after=function(e){return new E(e.parentNode,p(e)+1)},E.before=function(e){return new E(e.parentNode,p(e))},E.isAtStart=function(e){return!!e&&e.isAtStart()},E.isAtEnd=function(e){return!!e&&e.isAtEnd()},E.isTextPosition=function(e){return!!e&&y.isText(e.container())},E}),V("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(S,y,h,s,t){var m=S.isText,r=S.isBogus,u=y.nodeIndex;function a(n){var o=n.parentNode;return r(o)?a(o):o}function d(n){return n?s.reduce(n.childNodes,function(o,E){return r(E)&&"BR"!=E.nodeName?o=o.concat(d(E)):o.push(E),o},[]):[]}function c(n){return function(o){return n===o}}function g(n){var o,E,e;return o=d(a(n)),E=s.findIndex(o,c(n),n),o=o.slice(0,E+1),e=s.reduce(o,function(b,w,x){return m(w)&&m(o[x-1])&&b++,b},0),o=s.filter(o,S.matchNodeNames(n.nodeName)),(E=s.findIndex(o,c(n),n))-e}function k(n){return(m(n)?"text()":n.nodeName.toLowerCase())+"["+g(n)+"]"}return{create:function p(n,o){var E,e,w,x,T,b=[];return E=o.container(),e=o.offset(),m(E)?w=function i(n,o){for(;(n=n.previousSibling)&&m(n);)o+=n.data.length;return o}(E,e):(e>=(x=E.childNodes).length?(w="after",e=x.length-1):w="before",E=x[e]),b.push(k(E)),T=function C(n,o,E){var e=[];for(o=o.parentNode;!(o==n||E&&E(o));o=o.parentNode)e.push(o);return e}(n,E),T=s.filter(T,h.negate(S.isBogus)),(b=b.concat(s.map(T,function(N){return k(N)}))).reverse().join("/")+","+w},resolve:function f(n,o){var E,e,b;return o&&(E=o.split(","),o=E[0].split("/"),b=E.length>1?E[1]:"before",e=s.reduce(o,function(w,x){return(x=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(x))?("text()"===x[1]&&(x[1]="#text"),function v(n,o,E){var e=d(n);return e=s.filter(e,function(b,w){return!m(b)||!m(e[w-1])}),(e=s.filter(e,S.matchNodeNames(o)))[E]}(w,x[1],parseInt(x[2],10))):null},n),e)?m(e)?function l(n,o){for(var b,E=n,e=0;m(E);){if(b=E.data.length,o>=e&&o<=e+b){n=E,o-=e;break}if(!m(E.nextSibling)){n=E,o=b;break}e+=b,E=E.nextSibling}return o>n.data.length&&(o=n.data.length),new t(n,o)}(e,parseInt(b,10)):(b="after"===b?u(e)+1:u(e),new t(e.parentNode,b)):null}}}),V("tinymce.core.dom.BookmarkManager",["tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r,u){var a=s.isContentEditableFalse;function i(c){var g=c.dom;this.getBookmark=function(k,C){var p,v,l,f,n,o,e,E="&#xFEFF;";function b(N,_){var A=0;return u.each(g.select(N),function(F){if("all"!==F.getAttribute("data-mce-bogus")){if(F==_)return!1;A++}}),A}function w(N){function _(A){var F,O,R,M=A?"start":"end";O=N[M+"Offset"],1==(F=N[M+"Container"]).nodeType&&"TR"==F.nodeName&&(F=(R=F.childNodes)[Math.min(A?O:O-1,R.length-1)])&&N["set"+(A?"Start":"End")](F,O=A?0:F.childNodes.length)}return _(!0),_(),N}if(2==k)return n=(o=c.getNode())?o.nodeName:null,p=c.getRng(),a(o)||"IMG"==n?{name:n,index:b(n,o)}:c.tridentSel?c.tridentSel.getBookmark(k):(o=function T(N){function _(A,F){var O;return s.isElement(A)&&(A=t.getNode(A,F),a(A))?A:y.isCaretContainer(A)&&(s.isText(A)&&y.isCaretContainerBlock(A)&&(A=A.parentNode),a(O=A.previousSibling)||a(O=A.nextSibling))?O:void 0}return _(N.startContainer,N.startOffset)||_(N.endContainer,N.endOffset)}(p))?{name:n=o.tagName,index:b(n,o)}:function x(N){var _=g.getRoot(),A={};function F(O,R){var B,M=O[R?"startContainer":"endContainer"],U=O[R?"startOffset":"endOffset"],P=[],L=0;for(3===M.nodeType?P.push(C?function(c,g){var k,C;for(C=r.trim(c.data.slice(0,g)).length,k=c.previousSibling;k&&3===k.nodeType;k=k.previousSibling)C+=r.trim(k.data).length;return C}(M,U):U):(U>=(B=M.childNodes).length&&B.length&&(L=1,U=Math.max(0,B.length-1)),P.push(g.nodeIndex(B[U],C)+L));M&&M!=_;M=M.parentNode)P.push(g.nodeIndex(M,C));return P}return A.start=F(N,!0),c.isCollapsed()||(A.end=F(N)),A}(p);if(3==k)return p=c.getRng(),{start:S.create(g.getRoot(),h.fromRangeStart(p)),end:S.create(g.getRoot(),h.fromRangeEnd(p))};if(k)return{rng:c.getRng()};if(p=c.getRng(),l=g.uniqueId(),f=c.isCollapsed(),e="overflow:hidden;line-height:0px",p.duplicate||p.item){if(p.item)return{name:n=(o=p.item(0)).nodeName,index:b(n,o)};v=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+e+'">'+E+"</span>"),f||(v.collapse(!1),p.moveToElementText(v.parentElement()),0===p.compareEndPoints("StartToEnd",v)&&v.move("character",-1),v.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+e+'">'+E+"</span>"))}catch(N){return null}}else{if("IMG"==(n=(o=c.getNode()).nodeName))return{name:n,index:b(n,o)};v=w(p.cloneRange()),f||(v.collapse(!1),v.insertNode(g.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:e},E))),(p=w(p)).collapse(!0),p.insertNode(g.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:e},E))}return c.moveToBookmark({id:l,keep:1}),{id:l}},this.moveToBookmark=function(k){var C,p,v,l,f,n;function o(w){var T,N,_,A,x=k[w?"start":"end"];if(x){for(_=x[0],N=p,T=x.length-1;T>=1;T--){if(x[T]>(A=N.childNodes).length-1)return;N=A[x[T]]}3===N.nodeType&&(_=Math.min(x[0],N.nodeValue.length)),1===N.nodeType&&(_=Math.min(x[0],N.childNodes.length)),w?C.setStart(N,_):C.setEnd(N,_)}return!0}function E(w){var T,N,_,A,x=g.get(k.id+"_"+w),F=k.keep;if(x&&(T=x.parentNode,"start"==w?(F?(T=x.firstChild,N=1):N=g.nodeIndex(x),v=l=T,f=n=N):(F?(T=x.firstChild,N=1):N=g.nodeIndex(x),l=T,n=N),!F)){for(A=x.previousSibling,_=x.nextSibling,u.each(u.grep(x.childNodes),function(O){3==O.nodeType&&(O.nodeValue=O.nodeValue.replace(/\uFEFF/g,""))});x=g.get(k.id+"_"+w);)g.remove(x,1);A&&_&&A.nodeType==_.nodeType&&3==A.nodeType&&!m.opera&&(N=A.nodeValue.length,A.appendData(_.nodeValue),g.remove(_),"start"==w?(v=l=A,f=n=N):(l=A,n=N))}}function e(w){return g.isBlock(w)&&!w.innerHTML&&!m.ie&&(w.innerHTML='<br data-mce-bogus="1" />'),w}if(k)if(u.isArray(k.start)){if(C=g.createRng(),p=g.getRoot(),c.tridentSel)return c.tridentSel.moveToBookmark(k);o(!0)&&o()&&c.setRng(C)}else"string"==typeof k.start?c.setRng(function b(){var w,x;return w=g.createRng(),x=S.resolve(g.getRoot(),k.start),w.setStart(x.container(),x.offset()),x=S.resolve(g.getRoot(),k.end),w.setEnd(x.container(),x.offset()),w}()):k.id?(E("start"),E("end"),v&&((C=g.createRng()).setStart(e(v),f),C.setEnd(e(l),n),c.setRng(C))):k.name?c.select(g.select(k.name)[k.index]):k.rng&&c.setRng(k.rng)}}return i.isBookmarkNode=function(c){return c&&"SPAN"===c.tagName&&"bookmark"===c.getAttribute("data-mce-type")},i}),V("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(S){var y=function(t){for(var m=0,r=0,u=t;u&&u.nodeType;)m+=u.offsetLeft||0,r+=u.offsetTop||0,u=u.offsetParent;return{x:m,y:r}};return{scrollIntoView:function(t,m,r){var u,a,c,g,d=t.dom,i=d.getRoot(),k=0;if(!function(t,m,r){var u={elm:m,alignToTop:r};return t.fire("scrollIntoView",u),u.isDefaultPrevented()}(t,m,r)&&S.isElement(m)){if(!1===r&&(k=m.offsetHeight),"BODY"!==i.nodeName){var C=t.selection.getScrollContainer();if(C)return u=y(m).y-y(C).y+k,g=C.clientHeight,void((u<(c=C.scrollTop)||u+25>c+g)&&(C.scrollTop=u<c?u:u-g+25))}a=d.getViewPort(t.getWin()),u=d.getPos(m).y+k,c=a.y,g=a.h,(u<a.y||u+25>c+g)&&t.getWin().scrollTo(0,u<c?u:u-g+25)}}}}),V("tinymce.core.dom.TridentSelection",[],function(){return function S(y){var h=this,s=y.dom;function m(u,a){var d,c,g,k,C,p,v,f,i=0,l=-1;if((d=u.duplicate()).collapse(a),(f=d.parentElement()).ownerDocument===y.dom.doc){for(;"false"===f.contentEditable;)f=f.parentNode;if(!f.hasChildNodes())return{node:f,inside:1};for(c=(k=f.children).length-1;i<=c;)if(v=Math.floor((i+c)/2),d.moveToElementText(C=k[v]),(l=d.compareEndPoints(a?"StartToStart":"EndToEnd",u))>0)c=v-1;else{if(!(l<0))return{node:C};i=v+1}if(l<0)for(C?d.collapse(!1):(d.moveToElementText(f),d.collapse(!0),C=f,g=!0),p=0;0!==d.compareEndPoints(a?"StartToStart":"StartToEnd",u)&&0!==d.move("character",1)&&f==d.parentElement();)p++;else for(d.collapse(!0),p=0;0!==d.compareEndPoints(a?"StartToStart":"StartToEnd",u)&&0!==d.move("character",-1)&&f==d.parentElement();)p++;return{node:C,position:l,offset:p,inside:g}}}this.getBookmark=function(u){var a=y.getRng(),d={};function i(g){var k,C,p,v,l=[];for(k=g.parentNode,C=s.getRoot().parentNode;k!=C&&9!==k.nodeType;){for(v=(p=k.children).length;v--;)if(g===p[v]){l.push(v);break}g=k,k=k.parentNode}return l}function c(g){var k;if(k=m(a,g))return{position:k.position,offset:k.offset,indexes:i(k.node),inside:k.inside}}return 2===u&&(a.item?d.start={ctrl:!0,indexes:i(a.item(0))}:(d.start=c(!0),y.isCollapsed()||(d.end=c()))),d},this.moveToBookmark=function(u){var a,d=s.doc.body;function i(g){var k,C,p,v;for(k=s.getRoot(),C=g.length-1;C>=0;C--)(p=g[C])<=(v=k.children).length-1&&(k=v[p]);return k}function c(g){var C,p,l,k=u[g?"start":"end"];k&&(C=k.position>0,(p=d.createTextRange()).moveToElementText(i(k.indexes)),void 0!==(l=k.offset)?(p.collapse(k.inside||C),p.moveStart("character",C?-l:l)):p.collapse(g),a.setEndPoint(g?"StartToStart":"EndToStart",p),g&&a.collapse(!0))}u.start&&(u.start.ctrl?((a=d.createControlRange()).addElement(i(u.start.indexes)),a.select()):(a=d.createTextRange(),c(!0),c(),a.select()))},this.addRange=function(u){var a,d,i,c,g,k,C,l,f,p=y.dom.doc,v=p.body;function n(o){var E,e,b,w,x;b=s.create("a"),E=o?i:g,e=o?c:k,w=a.duplicate(),(E==p||E==p.documentElement)&&(E=v,e=0),3==E.nodeType?(E.parentNode.insertBefore(b,E),w.moveToElementText(b),w.moveStart("character",e),s.remove(b),a.setEndPoint(o?"StartToStart":"EndToEnd",w)):((x=E.childNodes).length?(e>=x.length?s.insertAfter(b,x[x.length-1]):E.insertBefore(b,x[e]),w.moveToElementText(b)):E.canHaveHTML&&(E.innerHTML="<span>&#xFEFF;</span>",w.moveToElementText(b=E.firstChild),w.collapse(!1)),a.setEndPoint(o?"StartToStart":"EndToEnd",w),s.remove(b))}if(i=u.startContainer,c=u.startOffset,g=u.endContainer,k=u.endOffset,a=v.createTextRange(),i==g&&1==i.nodeType){if(c==k&&!i.hasChildNodes()){if(i.canHaveHTML)return(C=i.previousSibling)&&!C.hasChildNodes()&&s.isBlock(C)?C.innerHTML="&#xFEFF;":C=null,i.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(i.lastChild),a.select(),s.doc.selection.clear(),i.innerHTML="",void(C&&(C.innerHTML=""));c=s.nodeIndex(i),i=i.parentNode}if(c==k-1)try{if(f=i.childNodes[c],(d=v.createControlRange()).addElement(f),d.select(),(l=y.getRng()).item&&f===l.item(0))return}catch(o){}}n(!0),n(),a.select()},this.getRangeAt=function r(){var d,i,c,g,k,u=y.getRng(),a=s.createRng();if((d=u.item?u.item(0):u.parentElement()).ownerDocument!=s.doc)return a;if(i=y.isCollapsed(),u.item)return a.setStart(d.parentNode,s.nodeIndex(d)),a.setEnd(a.startContainer,a.startOffset+1),a;function C(p){var l,f,o,e,v=m(u,p),n=0;if(l=v.node,f=v.offset,!v.inside||l.hasChildNodes())if(void 0!==f){if(v.position<0){if(!(o=v.inside?l.firstChild:l.nextSibling))return void a[p?"setStartAfter":"setEndAfter"](l);if(!f)return void(3==o.nodeType?a[p?"setStart":"setEnd"](o,0):a[p?"setStartBefore":"setEndBefore"](o));for(;o;){if(3==o.nodeType&&(n+=(e=o.nodeValue).length)>=f){l=o,n=e.length-(n-=f);break}o=o.nextSibling}}else{if(!(o=l.previousSibling))return a[p?"setStartBefore":"setEndBefore"](l);if(!f)return void(3==l.nodeType?a[p?"setStart":"setEnd"](o,l.nodeValue.length):a[p?"setStartAfter":"setEndAfter"](o));for(;o;){if(3==o.nodeType&&(n+=o.nodeValue.length)>=f){l=o,n-=f;break}o=o.previousSibling}}a[p?"setStart":"setEnd"](l,n)}else a[p?"setStartBefore":"setEndAfter"](l);else a[p?"setStart":"setEnd"](l,0)}try{C(!0),i||C()}catch(p){if(-2147024809!=p.number)throw p;k=h.getBookmark(2),(c=u.duplicate()).collapse(!0),d=c.parentElement(),i||((c=u.duplicate()).collapse(!1),(g=c.parentElement()).innerHTML=g.innerHTML),d.innerHTML=d.innerHTML,h.moveToBookmark(k),u=y.getRng(),C(!0),i||C()}return a}}}),V("ephox.katamari.api.Type",["global!Array","global!String"],function(S,y){var s=function(t){return function(m){return function(t){if(null===t)return"null";var m=typeof t;return"object"===m&&S.prototype.isPrototypeOf(t)?"array":"object"===m&&y.prototype.isPrototypeOf(t)?"string":m}(m)===t}};return{isString:s("string"),isObject:s("object"),isArray:s("array"),isNull:s("null"),isBoolean:s("boolean"),isUndefined:s("undefined"),isFunction:s("function"),isNumber:s("number")}}),V("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(S,y,h,s){return function(){var t=arguments;return function(){for(var m=new h(arguments.length),r=0;r<m.length;r++)m[r]=arguments[r];if(t.length!==m.length)throw new s('Wrong number of arguments to struct. Expected "['+t.length+']", got '+m.length+" arguments");var u={};return S.each(t,function(a,d){u[a]=y.constant(m[d])}),u}}}),V("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(S,y){var c,h=void 0===(c=y.keys)?function(k){var C=[];for(var p in k)k.hasOwnProperty(p)&&C.push(p);return C}:c,s=function(c,g){for(var k=h(c),C=0,p=k.length;C<p;C++){var v=k[C];g(c[v],v,c)}},m=function(c,g){var k={};return s(c,function(C,p){var v=g(C,p,c);k[v.k]=v.v}),k},u=function(c,g){var k=[];return s(c,function(C,p){k.push(g(C,p))}),k},d=function(c){return u(c,function(g){return g})};return{bifilter:function(c,g){var k={},C={};return s(c,function(p,v){(g(p,v)?k:C)[v]=p}),{t:k,f:C}},each:s,map:function(c,g){return m(c,function(k,C,p){return{k:C,v:g(k,C,p)}})},mapToArray:u,tupleMap:m,find:function(c,g){for(var k=h(c),C=0,p=k.length;C<p;C++){var v=k[C],l=c[v];if(g(l,v,c))return S.some(l)}return S.none()},keys:h,values:d,size:function(c){return d(c).length}}}),V("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(S,y,h){var s=function(d){return d.slice(0).sort()};return{sort:s,reqMessage:function(d,i){throw new h("All required keys ("+s(d).join(", ")+") were not specified. Specified keys were: "+s(i).join(", ")+".")},unsuppMessage:function(d){throw new h("Unsupported keys for object: "+s(d).join(", "))},validateStrArr:function(d,i){if(!y.isArray(i))throw new h("The "+d+" fields must be an array. Was: "+i+".");S.each(i,function(c){if(!y.isString(c))throw new h("The value "+c+" in the "+d+" fields was not a string.")})},invalidTypeMessage:function(d,i){throw new h("All values need to be of type: "+i+". Keys ("+s(d).join(", ")+") were not.")},checkDupes:function(d){var i=s(d);S.find(i,function(g,k){return k<i.length-1&&g===i[k+1]}).each(function(g){throw new h("The field: "+g+" occurs more than once in the combined fields: ["+i.join(", ")+"].")})}}}),V("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(S,y,h,s,t,m,r){return function(u,a){var d=u.concat(a);if(0===d.length)throw new m("You must specify at least one required or optional field.");return t.validateStrArr("required",u),t.validateStrArr("optional",a),t.checkDupes(d),function(i){var c=h.keys(i);S.forall(u,function(p){return S.contains(c,p)})||t.reqMessage(u,c);var k=S.filter(c,function(p){return!S.contains(d,p)});k.length>0&&t.unsuppMessage(k);var C={};return S.each(u,function(p){C[p]=y.constant(i[p])}),S.each(a,function(p){C[p]=y.constant(r.prototype.hasOwnProperty.call(i,p)?s.some(i[p]):s.none())}),C}}}),V("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(S,y){return{immutable:S,immutableBag:y}}),V("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(y,h){var s=[],t=function(r){return s.push(r),h(r)},m=h(y);do{m=m.bind(t)}while(m.isSome());return s}}}),V("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),V("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(S){var y=function(r,u){for(var a=void 0!==u?u:S,d=0;d<r.length&&null!=a;++d)a=a[r[d]];return a},s=function(r,u){return null==r[u]&&(r[u]={}),r[u]},t=function(r,u){for(var a=void 0!==u?u:S,d=0;d<r.length;++d)a=s(a,r[d]);return a};return{path:y,resolve:function(r,u){var a=r.split(".");return y(a,u)},forge:t,namespace:function(r,u){var a=r.split(".");return t(a,u)}}}),V("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(S){return{getOrDie:function(s,t){var m=function(s,t){return S.resolve(s,t)}(s,t);if(void 0===m)throw s+" not available on this browser";return m}}}),V("ephox.sand.api.Node",["ephox.sand.util.Global"],function(S){var y=function(){return S.getOrDie("Node")},h=function(m,r,u){return 0!=(m.compareDocumentPosition(r)&u)};return{documentPositionPreceding:function(m,r){return h(m,r,y().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(m,r){return h(m,r,y().DOCUMENT_POSITION_CONTAINED_BY)}}}),V("ephox.katamari.api.Thunk",[],function(){return{cached:function(y){var s,h=!1;return function(){return h||(h=!0,s=y.apply(null,arguments)),s}}}}),et("global!Number",Number),V("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(S,y,h){var r=function(){return u(0,0)},u=function(a,d){return{major:a,minor:d}};return{nu:u,detect:function(a,d){var i=h(d).toLowerCase();return 0===a.length?r():function(a,d){var i=function(a,d){for(var i=0;i<a.length;i++){var c=a[i];if(c.test(d))return c}}(a,d);if(!i)return{major:0,minor:0};var c=function(g){return y(d.replace(i,"$"+g))};return u(c(1),c(2))}(a,i)},unknown:r}}),V("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(S,y){var h="Edge",s="Chrome",m="Opera",r="Firefox",u="Safari",a=function(c,g){return function(){return g===c}},i=function(c){var g=c.current;return{current:g,version:c.version,isEdge:a(h,g),isChrome:a(s,g),isIE:a("IE",g),isOpera:a(m,g),isFirefox:a(r,g),isSafari:a(u,g)}};return{unknown:function(){return i({current:void 0,version:y.unknown()})},nu:i,edge:S.constant(h),chrome:S.constant(s),ie:S.constant("IE"),opera:S.constant(m),firefox:S.constant(r),safari:S.constant(u)}}),V("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(S,y){var h="Windows",t="Android",m="Linux",u="Solaris",a="FreeBSD",d=function(g,k){return function(){return k===g}},c=function(g){var k=g.current;return{current:k,version:g.version,isWindows:d(h,k),isiOS:d("iOS",k),isAndroid:d(t,k),isOSX:d("OSX",k),isLinux:d(m,k),isSolaris:d(u,k),isFreeBSD:d(a,k)}};return{unknown:function(){return c({current:void 0,version:y.unknown()})},nu:c,windows:S.constant(h),ios:S.constant("iOS"),android:S.constant(t),linux:S.constant(m),osx:S.constant("OSX"),solaris:S.constant(u),freebsd:S.constant(a)}}),V("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(S){return function(y,h,s){var t=y.isiOS()&&!0===/ipad/i.test(s),m=y.isiOS()&&!t,r=y.isAndroid()&&3===y.version.major,u=y.isAndroid()&&4===y.version.major,a=t||r||u&&!0===/mobile/i.test(s),d=y.isiOS()||y.isAndroid(),i=d&&!a,c=h.isSafari()&&y.isiOS()&&!1===/safari/i.test(s);return{isiPad:S.constant(t),isiPhone:S.constant(m),isTablet:S.constant(a),isPhone:S.constant(i),isTouch:S.constant(d),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:S.constant(c)}}}),V("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(S,y,h){var s=function(r,u){var a=h(u).toLowerCase();return S.find(r,function(d){return d.search(a)})};return{detectBrowser:function(r,u){return s(r,u).map(function(a){var d=y.detect(a.versionRegexes,u);return{current:a.name,version:d}})},detectOs:function(r,u){return s(r,u).map(function(a){var d=y.detect(a.versionRegexes,u);return{current:a.name,version:d}})}}}),V("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(t,m){return m+t},addToEnd:function(t,m){return t+m},removeFromStart:function(t,m){return t.substring(m)},removeFromEnd:function(t,m){return t.substring(0,t.length-m)}}}),V("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(S,y){return{first:function(r,u){return r.substr(0,u)},last:function(r,u){return r.substr(r.length-u,r.length)},head:function(r){return""===r?S.none():S.some(r.substr(0,1))},tail:function(r){return""===r?S.none():S.some(r.substring(1))}}}),V("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(S,y,h){var s=function(v,l,f){return""===l||!(v.length<l.length)&&v.substr(f,f+l.length)===l},c=function(v,l){return s(v,l,0)},g=function(v,l){return s(v,l,v.length-l.length)};return{supplant:function(v,l){return v.replace(/\${([^{}]*)}/g,function(n,o){var E=l[o];return function(n){var o=typeof n;return"string"===o||"number"===o}(E)?E:n})},startsWith:c,removeLeading:function(v,l){return c(v,l)?S.removeFromStart(v,l.length):v},removeTrailing:function(v,l){return g(v,l)?S.removeFromEnd(v,l.length):v},ensureLeading:function(v,l){return c(v,l)?v:S.addToStart(v,l)},ensureTrailing:function(v,l){return g(v,l)?v:S.addToEnd(v,l)},endsWith:g,contains:function(v,l){return-1!==v.indexOf(l)},trim:function(v){return v.replace(/^\s+|\s+$/g,"")},lTrim:function(v){return v.replace(/^\s+/g,"")},rTrim:function(v){return v.replace(/\s+$/g,"")},capitalize:function(v){return y.head(v).bind(function(l){return y.tail(v).map(function(f){return l.toUpperCase()+f})}).getOr(v)}}}),V("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(S,y){var h=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,s=function(r){return function(u){return y.contains(u,r)}},t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(r){return y.contains(r,"edge/")&&y.contains(r,"chrome")&&y.contains(r,"safari")&&y.contains(r,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,h],search:function(r){return y.contains(r,"chrome")&&!y.contains(r,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(r){return y.contains(r,"msie")||y.contains(r,"trident")}},{name:"Opera",versionRegexes:[h,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:s("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:s("firefox")},{name:"Safari",versionRegexes:[h,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(r){return(y.contains(r,"safari")||y.contains(r,"mobile/"))&&y.contains(r,"applewebkit")}}],m=[{name:"Windows",search:s("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(r){return y.contains(r,"iphone")||y.contains(r,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:s("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:s("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:s("linux"),versionRegexes:[]},{name:"Solaris",search:s("sunos"),versionRegexes:[]},{name:"FreeBSD",search:s("freebsd"),versionRegexes:[]}];return{browsers:S.constant(t),oses:S.constant(m)}}),V("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(S,y,h,s,t){return{detect:function(r){var u=t.browsers(),a=t.oses(),d=s.detectBrowser(u,r).fold(S.unknown,S.nu),i=s.detectOs(a,r).fold(y.unknown,y.nu);return{browser:d,os:i,deviceType:h(i,d,r)}}}}),et("global!navigator",navigator),V("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(S,y,h){return{detect:S.cached(function(){return y.detect(h.userAgent)})}}),V("global!console",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),et("global!document",document),V("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(S,y,h,s){var u=function(a){if(null==a)throw new y("Node cannot be null or undefined");return{dom:S.constant(a)}};return{fromHtml:function(a,d){var c=(d||s).createElement("div");if(c.innerHTML=a,!c.hasChildNodes()||c.childNodes.length>1)throw h.error("HTML does not have a single root node",a),"HTML must have a single root node";return u(c.childNodes[0])},fromTag:function(a,d){var c=(d||s).createElement(a);return u(c)},fromText:function(a,d){var c=(d||s).createTextNode(a);return u(c)},fromDom:u}}),V("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),V("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(S,y,h,s,t,m){var l,i=void 0!==(l=m.createElement("span")).matches?0:void 0!==l.msMatchesSelector?1:void 0!==l.webkitMatchesSelector?2:void 0!==l.mozMatchesSelector?3:-1,c=s.ELEMENT,g=s.DOCUMENT,C=function(l){return l.nodeType!==c&&l.nodeType!==g||0===l.childElementCount};return{all:function(l,f){var n=void 0===f?m:f.dom();return C(n)?[]:S.map(n.querySelectorAll(l),h.fromDom)},is:function(l,f){var n=l.dom();if(n.nodeType!==c)return!1;if(0===i)return n.matches(f);if(1===i)return n.msMatchesSelector(f);if(2===i)return n.webkitMatchesSelector(f);if(3===i)return n.mozMatchesSelector(f);throw new t("Browser lacks native selectors")},one:function(l,f){var n=void 0===f?m:f.dom();return C(n)?y.none():y.from(n.querySelector(l)).map(h.fromDom)}}}),V("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(S,y,h,s,t){var m=function(g,k){return g.dom()===k.dom()},c=s.detect().browser.isIE()?function(g,k){return h.documentPositionContainedBy(g.dom(),k.dom())}:function(g,k){var C=g.dom(),p=k.dom();return C!==p&&C.contains(p)};return{eq:m,isEqualNode:function(g,k){return g.dom().isEqualNode(k.dom())},member:function(g,k){return S.exists(k,y.curry(m,g))},contains:c,is:t.is}}),V("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(S,y,h,s,t,m,r,u){var a=function(T){return u.fromDom(T.dom().ownerDocument)},c=function(T){var N=T.dom();return s.from(N.parentNode).map(u.fromDom)},v=function(T){var N=T.dom();return s.from(N.previousSibling).map(u.fromDom)},l=function(T){var N=T.dom();return s.from(N.nextSibling).map(u.fromDom)},o=function(T){var N=T.dom();return y.map(N.childNodes,u.fromDom)},E=function(T,N){var _=T.dom().childNodes;return s.from(_[N]).map(u.fromDom)},w=t.immutable("element","offset");return{owner:a,defaultView:function(T){var N=T.dom();return u.fromDom(N.ownerDocument.defaultView)},documentElement:function(T){var N=a(T);return u.fromDom(N.dom().documentElement)},parent:c,findIndex:function(T){return c(T).bind(function(N){var _=o(N);return y.findIndex(_,function(A){return r.eq(T,A)})})},parents:function(T,N){for(var _=S.isFunction(N)?N:h.constant(!1),A=T.dom(),F=[];null!=A.parentNode;){var O=A.parentNode,R=u.fromDom(O);if(F.push(R),!0===_(R))break;A=O}return F},siblings:function(T){return c(T).map(o).map(function(_){return y.filter(_,function(A){return!r.eq(T,A)})}).getOr([])},prevSibling:v,offsetParent:function(T){var N=T.dom();return s.from(N.offsetParent).map(u.fromDom)},prevSiblings:function(T){return y.reverse(m.toArray(T,v))},nextSibling:l,nextSiblings:function(T){return m.toArray(T,l)},children:o,child:E,firstChild:function(T){return E(T,0)},lastChild:function(T){return E(T,T.dom().childNodes.length-1)},leaf:function(T,N){var _=o(T);return _.length>0&&N<_.length?w(_[N],0):w(T,N)}}}),V("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(S){var y=function(u,a){S.parent(u).each(function(i){i.dom().insertBefore(a.dom(),u.dom())})},t=function(u,a){u.dom().appendChild(a.dom())};return{before:y,after:function(u,a){S.nextSibling(u).fold(function(){S.parent(u).each(function(c){t(c,a)})},function(i){y(i,a)})},prepend:function(u,a){S.firstChild(u).fold(function(){t(u,a)},function(i){u.dom().insertBefore(a.dom(),i.dom())})},append:t,appendAt:function(u,a,d){S.child(u,d).fold(function(){t(u,a)},function(i){y(i,a)})},wrap:function(u,a){y(u,a),t(a,u)}}}),V("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(S){var y=function(d){return d.dom().nodeName.toLowerCase()},h=function(d){return d.dom().nodeType},t=function(d){return function(i){return h(i)===d}},r=t(S.ELEMENT),u=t(S.TEXT),a=t(S.DOCUMENT);return{name:y,type:h,value:function(d){return d.dom().nodeValue},isElement:r,isText:u,isDocument:a,isComment:function(d){return h(d)===S.COMMENT||"#comment"===y(d)}}}),V("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(S,y,h,s,t,m){var r=function(v,l,f){if(!(S.isString(f)||S.isBoolean(f)||S.isNumber(f)))throw m.error("Invalid call to Attr.set. Key ",l,":: Value ",f,":: Element ",v),new t("Attribute value was not simple");v.setAttribute(l,f+"")},u=function(v,l,f){r(v.dom(),l,f)},d=function(v,l){var f=v.dom().getAttribute(l);return null===f?void 0:f},i=function(v,l){var f=v.dom();return!(!f||!f.hasAttribute)&&f.hasAttribute(l)};return{clone:function(v){return y.foldl(v.dom().attributes,function(l,f){return l[f.name]=f.value,l},{})},set:u,setAll:function(v,l){var f=v.dom();h.each(l,function(n,o){r(f,o,n)})},get:d,has:i,remove:function(v,l){v.dom().removeAttribute(l)},hasNone:function(v){var l=v.dom().attributes;return null==l||0===l.length},transfer:function(v,l,f){!s.isElement(v)||!s.isElement(l)||y.each(f,function(n){!function(v,l,f){i(v,f)&&!i(l,f)&&u(l,f,d(v,f))}(v,l,n)})}}}),V("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(S,y){return{before:function(r,u){S.each(u,function(a){y.before(r,a)})},after:function(r,u){S.each(u,function(a,d){y.after(0===d?r:u[d-1],a)})},prepend:function(r,u){S.each(u.slice().reverse(),function(a){y.prepend(r,a)})},append:function(r,u){S.each(u,function(a){y.append(r,a)})}}}),V("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(S,y,h){var t=function(r){var u=r.dom();null!==u.parentNode&&u.parentNode.removeChild(u)};return{empty:function(r){r.dom().textContent="",S.each(h.children(r),function(u){t(u)})},remove:t,unwrap:function(r){var u=h.children(r);u.length>0&&y.before(r,u),t(r)}}}),V("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(S,y,h,s,t,m){var r=function(g,k){return y.fromDom(g.dom().cloneNode(k))},a=function(g){return r(g,!0)},d=function(g,k){var C=y.fromTag(k),p=S.clone(g);return S.setAll(C,p),C};return{shallow:function(g){return r(g,!1)},shallowAs:d,deep:a,copy:function(g,k){var C=d(g,k),p=m.children(a(g));return s.append(C,p),C},mutate:function(g,k){var C=d(g,k);h.before(g,C);var p=m.children(g);return s.append(C,p),t.remove(g),C}}}),V("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(S,y,h){return{fromElements:function(t,m){var u=(m||h).createDocumentFragment();return S.each(t,function(a){u.appendChild(a.dom())}),y.fromDom(u)}}}),V("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(S,y,h){var a=function(g){var k;return function(C){return(k=k||S.mapToObject(g,y.constant(!0))).hasOwnProperty(h.name(C))}},d=a(["h1","h2","h3","h4","h5","h6"]),i=a(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:i,isInline:function(g){return h.isElement(g)&&!i(g)},isHeading:d,isTextBlock:a(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isVoid:a(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableCell:a(["td","th"])}}),V("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(S,y,h){var t=function(u,a,d){return y.contains(a,u)?function(u){return u.slice(0,-1)}(h.parents(u,function(i){return d(i)||y.eq(i,a)})):[]},m=function(u,a){return t(u,a,S.constant(!1))};return{parentsUntil:t,parents:m,parentsAndSelf:function(u,a){return[u].concat(m(u,a))}}}),V("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(S){return{cat:function(t){for(var m=[],r=function(a){m.push(a)},u=0;u<t.length;u++)t[u].each(r);return m},findMap:function(t,m){for(var r=0;r<t.length;r++){var u=m(t[r],r);if(u.isSome())return u}return S.none()},liftN:function(t,m){for(var r=[],u=0;u<t.length;u++){var a=t[u];if(!a.isSome())return S.none();r.push(a.getOrDie())}return S.some(m.apply(null,r))}}}),V("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r,u,a){var d=function(C){var p=C.startContainer,v=C.startOffset;return a.isText(p)?0===v?h.some(m.fromDom(p)):h.none():h.from(p.childNodes[v]).map(m.fromDom)},i=function(C){var p=C.endContainer,v=C.endOffset;return a.isText(p)?v===p.data.length?h.some(m.fromDom(p)):h.none():h.from(p.childNodes[v-1]).map(m.fromDom)},c=function(C){return u.firstChild(C).fold(y.constant([C]),function(p){return[C].concat(c(p))})},g=function(C){return u.lastChild(C).fold(y.constant([C]),function(p){return"br"===r.name(p)?u.prevSibling(p).map(function(v){return[C].concat(g(v))}).getOr([]):[C].concat(g(p))})};return{hasAllContentsSelected:function(C,p){return s.liftN([d(p),i(p)],function(v,l){var f=S.find(c(C),y.curry(t.eq,v)),n=S.find(g(C),y.curry(t.eq,l));return f.isSome()&&n.isSome()}).getOr(!1)}}}),V("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils"],function(S,y,h,s,t,m,r,u,a,d){var C=function(v,l){return function(v,l){var f=S.foldl(l,function(n,o){return h.append(o,n),o},v);return l.length>0?m.fromElements([f]):f}(t.fromDom(l.cloneContents()),function(v,l){var f=a.parentsAndSelf(t.fromDom(l.commonAncestorContainer),t.fromDom(v)),n=S.filter(f,function(E){return u.isInline(E)||u.isHeading(E)}),o=function(v,l){return S.find(v,function(f){return"li"===r.name(f)&&d.hasAllContentsSelected(f,l)}).fold(y.constant([]),function(f){return function(v){return S.find(v,function(l){return"ul"===r.name(l)||"ol"===r.name(l)})}(v).map(function(n){return[t.fromTag("li"),t.fromTag(r.name(n))]}).getOr([])})}(f,l);return S.map(n.concat(o),s.shallow)}(v,l))};return{read:function(v,l){return l.collapsed?m.fromElements([]):C(v,l)}}}),V("tinymce.core.dom.Selection",["tinymce.core.caret.CaretPosition","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.dom.TridentSelection","tinymce.core.Env","tinymce.core.selection.FragmentReader","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r,u,a,d,i,c){var g=c.each,k=c.trim,C=a.ie;function v(l,f,n,o){var E=this;E.dom=l,E.win=f,E.serializer=n,E.editor=o,E.bookmarkManager=new y(E),E.controlSelection=new h(E,o),E.win.getSelection||(E.tridentSel=new u(E))}return v.prototype={setCursorLocation:function(l,f){var n=this,o=n.dom.createRng();l?(o.setStart(l,f),o.setEnd(l,f),n.setRng(o),n.collapse(!1)):(n._moveEndPoint(o,n.editor.getBody(),!0),n.setRng(o))},getContent:function(l){var e,b,w,f=this,n=f.getRng(),o=f.dom.create("body"),E=f.getSel();return e=b="",(l=l||{}).get=!0,l.format=l.format||"html",l.selection=!0,f.editor.fire("BeforeGetContent",l),"text"===l.format?f.isCollapsed()?"":i.trim(n.text||(E.toString?E.toString():"")):(n.cloneContents?(w=l.contextual?d.read(f.editor.getBody(),n).dom():n.cloneContents())&&o.appendChild(w):void 0!==n.item||void 0!==n.htmlText?(o.innerHTML="<br>"+(n.item?n.item(0).outerHTML:n.htmlText),o.removeChild(o.firstChild)):o.innerHTML=n.toString(),/^\s/.test(o.innerHTML)&&(e=" "),/\s+$/.test(o.innerHTML)&&(b=" "),l.getInner=!0,l.content=f.isCollapsed()?"":e+f.serializer.serialize(o,l)+b,f.editor.fire("GetContent",l),l.content)},setContent:function(l,f){var E,b,w,n=this,o=n.getRng(),e=n.win.document;if((f=f||{format:"html"}).set=!0,f.selection=!0,f.content=l,f.no_events||n.editor.fire("BeforeSetContent",f),l=f.content,o.insertNode){l+='<span id="__caret">_</span>',o.startContainer==e&&o.endContainer==e?e.body.innerHTML=l:(o.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=l:o.createContextualFragment?o.insertNode(o.createContextualFragment(l)):(b=e.createDocumentFragment(),w=e.createElement("div"),b.appendChild(w),w.outerHTML=l,o.insertNode(b))),E=n.dom.get("__caret"),(o=e.createRange()).setStartBefore(E),o.setEndBefore(E),n.setRng(o),n.dom.remove("__caret");try{n.setRng(o)}catch(x){}}else o.item&&(e.execCommand("Delete",!1,null),o=n.getRng()),/^\s+/.test(l)?(o.pasteHTML('<span id="__mce_tmp">_</span>'+l),n.dom.remove("__mce_tmp")):o.pasteHTML(l);f.no_events||n.editor.fire("SetContent",f)},getStart:function(l){var o,E,e,b,f=this,n=f.getRng();if(n.duplicate||n.item){if(n.item)return n.item(0);for((e=n.duplicate()).collapse(1),(o=e.parentElement()).ownerDocument!==f.dom.doc&&(o=f.dom.getRoot()),E=b=n.parentElement();b=b.parentNode;)if(b==o){o=E;break}return o}return 1==(o=n.startContainer).nodeType&&o.hasChildNodes()&&(!l||!n.collapsed)&&(o=o.childNodes[Math.min(o.childNodes.length-1,n.startOffset)]),o&&3==o.nodeType?o.parentNode:o},getEnd:function(l){var o,E,f=this,n=f.getRng();return n.duplicate||n.item?n.item?n.item(0):((n=n.duplicate()).collapse(0),(o=n.parentElement()).ownerDocument!==f.dom.doc&&(o=f.dom.getRoot()),o&&"BODY"==o.nodeName&&o.lastChild||o):(E=n.endOffset,1==(o=n.endContainer).nodeType&&o.hasChildNodes()&&(!l||!n.collapsed)&&(o=o.childNodes[E>0?E-1:E]),o&&3==o.nodeType?o.parentNode:o)},getBookmark:function(l,f){return this.bookmarkManager.getBookmark(l,f)},moveToBookmark:function(l){return this.bookmarkManager.moveToBookmark(l)},select:function(l,f){var e,n=this,o=n.dom,E=o.createRng();if(n.lastFocusBookmark=null,l){if(!f&&n.controlSelection.controlSelect(l))return;e=o.nodeIndex(l),E.setStart(l.parentNode,e),E.setEnd(l.parentNode,e+1),f&&(n._moveEndPoint(E,l,!0),n._moveEndPoint(E,l)),n.setRng(E)}return l},isCollapsed:function(){var f=this.getRng(),n=this.getSel();return!(!f||f.item)&&(f.compareEndPoints?0===f.compareEndPoints("StartToEnd",f):!n||f.collapsed)},collapse:function(l){var o,f=this,n=f.getRng();n.item&&(o=n.item(0),(n=f.win.document.body.createTextRange()).moveToElementText(o)),n.collapse(!!l),f.setRng(n)},getSel:function(){var l=this.win;return l.getSelection?l.getSelection():l.document.selection},getRng:function(l){var n,o,E,e,b,w,f=this;function x(N,_,A){try{return _.compareBoundaryPoints(N,A)}catch(F){return-1}}if(!f.win||null==(e=f.win.document))return null;if(!l&&f.lastFocusBookmark){var T=f.lastFocusBookmark;return T.startContainer?((o=e.createRange()).setStart(T.startContainer,T.startOffset),o.setEnd(T.endContainer,T.endOffset)):o=T,o}if(l&&f.tridentSel)return f.tridentSel.getRangeAt(0);try{(n=f.getSel())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():e.createRange())}catch(N){}if((w=f.editor.fire("GetSelectionRange",{range:o})).range!==o)return w.range;if(C&&o&&o.setStart&&e.selection){try{b=e.selection.createRange()}catch(N){}b&&b.item&&(E=b.item(0),(o=e.createRange()).setStartBefore(E),o.setEndAfter(E))}return o||(o=e.createRange?e.createRange():e.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(E=f.dom.getRoot(),o.setStart(E,0),o.setEnd(E,0)),f.selectedRange&&f.explicitRange&&(0===x(o.START_TO_START,o,f.selectedRange)&&0===x(o.END_TO_END,o,f.selectedRange)?o=f.explicitRange:(f.selectedRange=null,f.explicitRange=null)),o},setRng:function(l,f){var o,E,n=this;if(function(l){if(l){if(l.select)return!0;var f=l.startContainer,n=l.endContainer;return!!(f&&f.parentNode&&n&&n.parentNode)}return!1}(l)){if(l.select){n.explicitRange=null;try{l.select()}catch(b){}return}if(n.tridentSel){if(l.cloneRange)try{n.tridentSel.addRange(l)}catch(b){}}else{if(o=n.getSel(),l=n.editor.fire("SetSelectionRange",{range:l,forward:f}).range,o){n.explicitRange=l;try{o.removeAllRanges(),o.addRange(l)}catch(b){}!1===f&&o.extend&&(o.collapse(l.endContainer,l.endOffset),o.extend(l.startContainer,l.startOffset)),n.selectedRange=o.rangeCount>0?o.getRangeAt(0):null}!l.collapsed&&l.startContainer===l.endContainer&&o.setBaseAndExtent&&!a.ie&&l.endOffset-l.startOffset<2&&l.startContainer.hasChildNodes()&&(E=l.startContainer.childNodes[l.startOffset])&&"IMG"===E.tagName&&(o.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),(o.anchorNode!==l.startContainer||o.focusNode!==l.endContainer)&&o.setBaseAndExtent(E,0,E,1)),n.editor.fire("AfterSetSelectionRange",{range:l,forward:f})}}},setNode:function(l){return this.setContent(this.dom.getOuterHTML(l)),l},getNode:function(){var n,o,E,e,b,l=this,f=l.getRng(),w=l.dom.getRoot();function x(T,N){for(var _=T;T&&3===T.nodeType&&0===T.length;)T=N?T.nextSibling:T.previousSibling;return T||_}return f?(o=f.startContainer,E=f.endContainer,e=f.startOffset,b=f.endOffset,f.setStart?(n=f.commonAncestorContainer,!f.collapsed&&(o==E&&b-e<2&&o.hasChildNodes()&&(n=o.childNodes[e]),3===o.nodeType&&3===E.nodeType&&(o=o.length===e?x(o.nextSibling,!0):o.parentNode,E=0===b?x(E.previousSibling,!1):E.parentNode,o&&o===E))?o:n&&3==n.nodeType?n.parentNode:n):((n=f.item?f.item(0):f.parentElement()).ownerDocument!==l.win.document&&(n=w),n)):w},getSelectedBlocks:function(l,f){var E,e,n=this,o=n.dom,b=[];if(e=o.getRoot(),l=o.getParent(l||n.getStart(),o.isBlock),f=o.getParent(f||n.getEnd(),o.isBlock),l&&l!=e&&b.push(l),l&&f&&l!=f){E=l;for(var w=new r(l,e);(E=w.next())&&E!=f;)o.isBlock(E)&&b.push(E)}return f&&l!=f&&f!=e&&b.push(f),b},isForward:function(){var n,o,l=this.dom,f=this.getSel();return!(f&&f.anchorNode&&f.focusNode)||((n=l.createRng()).setStart(f.anchorNode,f.anchorOffset),n.collapse(!0),(o=l.createRng()).setStart(f.focusNode,f.focusOffset),o.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,o)<=0)},normalize:function(){var l=this,f=l.getRng();return a.range&&new t(l.dom).normalize(f)&&l.setRng(f,l.isForward()),f},selectorChanged:function(l,f){var o,n=this;return n.selectorChangedData||(n.selectorChangedData={},o={},n.editor.on("NodeChange",function(E){var e=E.element,b=n.dom,w=b.getParents(e,null,b.getRoot()),x={};g(n.selectorChangedData,function(T,N){g(w,function(_){if(b.is(_,N))return o[N]||(g(T,function(A){A(!0,{node:_,selector:N,parents:w})}),o[N]=T),x[N]=T,!1})}),g(o,function(T,N){x[N]||(delete o[N],g(T,function(_){_(!1,{node:e,selector:N,parents:w})}))})})),n.selectorChangedData[l]||(n.selectorChangedData[l]=[]),n.selectorChangedData[l].push(f),n},getScrollContainer:function(){for(var l,f=this.dom.getRoot();f&&"BODY"!=f.nodeName;){if(f.scrollHeight>f.clientHeight){l=f;break}f=f.parentNode}return l},scrollIntoView:function(l,f){m.scrollIntoView(this.editor,l,f)},placeCaretAt:function(l,f){this.setRng(t.getCaretRangeFromPoint(l,f,this.editor.getDoc()))},_moveEndPoint:function(l,f,n){var o=f,E=new r(f,o),e=this.dom.schema.getNonEmptyElements();do{if(3==f.nodeType&&0!==k(f.nodeValue).length)return void(n?l.setStart(f,0):l.setEnd(f,f.nodeValue.length));if(e[f.nodeName]&&!/^(TD|TH)$/.test(f.nodeName))return void(n?l.setStartBefore(f):"BR"==f.nodeName?l.setEndBefore(f):l.setEndAfter(f));if(a.ie&&a.ie<11&&this.dom.isBlock(f)&&this.dom.isEmpty(f))return void(n?l.setStart(f,0):l.setEnd(f,0))}while(f=n?E.next():E.prev());"BODY"==o.nodeName&&(n?l.setStart(o,0):l.setEnd(o,o.childNodes.length))},getBoundingClientRect:function(){var l=this.getRng();return l.collapsed?S.fromRangeStart(l).getClientRects()[0]:l.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},v}),V("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],function(S,y){var h=y.each;return function s(t){this.compare=function(m,r){if(m.nodeName!=r.nodeName)return!1;function u(d){var i={};return h(t.getAttribs(d),function(c){var g=c.nodeName.toLowerCase();0!==g.indexOf("_")&&"style"!==g&&0!==g.indexOf("data-")&&(i[g]=t.getAttrib(d,g))}),i}function a(d,i){var c,g;for(g in d)if(d.hasOwnProperty(g)){if(void 0===(c=i[g])||d[g]!=c)return!1;delete i[g]}for(g in i)if(i.hasOwnProperty(g))return!1;return!0}return!(!a(u(m),u(r))||!a(t.parseStyle(t.getAttrib(m,"style")),t.parseStyle(t.getAttrib(r,"style")))||S.isBookmarkNode(m)||S.isBookmarkNode(r))}}}),V("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(S,y,h){var s=y.each,t=S.DOM;function m(i,c){var g,k,C,p=c&&c.schema||new h({});function l(o){var E;return function v(o,E){E.classes.length&&t.addClass(o,E.classes.join(" ")),t.setAttribs(o,E.attrs)}(E=t.create((k="string"==typeof o?{name:o,classes:[],attrs:{}}:o).name),k),E}return i&&i.length?(g=l(k=i[0]),(C=t.create("div")).appendChild(function n(o,E,e){var b,w,x,T=E.length>0&&E[0],N=T&&T.name;if(x=function f(o,E){var e="string"!=typeof o?o.nodeName.toLowerCase():o,b=p.getElementRule(e),w=b&&b.parentsRequired;return!(!w||!w.length)&&(E&&-1!==y.inArray(w,E)?E:w[0])}(o,N),x)N==x?(w=E[0],E=E.slice(1)):w=x;else if(T)w=E[0],E=E.slice(1);else if(!e)return o;return w&&(b=l(w)).appendChild(o),e&&(b||(b=t.create("div")).appendChild(o),y.each(e,function(_){var A=l(_);b.insertBefore(A,o)})),n(b,E,w&&w.siblings)}(g,i.slice(1),k.siblings)),C):""}function u(i){var c,g={classes:[],attrs:{}};return"*"!==(i=g.selector=y.trim(i))&&(c=i.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(k,C,p,v,l){switch(C){case"#":g.attrs.id=p;break;case".":g.classes.push(p);break;case":":-1!==y.inArray("checked disabled enabled read-only required".split(" "),p)&&(g.attrs[p]=p)}if("["==v){var f=l.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(g.attrs[f[1]]=f[2])}return""})),g.name=c||"div",g}function a(i){return i&&"string"==typeof i?(i=(i=i.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),y.map(i.split(/(?:>|\s+(?![^\[\]]+\]))/),function(c){var g=y.map(c.split(/(?:~\+|~|\+)/),u),k=g.pop();return g.length&&(k.siblings=g),k}).reverse()):[]}return{getCssText:function d(i,c){var g,k,C,p,l,f,v="";if(!1===(f=i.settings.preview_styles))return"";function n(o){return o.replace(/%(\w+)/g,"")}if("string"!=typeof f&&(f="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof c){if(!(c=i.formatter.get(c)))return;c=c[0]}return"preview"in c&&!1===(f=c.preview)?"":(g=c.block||c.inline||"span",(p=a(c.selector)).length?(p[0].name||(p[0].name=g),g=c.selector,k=m(p,i)):k=m([g],i),C=t.select(g,k)[0]||k.firstChild,s(c.styles,function(o,E){(o=n(o))&&t.setStyle(C,E,o)}),s(c.attributes,function(o,E){(o=n(o))&&t.setAttrib(C,E,o)}),s(c.classes,function(o){o=n(o),t.hasClass(C,o)||t.addClass(C,o)}),i.fire("PreviewFormats"),t.setStyles(k,{position:"absolute",left:-65535}),i.getBody().appendChild(k),l=t.getStyle(i.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,s(f.split(" "),function(o){var E=t.getStyle(C,o,!0);if(!("background-color"==o&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(E)&&(E=t.getStyle(i.getBody(),o,!0),"#ffffff"==t.toHex(E).toLowerCase())||"color"==o&&"#000000"==t.toHex(E).toLowerCase())){if("font-size"==o&&/em|%$/.test(E)){if(0===l)return;E=(E=parseFloat(E,10)/(/%$/.test(E)?100:1))*l+"px"}"border"==o&&E&&(v+="padding:0 2px;"),v+=o+":"+E+";"}}),i.fire("AfterPreviewFormats"),t.remove(k),v)},parseSelector:a,selectorToHtml:function r(i,c){return m(a(i),c)}}}),V("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(S,y,h){var s={},t=S.filter,m=S.each;return function r(a,d){var i=s[a];i||(s[a]=i=[]),s[a].push(d)}("pre",function(a){var i,c,d=a.selection.getRng();i=y.matchNodeNames("pre"),d.collapsed||(c=a.selection.getSelectedBlocks(),m(t(t(c,i),function g(C){return i(C.previousSibling)&&-1!=S.indexOf(c,C.previousSibling)}),function(C){!function k(C,p){h(p).remove(),h(C).append("<br><br>").append(p.childNodes)}(C.previousSibling,C)}))}),{postProcess:function u(a,d){m(s[a],function(i){i(d)})}}}),V("tinymce.core.Formatter",["tinymce.core.dom.TreeWalker","tinymce.core.dom.RangeUtils","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.fmt.Preview","tinymce.core.fmt.Hooks"],function(S,y,h,s,t,m,r,u,a){return function(d){var e,b,x,T,i={},c=d.dom,g=d.selection,k=new y(c),C=d.schema.isValidChild,p=c.isBlock,v=d.settings.forced_root_block,l=c.nodeIndex,f="\ufeff",n=/^(src|href|style)$/,o=!1,E=!0,w=c.getContentEditable,N=h.isBookmarkNode,_=r.each,A=r.grep,F=r.walk;function R(D){return D.nodeType&&(D=D.nodeName),!!d.schema.getTextBlockElements()[D.toLowerCase()]}function M(D){return/^(TH|TD)$/.test(D.nodeName)}function P(D,H){return c.getParents(D,H,c.getRoot())}function B(D){return 1===D.nodeType&&"_mce_caret"===D.id}function ee(D){return D?i[D]:i}function ue(D,H){D&&("string"!=typeof D?_(D,function(W,j){ue(j,W)}):(_(H=H.length?H:[H],function(W){W.deep===b&&(W.deep=!W.selector),W.split===b&&(W.split=!W.selector||W.inline),W.remove===b&&W.selector&&!W.inline&&(W.remove="none"),W.selector&&W.inline&&(W.mixed=!0,W.block_expand=!0),"string"==typeof W.classes&&(W.classes=W.classes.split(/\s+/))}),i[D]=H))}function ne(D,H){var W=ee(H);if(W)for(var j=0;j<W.length;j++)if(!1===W[j].inherit&&c.is(D,W[j].selector))return!0;return!1}function he(D){var H;return d.dom.getParent(D,function(W){return(H=d.dom.getStyle(W,"text-decoration"))&&"none"!==H}),H}function Ee(D){var H;1===D.nodeType&&D.parentNode&&1===D.parentNode.nodeType&&(H=he(D.parentNode),d.dom.getStyle(D,"color")&&H?d.dom.setStyle(D,"text-decoration",H):d.dom.getStyle(D,"text-decoration")===H&&d.dom.setStyle(D,"text-decoration",null))}function me(D,H,W){var Q,J,j=ee(D),X=j[0],ce=!W&&g.isCollapsed();function te(Ne,xe){if(xe=xe||X,Ne){if(xe.onformat&&xe.onformat(Ne,xe,H,W),_(xe.styles,function(le,ge){c.setStyle(Ne,ge,Te(le,H))}),xe.styles){var pe=c.getAttrib(Ne,"style");pe&&Ne.setAttribute("data-mce-style",pe)}_(xe.attributes,function(le,ge){c.setAttrib(Ne,ge,Te(le,H))}),_(xe.classes,function(le){le=Te(le,H),c.hasClass(Ne,le)||c.addClass(Ne,le)})}}function Se(Ne,xe){var pe=!1;return!!X.selector&&(_(Ne,function(le){if((!("collapsed"in le)||le.collapsed===ce)&&c.is(xe,le.selector)&&!B(xe))return te(xe,le),pe=!0,!1}),pe)}function Re(Ne,xe,pe){var ge,Pe,le=[],Ie=!0;te(Pe=c.create(ge=X.inline||X.block)),k.walk(Ne,function(Be){var He;_(Be,function Ge(ze){var Ze,Je,Qe,We;if(We=Ie,Ze=ze.nodeName.toLowerCase(),Je=ze.parentNode.nodeName.toLowerCase(),1===ze.nodeType&&w(ze)&&(We=Ie,Ie="true"===w(ze),Qe=!0),se(Ze,"br"))return He=0,void(X.block&&c.remove(ze));if(X.wrapper&&Z(ze,D,H))He=0;else{if(Ie&&!Qe&&X.block&&!X.wrapper&&R(Ze)&&C(Je,ge))return te(ze=c.rename(ze,ge)),le.push(ze),void(He=0);if(X.selector){var $e=Se(j,ze);if(!X.inline||$e)return void(He=0)}!Ie||Qe||!C(ge,Ze)||!C(Je,ge)||!pe&&3===ze.nodeType&&1===ze.nodeValue.length&&65279===ze.nodeValue.charCodeAt(0)||B(ze)||X.inline&&p(ze)?(He=0,_(A(ze.childNodes),Ge),Qe&&(Ie=We),He=0):(He||(He=c.clone(Pe,o),ze.parentNode.insertBefore(He,ze),le.push(He)),He.appendChild(ze))}})}),!0===X.links&&_(le,function(Be){!function He(Ge){"A"===Ge.nodeName&&te(Ge,X),_(A(Ge.childNodes),He)}(Be)}),_(le,function(Be){var He;function Ge(We){var $e=0;return _(We.childNodes,function(tt){!re(tt)&&!N(tt)&&$e++}),$e}function ze(We){var $e=!1;return _(We.childNodes,function(tt){if(we(tt))return $e=tt,!1}),$e}if(He=Ge(Be),!(le.length>1)&&p(Be)||0!==He){if(X.inline||X.wrapper){if(!X.exact&&1===He&&(Be=function Je(We){var $e,tt;return($e=ze(We))&&!N($e)&&K($e,X)&&(te(tt=c.clone($e,o)),c.replace(tt,We,E),c.remove($e,1)),tt||We}(Be)),_(j,function(We){_(c.select(We.inline,Be),function($e){!we($e)||Me(We,H,$e,We.exact?$e:null)}),function(D,H){D.clear_child_styles&&_(c.select("*",H),function(W){_(D.styles,function(j,X){c.setStyle(W,X,"")})})}(We,Be)}),Z(Be.parentNode,D,H)&&Me(X,H,Be)&&(Be=0),X.merge_with_parents&&c.getParent(Be.parentNode,function(We){if(Z(We,D,H))return Me(X,H,Be)&&(Be=0),E}),Be&&!p(Be)&&!Ue(Be,"fontSize")){var Qe=function Ze(We,$e){do{if(1!==Ge(We))break;if(!(We=ze(We)))break;if($e(We))return We}while(We);return null}(Be,De("fontSize"));Qe&&me("fontsize",{value:Ue(Qe,"fontSize")},Be)}Be&&!1!==X.merge_siblings&&(Be=Ke(Ye(Be),Be),Be=Ke(Be,Ye(Be,E)))}}else c.remove(Be,1)})}if("false"!==w(g.getNode())){if(X){if(W)W.nodeType?Se(j,W)||((J=c.createRng()).setStartBefore(W),J.setEndAfter(W),Re(Ce(J,j),0,!0)):Re(W,0,!0);else if(ce&&X.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)Xe("apply",D,H);else{var de=d.selection.getNode();!v&&j[0].defaultBlock&&!c.getParent(de,c.isBlock)&&me(j[0].defaultBlock),d.selection.setRng(function _e(){var xe=d.selection.getRng(),pe=xe.startContainer,le=xe.endContainer;if(pe!=le&&0===xe.endOffset){var ge=function Ne(Ie,Be){var He=new S(Be);for(W=He.prev2();W;W=He.prev2())if(3==W.nodeType&&W.data.length>0||W.childNodes.length>1||W==Ie||"BR"==W.tagName)return W}(pe,le);xe.setEnd(ge,3==ge.nodeType?ge.data.length:ge.childNodes.length)}return xe}()),Q=g.getBookmark(),Re(Ce(g.getRng(E),j)),X.styles&&((X.styles.color||X.styles.textDecoration)&&(F(de,Ee,"childNodes"),Ee(de)),X.styles.backgroundColor&&be(de,De("fontSize"),function ve(D,H){return m.curry(function(W,j,X){c.setStyle(X,W,j)},D,H)}("backgroundColor",Te(X.styles.backgroundColor,H)))),g.moveToBookmark(Q),it(g.getRng(E)),d.nodeChanged()}a.postProcess(D,d)}}else{W=g.getNode();for(var Fe=0,Oe=j.length;Fe<Oe;Fe++)if(j[Fe].ceFalseOverride&&c.is(W,j[Fe].selector))return void te(W,j[Fe])}}function $(D,H,W,j){var J,ce,X=ee(D),Q=X[0],te=!0;function Se(pe){var le,ge,Pe,Ie,Be;if(1===pe.nodeType&&w(pe)&&(Ie=te,te="true"===w(pe),Be=!0),le=A(pe.childNodes),te&&!Be)for(ge=0,Pe=X.length;ge<Pe&&!Me(X[ge],H,pe,pe);ge++);if(Q.deep&&le.length){for(ge=0,Pe=le.length;ge<Pe;ge++)Se(le[ge]);Be&&(te=Ie)}}function Fe(pe){return function Re(pe,le,ge,Pe){var Ie,Be,He,Ge,ze,Ze;if(pe){for(Ze=pe.parentNode,Ie=le.parentNode;Ie&&Ie!=Ze;Ie=Ie.parentNode){for(Be=c.clone(Ie,o),ze=0;ze<X.length;ze++)if(Me(X[ze],H,Be,Be)){Be=0;break}Be&&(He&&Be.appendChild(He),Ge||(Ge=Be),He=Be)}Pe&&(!Q.mixed||!p(pe))&&(le=c.split(pe,le)),He&&(ge.parentNode.insertBefore(He,ge),Ge.appendChild(ge))}return le}(function _e(pe){var le;return _(P(pe.parentNode).reverse(),function(ge){var Pe;!le&&"_start"!=ge.id&&"_end"!=ge.id&&(Pe=Z(ge,D,H,j))&&!1!==Pe.split&&(le=ge)}),le}(pe),pe,pe,!0)}function Oe(pe){var le=c.get(pe?"_start":"_end"),ge=le[pe?"firstChild":"lastChild"];return N(ge)&&(ge=ge[pe?"firstChild":"lastChild"]),3==ge.nodeType&&0===ge.data.length&&(ge=pe?le.previousSibling||le.nextSibling:le.nextSibling||le.previousSibling),c.remove(le,!0),ge}function de(pe){var le,ge,Pe=pe.commonAncestorContainer;if(pe=Ce(pe,X,E),Q.split){if((le=je(pe,E))!=(ge=je(pe))){if(/^(TR|TH|TD)$/.test(le.nodeName)&&le.firstChild&&(le="TR"==le.nodeName?le.firstChild.firstChild||le:le.firstChild||le),Pe&&/^T(HEAD|BODY|FOOT|R)$/.test(Pe.nodeName)&&M(ge)&&ge.firstChild&&(ge=ge.firstChild||ge),c.isChildOf(le,ge)&&!p(ge)&&!M(le)&&!M(ge))return Fe(le=fe(le,"span",{id:"_start","data-mce-type":"bookmark"})),void(le=Oe(E));le=fe(le,"span",{id:"_start","data-mce-type":"bookmark"}),ge=fe(ge,"span",{id:"_end","data-mce-type":"bookmark"}),Fe(le),Fe(ge),le=Oe(E),ge=Oe()}else le=ge=Fe(le);pe.startContainer=le.parentNode?le.parentNode:le,pe.startOffset=l(le),pe.endContainer=ge.parentNode?ge.parentNode:ge,pe.endOffset=l(ge)+1}k.walk(pe,function(Ie){_(Ie,function(Be){Se(Be),1===Be.nodeType&&"underline"===d.dom.getStyle(Be,"text-decoration")&&Be.parentNode&&"underline"===he(Be.parentNode)&&Me({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,Be)})})}if(W)W.nodeType?((ce=c.createRng()).setStartBefore(W),ce.setEndAfter(W),de(ce)):de(W);else if("false"!==w(g.getNode()))g.isCollapsed()&&Q.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?Xe("remove",D,H,j):(J=g.getBookmark(),de(g.getRng(E)),g.moveToBookmark(J),Q.inline&&Y(D,H,g.getStart())&&it(g.getRng(!0)),d.nodeChanged());else{W=g.getNode();for(var Ne=0,xe=X.length;Ne<xe&&(!X[Ne].ceFalseOverride||!Me(X[Ne],H,W,W));Ne++);}}function Z(D,H,W,j){var Q,J,ce,X=ee(H);function te(Se,_e,Re){var Fe,Oe,Ne,de=_e[Re];if(_e.onmatch)return _e.onmatch(Se,_e,Re);if(de)if(de.length===b){for(Fe in de)if(de.hasOwnProperty(Fe)&&(Oe="attributes"===Re?c.getAttrib(Se,Fe):Ue(Se,Fe),j&&!Oe&&!_e.exact||(!j||_e.exact)&&!se(Oe,qe(Te(de[Fe],W),Fe))))return}else for(Ne=0;Ne<de.length;Ne++)if("attributes"===Re?c.getAttrib(Se,de[Ne]):Ue(Se,de[Ne]))return _e;return _e}if(X&&D)for(J=0;J<X.length;J++)if(K(D,Q=X[J])&&te(D,Q,"attributes")&&te(D,Q,"styles")){if(ce=Q.classes)for(J=0;J<ce.length;J++)if(!c.hasClass(D,ce[J]))return;return Q}}function Y(D,H,W){var j;function X(Q){var J=c.getRoot();return Q!==J&&(Q=c.getParent(Q,function(ce){return!!ne(ce,D)||ce.parentNode===J||!!Z(ce,D,H,!0)}),Z(Q,D,H))}return W?X(W):X(W=g.getNode())||(j=g.getStart())!=W&&X(j)?E:o}function K(D,H){return se(D,H.inline)||se(D,H.block)?E:H.selector?1==D.nodeType&&c.is(D,H.selector):void 0}function se(D,H){return H=""+((H=H||"").nodeName||H),(D=""+((D=D||"").nodeName||D)).toLowerCase()==H.toLowerCase()}function be(D,H,W){_(D.childNodes,function(j){we(j)&&(H(j)&&W(j),j.hasChildNodes()&&be(j,H,W))})}function we(D){return D&&1===D.nodeType&&!N(D)&&!B(D)&&!t.isBogus(D)}function De(D){return m.curry(function(H,W){return!(!W||!Ue(W,H))},D)}function Ue(D,H){return qe(c.getStyle(D,H),H)}function qe(D,H){return("color"==H||"backgroundColor"==H)&&(D=c.toHex(D)),"fontWeight"==H&&700==D&&(D="bold"),"fontFamily"==H&&(D=D.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+D}function Te(D,H){return"string"!=typeof D?D=D(H):H&&(D=D.replace(/%(\w+)/g,function(W,j){return H[j]||W})),D}function re(D){return D&&3===D.nodeType&&/^([\t \r\n]+|)$/.test(D.nodeValue)}function fe(D,H,W){var j=c.create(H,W);return D.parentNode.insertBefore(j,D),j.appendChild(D),j}function Ce(D,H,W){var j,X,Q,J=D.startContainer,ce=D.startOffset,te=D.endContainer,Se=D.endOffset;function _e(xe){var pe,le,ge,Pe,Ie,He;if(pe=le=xe?J:te,Pe=xe?"previousSibling":"nextSibling",Ie=c.getRoot(),3==pe.nodeType&&!re(pe)&&(xe?ce>0:Se<pe.nodeValue.length))return pe;for(;;){if(!H[0].block_expand&&p(le))return le;for(ge=le[Pe];ge;ge=ge[Pe])if(!N(ge)&&!re(ge)&&("BR"!=(He=ge).nodeName||!He.getAttribute("data-mce-bogus")||He.nextSibling))return le;if(le==Ie||le.parentNode==Ie){pe=le;break}le=le.parentNode}return pe}function Re(xe,pe){for(pe===b&&(pe=3===xe.nodeType?xe.length:xe.childNodes.length);xe&&xe.hasChildNodes();)(xe=xe.childNodes[pe])&&(pe=3===xe.nodeType?xe.length:xe.childNodes.length);return{node:xe,offset:pe}}function Fe(xe){for(var pe=xe;pe;){if(1===pe.nodeType&&w(pe))return"false"===w(pe)?pe:xe;pe=pe.parentNode}return xe}function Oe(xe,pe,le){var ge,Pe,Ie,Be;function He(Ge,ze){var Ze,Je,Qe=Ge.nodeValue;return void 0===ze&&(ze=le?Qe.length:0),le?-1!==(Ze=(Ze=Qe.lastIndexOf(" ",ze))>(Je=Qe.lastIndexOf("\xa0",ze))?Ze:Je)&&!W&&Ze++:(Ze=Qe.indexOf(" ",ze),Je=Qe.indexOf("\xa0",ze),Ze=-1!==Ze&&(-1===Je||Ze<Je)?Ze:Je),Ze}if(3===xe.nodeType){if(-1!==(Ie=He(xe,pe)))return{container:xe,offset:Ie};Be=xe}for(ge=new S(xe,c.getParent(xe,p)||d.getBody());Pe=ge[le?"prev":"next"]();)if(3===Pe.nodeType){if(Be=Pe,-1!==(Ie=He(Pe)))return{container:Pe,offset:Ie}}else if(p(Pe))break;if(Be)return{container:Be,offset:pe=le?0:Be.length}}function de(xe,pe){var le,ge,Pe,Ie;for(3==xe.nodeType&&0===xe.nodeValue.length&&xe[pe]&&(xe=xe[pe]),le=P(xe),ge=0;ge<le.length;ge++)for(Pe=0;Pe<H.length;Pe++)if((!("collapsed"in(Ie=H[Pe]))||Ie.collapsed===D.collapsed)&&c.is(le[ge],Ie.selector))return le[ge];return xe}function Ne(xe,pe){var le,ge=c.getRoot();if(H[0].wrapper||(le=c.getParent(xe,H[0].block,ge)),le||(le=c.getParent(3==xe.nodeType?xe.parentNode:xe,function(Pe){return Pe!=ge&&R(Pe)})),le&&H[0].wrapper&&(le=P(le,"ul,ol").reverse()[0]||le),!le)for(le=xe;le[pe]&&!p(le[pe])&&!se(le=le[pe],"br"););return le||xe}if(1==J.nodeType&&J.hasChildNodes()&&3==(J=J.childNodes[ce>(j=J.childNodes.length-1)?j:ce]).nodeType&&(ce=0),1==te.nodeType&&te.hasChildNodes()&&3==(te=te.childNodes[Se>(j=te.childNodes.length-1)?j:Se-1]).nodeType&&(Se=te.nodeValue.length),J=Fe(J),te=Fe(te),(N(J.parentNode)||N(J))&&3==(J=(J=N(J)?J:J.parentNode).nextSibling||J).nodeType&&(ce=0),(N(te.parentNode)||N(te))&&3==(te=(te=N(te)?te:te.parentNode).previousSibling||te).nodeType&&(Se=te.length),H[0].inline&&(D.collapsed&&((Q=Oe(J,ce,!0))&&(J=Q.container,ce=Q.offset),(Q=Oe(te,Se))&&(te=Q.container,Se=Q.offset)),(X=Re(te,Se)).node)){for(;X.node&&0===X.offset&&X.node.previousSibling;)X=Re(X.node.previousSibling);X.node&&X.offset>0&&3===X.node.nodeType&&" "===X.node.nodeValue.charAt(X.offset-1)&&X.offset>1&&(te=X.node).splitText(X.offset-1)}return(H[0].inline||H[0].block_expand)&&((!H[0].inline||3!=J.nodeType||0===ce)&&(J=_e(!0)),(!H[0].inline||3!=te.nodeType||Se===te.nodeValue.length)&&(te=_e())),H[0].selector&&H[0].expand!==o&&!H[0].inline&&(J=de(J,"previousSibling"),te=de(te,"nextSibling")),(H[0].block||H[0].selector)&&(J=Ne(J,"previousSibling"),te=Ne(te,"nextSibling"),H[0].block&&(p(J)||(J=_e(!0)),p(te)||(te=_e()))),1==J.nodeType&&(ce=l(J),J=J.parentNode),1==te.nodeType&&(Se=l(te)+1,te=te.parentNode),{startContainer:J,startOffset:ce,endContainer:te,endOffset:Se}}function Me(D,H,W,j){var X,Q,J;if(!K(W,D)&&!function Ae(D,H){return H.links&&"A"==D.tagName}(W,D))return o;if("all"!=D.remove)for(_(D.styles,function(te,Se){te=qe(Te(te,H),Se),"number"==typeof Se&&(Se=te,j=0),(D.remove_similar||!j||se(Ue(j,Se),te))&&c.setStyle(W,Se,""),J=1}),J&&""===c.getAttrib(W,"style")&&(W.removeAttribute("style"),W.removeAttribute("data-mce-style")),_(D.attributes,function(te,Se){var _e;if(te=Te(te,H),"number"==typeof Se&&(Se=te,j=0),!j||se(c.getAttrib(j,Se),te)){if("class"==Se&&(te=c.getAttrib(W,Se))&&(_e="",_(te.split(/\s+/),function(Re){/mce\-\w+/.test(Re)&&(_e+=(_e?" ":"")+Re)}),_e))return void c.setAttrib(W,Se,_e);"class"==Se&&W.removeAttribute("className"),n.test(Se)&&W.removeAttribute("data-mce-"+Se),W.removeAttribute(Se)}}),_(D.classes,function(te){te=Te(te,H),(!j||c.hasClass(j,te))&&c.removeClass(W,te)}),Q=c.getAttribs(W),X=0;X<Q.length;X++){var ce=Q[X].nodeName;if(0!==ce.indexOf("_")&&0!==ce.indexOf("data-"))return o}return"none"!=D.remove?(function Le(D,H){var j,W=D.parentNode;function X(Q,J,ce){return!(Q=Ye(Q,J,ce))||"BR"==Q.nodeName||p(Q)}H.block&&(v?W==c.getRoot()&&(!H.list_block||!se(D,H.list_block))&&_(A(D.childNodes),function(Q){C(v,Q.nodeName.toLowerCase())?j?j.appendChild(Q):(j=fe(Q,v),c.setAttribs(j,d.settings.forced_root_block_attrs)):j=0}):p(D)&&!p(W)&&(!X(D,o)&&!X(D.firstChild,E,1)&&D.insertBefore(c.create("br"),D.firstChild),!X(D,E)&&!X(D.lastChild,o,1)&&D.appendChild(c.create("br")))),(!H.selector||!H.inline||se(H.inline,D))&&c.remove(D,1)}(W,D),E):void 0}function Ye(D,H,W){if(D)for(H=H?"nextSibling":"previousSibling",D=W?D:D[H];D;D=D[H])if(1==D.nodeType||!re(D))return D}function Ke(D,H){var W,j,X=new s(c);function Q(J,ce){for(W=J;W;W=W[ce]){if(3==W.nodeType&&0!==W.nodeValue.length)return J;if(1==W.nodeType&&!N(W))return W}return J}if(D&&H&&(D=Q(D,"previousSibling"),H=Q(H,"nextSibling"),X.compare(D,H))){for(W=D.nextSibling;W&&W!=H;)j=W,W=W.nextSibling,D.appendChild(j);return c.remove(H),_(A(H.childNodes),function(J){D.appendChild(J)}),D}return H}function je(D,H){var W,j,X;return j=D[H?"startOffset":"endOffset"],1==(W=D[H?"startContainer":"endContainer"]).nodeType&&(!H&&j&&j--,W=W.childNodes[j>(X=W.childNodes.length-1)?X:j]),3===W.nodeType&&H&&j>=W.nodeValue.length&&(W=new S(W,d.getBody()).next()||W),3===W.nodeType&&!H&&0===j&&(W=new S(W,d.getBody()).prev()||W),W}function Xe(D,H,W,j){var X="_mce_caret",Q=d.settings.caret_debug;function J(de){var Ne=c.create("span",{id:X,"data-mce-bogus":!0,style:Q?"color:red":""});return de&&Ne.appendChild(d.getDoc().createTextNode(f)),Ne}function ce(de,Ne){for(;de;){if(3===de.nodeType&&de.nodeValue!==f||de.childNodes.length>1)return!1;Ne&&1===de.nodeType&&Ne.push(de),de=de.firstChild}return!0}function te(de){for(;de;){if(de.id===X)return de;de=de.parentNode}}function Se(de){var Ne;if(de)for(de=(Ne=new S(de,de)).current();de;de=Ne.next())if(3===de.nodeType)return de}function _e(de,Ne){var xe,pe;if(de)pe=g.getRng(!0),ce(de)?(!1!==Ne&&(pe.setStartBefore(de),pe.setEndBefore(de)),c.remove(de)):((xe=Se(de)).nodeValue.charAt(0)===f&&(xe.deleteData(0,1),pe.startContainer==xe&&pe.startOffset>0&&pe.setStart(xe,pe.startOffset-1),pe.endContainer==xe&&pe.endOffset>0&&pe.setEnd(xe,pe.endOffset-1)),c.remove(de,1)),g.setRng(pe);else if(!(de=te(g.getStart())))for(;de=c.get(X);)_e(de,!1)}function Oe(){var de;(de=te(g.getStart()))&&!c.isEmpty(de)&&F(de,function(Ne){1==Ne.nodeType&&Ne.id!==X&&!c.isEmpty(Ne)&&c.setAttrib(Ne,"data-mce-bogus",null)},"childNodes")}d._hasCaretEvents||(T=function(){var Ne,de=[];if(ce(te(g.getStart()),de))for(Ne=de.length;Ne--;)c.setAttrib(de[Ne],"data-mce-bogus","1")},x=function(de){var Ne=de.keyCode;_e(),8==Ne&&g.isCollapsed()&&g.getStart().innerHTML==f&&_e(te(g.getStart())),(37==Ne||39==Ne)&&_e(te(g.getStart())),Oe()},d.on("SetContent",function(de){de.selection&&Oe()}),d._hasCaretEvents=!0),"apply"==D?function Re(){var de,Ne,xe,pe,le,Pe;pe=(de=g.getRng(!0)).startOffset,Pe=de.startContainer.nodeValue,(Ne=te(g.getStart()))&&(xe=Se(Ne));var Ie=/[^\s\u00a0\u00ad\u200b\ufeff]/;Pe&&pe>0&&pe<Pe.length&&Ie.test(Pe.charAt(pe))&&Ie.test(Pe.charAt(pe-1))?(le=g.getBookmark(),de.collapse(!0),de=Ce(de,ee(H)),de=k.split(de),me(H,W,de),g.moveToBookmark(le)):((!Ne||xe.nodeValue!==f)&&(xe=(Ne=J(!0)).firstChild,de.insertNode(Ne),pe=1),me(H,W,Ne),g.setCursorLocation(xe,pe))}():function Fe(){var Ne,pe,le,ge,Pe,Be,He,de=g.getRng(!0),Ie=[];for(ge=Ne=de.startContainer,3==Ne.nodeType&&(de.startOffset!=Ne.nodeValue.length&&(le=!0),ge=ge.parentNode);ge;){if(Z(ge,H,W,j)){Pe=ge;break}ge.nextSibling&&(le=!0),Ie.push(ge),ge=ge.parentNode}if(Pe)if(le)pe=g.getBookmark(),de.collapse(!0),de=Ce(de,ee(H),!0),de=k.split(de),$(H,W,de),g.moveToBookmark(pe);else{for(ge=He=J(),Be=Ie.length-1;Be>=0;Be--)ge.appendChild(c.clone(Ie[Be],!1)),ge=ge.firstChild;ge.appendChild(c.doc.createTextNode(f)),ge=ge.firstChild;var Ge=c.getParent(Pe,R);Ge&&c.isEmpty(Ge)?Pe.parentNode.replaceChild(He,Pe):c.insertAfter(He,Pe),g.setCursorLocation(ge,1),c.isEmpty(Pe)&&c.remove(Pe)}}()}function it(D){var j,X,Q,H=D.startContainer,W=D.startOffset;if((D.startContainer!=D.endContainer||!function U(D){return D&&/^(IMG)$/.test(D.nodeName)}(D.startContainer.childNodes[D.startOffset]))&&(3==H.nodeType&&W>=H.nodeValue.length&&(W=l(H),H=H.parentNode),1==H.nodeType))for(W<(Q=H.childNodes).length?j=new S(H=Q[W],c.getParent(H,c.isBlock)):(j=new S(H=Q[Q.length-1],c.getParent(H,c.isBlock))).next(!0),X=j.current();X;X=j.next())if(3==X.nodeType&&!re(X))return D.setStart(X,0),void g.setRng(D)}(0,r.extend)(this,{get:ee,register:ue,unregister:function ae(D){return D&&i[D]&&delete i[D],i},apply:me,remove:$,toggle:function G(D,H,W){var j=ee(D);!Y(D,H,W)||"toggle"in j[0]&&!j[0].toggle?me(D,H,W):$(D,H,W)},match:Y,matchAll:function ie(D,H){var W,j=[],X={};return W=g.getStart(),c.getParent(W,function(Q){var J,ce;for(J=0;J<D.length;J++)!X[ce=D[J]]&&Z(Q,ce,H)&&(X[ce]=!0,j.push(ce))},c.getRoot()),j},matchNode:Z,canApply:function ke(D){var j,X,Q,J,H=ee(D);if(H)for(j=P(g.getStart()),Q=H.length-1;Q>=0;Q--){if(!(J=H[Q].selector)||H[Q].defaultBlock)return E;for(X=j.length-1;X>=0;X--)if(c.is(j[X],J))return E}return o},formatChanged:function ye(D,H,W){var j;return e||(e={},j={},d.on("NodeChange",function(X){var Q=P(X.element),J={};Q=r.grep(Q,function(ce){return 1==ce.nodeType&&!ce.getAttribute("data-mce-bogus")}),_(e,function(ce,te){_(Q,function(Se){return Z(Se,te,{},ce.similar)?(j[te]||(_(ce,function(_e){_e(!0,{node:Se,format:te,parents:Q})}),j[te]=ce),J[te]=ce,!1):!ne(Se,te)&&void 0})}),_(j,function(ce,te){J[te]||(delete j[te],_(ce,function(Se){Se(!1,{node:X.element,format:te,parents:Q})}))})})),_(D.split(","),function(X){e[X]||(e[X]=[],e[X].similar=W),e[X].push(H)}),this},getCssText:function oe(D){return u.getCssText(d,D)}}),function L(){ue({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(D,H,W){_(W,function(j,X){c.setAttrib(D,X,j)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),_("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(D){ue(D,{block:D,remove:"all"})}),ue(d.settings.formats)}(),function q(){d.addShortcut("meta+b","bold_desc","Bold"),d.addShortcut("meta+i","italic_desc","Italic"),d.addShortcut("meta+u","underline_desc","Underline");for(var D=1;D<=6;D++)d.addShortcut("access+"+D,"",["FormatBlock",!1,"h"+D]);d.addShortcut("access+7","",["FormatBlock",!1,"p"]),d.addShortcut("access+8","",["FormatBlock",!1,"div"]),d.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),d.on("BeforeGetContent",function(D){T&&"raw"!=D.format&&T()}),d.on("mouseup keydown",function(D){x&&x(D)})}}),V("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(t,m){var r=t.length+m.length+2,u=new Array(r),a=new Array(r),i=function(C,p,v,l,f){var n=g(C,p,v,l);if(null===n||n.start===p&&n.diag===p-l||n.end===C&&n.diag===C-v)for(var o=C,E=v;o<p||E<l;)o<p&&E<l&&t[o]===m[E]?(f.push([0,t[o]]),++o,++E):p-C>l-v?(f.push([2,t[o]]),++o):(f.push([1,m[E]]),++E);else{i(C,n.start,v,n.start-n.diag,f);for(var e=n.start;e<n.end;++e)f.push([0,t[e]]);i(n.end,p,n.end-n.diag,l,f)}},c=function(C,p,v,l){for(var f=C;f-p<l&&f<v&&t[f]===m[f-p];)++f;return function(C,p,v){return{start:C,end:p,diag:v}}(C,f,p)},g=function(C,p,v,l){var f=p-C,n=l-v;if(0===f||0===n)return null;var o=f-n,E=n+f,e=(E%2==0?E:E+1)/2;u[1+e]=C,a[1+e]=p+1;for(var b=0;b<=e;++b){for(var w=-b;w<=b;w+=2){var x=w+e;u[x]=w===-b||w!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1;for(var T=u[x],N=T-C+v-w;T<p&&N<l&&t[T]===m[N];)u[x]=++T,++N;if(o%2!=0&&o-b<=w&&w<=o+b&&a[x-o]<=u[x])return c(a[x-o],w+C-v,p,l)}for(w=o-b;w<=o+b;w+=2){for(a[x=w+e-o]=w===o-b||w!=o+b&&a[x+1]<=a[x-1]?a[x+1]-1:a[x-1],N=(T=a[x]-1)-C+v-w;T>=C&&N>=v&&t[T]===m[N];)a[x]=T--,N--;if(o%2==0&&-b<=w&&w<=b&&a[x]<=u[x+o])return c(a[x],w+C-v,p,l)}}},k=[];return i(0,t.length,0,m.length,k),k}}}),V("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],function(S,y,h){var s=function(i){return 1===i.nodeType?i.outerHTML:3===i.nodeType?y.encodeRaw(i.data,!1):8===i.nodeType?"\x3c!--"+i.data+"--\x3e":""};return{read:function(i){return S.filter(S.map(i.childNodes,s),function(c){return c.length>0})},write:function(i,c){var g=S.map(c.childNodes,s);return function(i,c){var g=0;S.each(i,function(k){k[0]===h.KEEP?g++:k[0]===h.INSERT?(function(i,c,g){var k=function(i){var c,g,k;for(k=document.createElement("div"),c=document.createDocumentFragment(),i&&(k.innerHTML=i);g=k.firstChild;)c.appendChild(g);return c}(c);if(i.hasChildNodes()&&g<i.childNodes.length){var C=i.childNodes[g];C.parentNode.insertBefore(k,C)}else i.appendChild(k)}(c,k[1],g),g++):k[0]===h.DELETE&&function(i,c){if(i.hasChildNodes()&&c<i.childNodes.length){var g=i.childNodes[c];g.parentNode.removeChild(g)}}(c,g)})}(h.diff(g,i),c),c}}}),V("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],function(S,y){var s=function(d){return{type:"fragmented",fragments:d,content:"",bookmark:null,beforeBookmark:null}},t=function(d){return{type:"complete",fragments:null,content:d,bookmark:null,beforeBookmark:null}},u=function(d){return"fragmented"===d.type?d.fragments.join(""):d.content};return{createFragmentedLevel:s,createCompleteLevel:t,createFromEditor:function(d){var i,c,g;return i=y.read(d.getBody()),function(d){return-1!==d.indexOf("</iframe>")}(c=(g=S.map(i,function(k){return d.serializer.trimContent(k)})).join(""))?s(g):t(c)},applyToEditor:function(d,i,c){"fragmented"===i.type?y.write(i.fragments,d.getBody()):d.setContent(i.content,{format:"raw"}),d.selection.moveToBookmark(c?i.beforeBookmark:i.bookmark)},isEq:function(d,i){return u(d)===u(i)}}}),V("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],function(S,y,h){return function(s){var u,a,t=this,m=0,r=[],d=0,i=function(){return 0===d},c=function(p){i()&&(t.typing=p)};function g(p){s.setDirty(p)}function k(p){c(!1),t.add({},p)}function C(){t.typing&&(c(!1),t.add())}return s.on("init",function(){t.add()}),s.on("BeforeExecCommand",function(p){var v=p.command;"Undo"!==v&&"Redo"!==v&&"mceRepaint"!==v&&(C(),t.beforeChange())}),s.on("ExecCommand",function(p){var v=p.command;"Undo"!==v&&"Redo"!==v&&"mceRepaint"!==v&&k(p)}),s.on("ObjectResizeStart Cut",function(){t.beforeChange()}),s.on("SaveContent ObjectResized blur",k),s.on("DragEnd",k),s.on("KeyUp",function(p){var v=p.keyCode;p.isDefaultPrevented()||((v>=33&&v<=36||v>=37&&v<=40||45===v||p.ctrlKey)&&(k(),s.nodeChanged()),(46===v||8===v)&&s.nodeChanged(),a&&t.typing&&!1===h.isEq(h.createFromEditor(s),r[0])&&(!1===s.isDirty()&&(g(!0),s.fire("change",{level:r[0],lastLevel:null})),s.fire("TypingUndo"),a=!1,s.nodeChanged()))}),s.on("KeyDown",function(p){var v=p.keyCode;if(!p.isDefaultPrevented()){if(v>=33&&v<=36||v>=37&&v<=40||45===v)return void(t.typing&&k(p));(v<16||v>20)&&224!==v&&91!==v&&!t.typing&&!(p.ctrlKey&&!p.altKey||p.metaKey)&&(t.beforeChange(),c(!0),t.add({},p),a=!0)}}),s.on("MouseDown",function(p){t.typing&&k(p)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(p){p.isDefaultPrevented()||s.nodeChanged()}),t={data:r,typing:!1,beforeChange:function(){i()&&(u=s.selection.getBookmark(2,!0))},add:function(p,v){var l,n,o,f=s.settings;if(o=h.createFromEditor(s),p=y.extend(p=p||{},o),!1===i()||s.removed||s.fire("BeforeAddUndo",{level:p,lastLevel:n=r[m],originalEvent:v}).isDefaultPrevented()||n&&h.isEq(n,p))return null;if(r[m]&&(r[m].beforeBookmark=u),f.custom_undo_redo_levels&&r.length>f.custom_undo_redo_levels){for(l=0;l<r.length-1;l++)r[l]=r[l+1];r.length--,m=r.length}p.bookmark=s.selection.getBookmark(2,!0),m<r.length-1&&(r.length=m+1),r.push(p),m=r.length-1;var E={level:p,lastLevel:n,originalEvent:v};return s.fire("AddUndo",E),m>0&&(g(!0),s.fire("change",E)),p},undo:function(){var p;return t.typing&&(t.add(),t.typing=!1,c(!1)),m>0&&(p=r[--m],h.applyToEditor(s,p,!0),g(!0),s.fire("undo",{level:p})),p},redo:function(){var p;return m<r.length-1&&(p=r[++m],h.applyToEditor(s,p,!1),g(!0),s.fire("redo",{level:p})),p},clear:function(){r=[],m=0,t.typing=!1,t.data=r,s.fire("ClearUndos")},hasUndo:function(){return m>0||t.typing&&r[0]&&!h.isEq(h.createFromEditor(s),r[0])},hasRedo:function(){return m<r.length-1&&!t.typing},transact:function(p){return C(),t.beforeChange(),t.ignore(p),t.add()},ignore:function(p){try{d++,p()}finally{d--}},extra:function(p,v){var f;t.transact(p)&&(f=r[m].bookmark,h.applyToEditor(s,r[m-1],!0),t.transact(v)&&(r[m-1].beforeBookmark=f))}}}}),V("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(S,y,h,s){var m=S.cached(function(){return r(y.fromDom(s))}),r=function(u){var a=u.dom().body;if(null==a)throw"Body is not available yet";return y.fromDom(a)};return{body:m,getBody:r,inBody:function(u){var a=h.isText(u)?u.dom().parentNode:u.dom();return null!=a&&a.ownerDocument.body.contains(a)}}}),V("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(S,y){return function(h,s,t,m,r){return h(t,m)?y.some(t):S.isFunction(r)&&r(t)?y.none():s(t,m,r)}}),V("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(S,y,h,s,t,m,r,u){var d=function(C,p,v){for(var l=C.dom(),f=S.isFunction(v)?v:h.constant(!1);l.parentNode;){var n=r.fromDom(l=l.parentNode);if(p(n))return s.some(n);if(f(n))break}return s.none()},g=function(C,p){return y.find(C.dom().childNodes,h.compose(p,r.fromDom)).map(r.fromDom)},k=function(C,p){var v=function(l){for(var f=0;f<l.childNodes.length;f++){if(p(r.fromDom(l.childNodes[f])))return s.some(r.fromDom(l.childNodes[f]));var n=v(l.childNodes[f]);if(n.isSome())return n}return s.none()};return v(C.dom())};return{first:function(C){return k(t.body(),C)},ancestor:d,closest:function(C,p,v){return u(function(f){return p(f)},d,C,p,v)},sibling:function(C,p){var v=C.dom();return v.parentNode?g(r.fromDom(v.parentNode),function(l){return!m.eq(C,l)&&p(l)}):s.none()},child:g,descendant:k}}),V("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(S,y,h,s,t,m){var r=h.isContentEditableTrue,u=h.isContentEditableFalse,a=h.matchStyleValues("display","block table table-cell table-caption list-item"),d=t.isCaretContainer,i=t.isCaretContainerBlock,c=S.curry,g=h.isElement,k=m.isCaretCandidate;function C(F){return F>0}function p(F){return F<0}function v(F,O){for(var R;R=F(O);)if(!i(R))return R;return null}function f(F,O){for(F=F.parentNode;F&&F!=O;F=F.parentNode)if(r(F))return F;return O}function n(F,O){for(;F&&F!=O;){if(a(F))return F;F=F.parentNode}return null}function b(F,O){var R=O.ownerDocument.createRange();return F?(R.setStartBefore(O),R.setEndBefore(O)):(R.setStartAfter(O),R.setEndAfter(O)),R}function w(F,O,R){return n(O,F)==n(R,F)}function x(F,O,R){var M,U;for(U=F?"previousSibling":"nextSibling";R&&R!=O;){if(d(M=R[U])&&(M=M[U]),u(M)){if(w(O,M,R))return M;break}if(k(M))break;R=R.parentNode}return null}var T=c(b,!0),N=c(b,!1);function A(F,O){return u(function e(F,O){var R,M;return O&&(R=O.container(),M=O.offset(),g(R))?R.childNodes[M+F]:null}(F,O))}return{isForwards:C,isBackwards:p,findNode:function l(F,O,R,M,U){var P=new y(F,M);if(p(O)){if((u(F)||i(F))&&R(F=v(P.prev,!0)))return F;for(;F=v(P.prev,U);)if(R(F))return F}if(C(O)){if((u(F)||i(F))&&R(F=v(P.next,!0)))return F;for(;F=v(P.next,U);)if(R(F))return F}return null},getEditingHost:f,getParentBlock:n,isInSameBlock:function o(F,O,R){return n(F.container(),R)==n(O.container(),R)},isInSameEditingHost:function E(F,O,R){return f(F.container(),R)==f(O.container(),R)},isBeforeContentEditableFalse:c(A,0),isAfterContentEditableFalse:c(A,-1),normalizeRange:function _(F,O,R){var M,U,P,B,L=c(x,!0,O),z=c(x,!1,O);if(P=R.startOffset,t.isCaretContainerBlock(U=R.startContainer)){if(g(U)||(U=U.parentNode),"before"==(B=U.getAttribute("data-mce-caret"))&&u(M=U.nextSibling))return T(M);if("after"==B&&u(M=U.previousSibling))return N(M)}if(!R.collapsed)return R;if(h.isText(U)){if(d(U)){if(1===F){if(M=z(U))return T(M);if(M=L(U))return N(M)}if(-1===F){if(M=L(U))return N(M);if(M=z(U))return T(M)}return R}if(t.endsWithCaretContainer(U)&&P>=U.data.length-1)return 1===F&&(M=z(U))?T(M):R;if(t.startsWithCaretContainer(U)&&P<=1)return-1===F&&(M=L(U))?N(M):R;if(P===U.data.length)return(M=z(U))?T(M):R;if(0===P)return(M=L(U))?N(M):R}return R}}}),V("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(S,y,h,s,t,m){var r=S.isContentEditableFalse,u=S.isText,a=S.isElement,d=S.isBr,i=s.isForwards,c=s.isBackwards,g=y.isCaretCandidate,k=y.isAtomic,C=y.isEditableCaretCandidate;function v(o,E){return o.hasChildNodes()&&E<o.childNodes.length?o.childNodes[E]:null}function l(o,E){if(i(o)){if(g(E.previousSibling)&&!u(E.previousSibling))return h.before(E);if(u(E))return h(E,0)}if(c(o)){if(g(E.nextSibling)&&!u(E.nextSibling))return h.after(E);if(u(E))return h(E,E.data.length)}return c(o)?d(E)?h.before(E):h.after(E):h.before(E)}function n(o,E,e){var b,w,x,T,N,_,A;if(!a(e)||!E)return null;if(E.isEqual(h.after(e))&&e.lastChild){if(A=h.after(e.lastChild),c(o)&&g(e.lastChild)&&a(e.lastChild))return d(e.lastChild)?h.before(e.lastChild):A}else A=E;if(b=A.container(),w=A.offset(),u(b)){if(c(o)&&w>0)return h(b,--w);if(i(o)&&w<b.length)return h(b,++w);x=b}else{if(c(o)&&w>0&&(T=v(b,w-1),g(T)))return!k(T)&&(N=s.findNode(T,o,C,T))?u(N)?h(N,N.data.length):h.after(N):u(T)?h(T,T.data.length):h.before(T);if(i(o)&&w<b.childNodes.length&&(T=v(b,w),g(T)))return function f(o,E){var e;return!(!S.isBr(o)||(e=n(1,h.after(o),E),!e)||s.isInSameBlock(h.before(o),h.before(e),E))}(T,e)?n(o,h.after(T),e):!k(T)&&(N=s.findNode(T,o,C,T))?u(N)?h(N,0):h.before(N):u(T)?h(T,0):h.after(T);x=A.getNode()}return(i(o)&&A.isAtEnd()||c(o)&&A.isAtStart())&&(x=s.findNode(x,o,m.constant(!0),e,!0),C(x))?l(o,x):(T=s.findNode(x,o,C,e),_=t.last(t.filter(function p(o,E){for(var e=[];o&&o!=E;)e.push(o),o=o.parentNode;return e}(b,e),r)),!_||T&&_.contains(T)?T?l(o,T):null:A=i(o)?h.after(_):h.before(_))}return function(o){return{next:function(E){return n(1,E,o)},prev:function(E){return n(-1,E,o)}}}}),V("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r){var d=function(l){return s.isTextPosition(l)?0===l.offset():h.isCaretCandidate(l.getNode())},i=function(l){return s.isTextPosition(l)?l.offset()===l.container().data.length:h.isCaretCandidate(l.getNode(!0))},c=function(l,f){return!s.isTextPosition(l)&&!s.isTextPosition(f)&&l.getNode()===f.getNode(!0)},C=function(l,f,n){var o=new m(f);return y.from(l?o.next(n):o.prev(n))};return{fromPosition:C,navigate:function(l,f,n){return C(l,f,n).bind(function(o){return t.isInSameBlock(n,o,f)&&function(l,f,n){return l?!c(f,n)&&!function(l){return!s.isTextPosition(l)&&r.isBr(l.getNode())}(f)&&i(f)&&d(n):!c(n,f)&&d(f)&&i(n)}(l,n,o)?C(l,f,o):y.some(o)})},positionIn:function(l,f){var n=l?f.firstChild:f.lastChild;return r.isText(n)?y.some(new s(n,l?0:n.data.length)):n?h.isCaretCandidate(n)?y.some(l?s.before(n):function(l){return r.isBr(l)?s.before(l):s.after(l)}(n)):function(l,f,n){var o=l?s.before(n):s.after(n);return C(l,f,o)}(l,f,n):y.none()}}}),V("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind"],function(S,y,h,s,t,m){var c,u=(c=S.foldl(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],function(g,k){return g[k]=!0,g},{}),function(g){return!0===c[t.name(g)]});return{getParentTextBlock:function(i,c){return h.contains(i,c)?m.closest(c,u,function(i){return function(c){return h.eq(i,s.fromDom(c.dom().parentNode))}}(i)):y.none()}}}),V("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(S,y,h){var t=function(d,i,c){return S.ancestor(d,function(g){return y.is(g,i)},c)};return{first:function(d){return y.one(d)},ancestor:t,sibling:function(d,i){return S.sibling(d,function(c){return y.is(c,i)})},child:function(d,i){return S.child(d,function(c){return y.is(c,i)})},descendant:function(d,i){return y.one(i,d)},closest:function(d,i,c){return h(y.is,t,d,i,c)}}}),V("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(S){return{any:function(u){return S.first(u).isSome()},ancestor:function(u,a,d){return S.ancestor(u,a,d).isSome()},sibling:function(u,a){return S.sibling(u,a).isSome()},child:function(u,a){return S.child(u,a).isSome()},descendant:function(u,a){return S.descendant(u,a).isSome()},closest:function(u,a,d){return S.closest(u,a,d).isSome()}}}),V("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(S,y,h,s,t,m,r){var i=function(v,l){return t.isCaretCandidate(l)&&!1===function(v,l){return m.isText(l)&&/^[ \t\r\n]*$/.test(l.data)&&!1===function(v,l){var f=h.fromDom(v),n=h.fromDom(l);return s.ancestor(n,"pre,code",S.curry(y.eq,f))}(v,l)}(v,l)||function(v){return m.isElement(v)&&"A"===v.nodeName&&v.hasAttribute("name")}(l)||c(l)},c=m.hasAttribute("data-mce-bookmark"),g=m.hasAttribute("data-mce-bogus"),k=m.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(v){return function(v){var l,f,n=0;if(i(v,v))return!1;if(!(f=v.firstChild))return!0;l=new r(f,v);do{if(k(f))f=l.next(!0);else if(g(f))f=l.next();else if(m.isBr(f))n++,f=l.next();else{if(i(v,f))return!1;f=l.next()}}while(f);return n<=1}(v.dom())}}}),V("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k,C){var p=t.immutable("block","position"),v=t.immutable("from","to"),l=function(w,x){var T=r.fromDom(w),N=r.fromDom(x.container());return g.getParentTextBlock(T,N).map(function(_){return p(_,x)})};return{read:function(w,x,T){return T.collapsed?function(w,x,T){var N=l(w,c.fromRangeStart(T)),_=N.bind(function(A){return i.fromPosition(x,w,A.position()).bind(function(F){return l(w,F).map(function(O){return function(w,x,T){return C.isBr(T.position().getNode())&&!1===k.isEmpty(T.block())?i.positionIn(!1,T.block().dom()).bind(function(N){return N.isEqual(T.position())?i.fromPosition(x,w,N).bind(function(_){return l(w,_)}):h.some(T)}).getOr(T):T}(w,x,O)})})});return s.liftN([N,_],v).filter(function(A){return function(w){return!1===m.eq(w.from().block(),w.to().block())}(A)&&function(w){return d.parent(w.from().block()).bind(function(x){return d.parent(w.to().block()).filter(function(T){return m.eq(x,T)})}).isSome()}(A)&&function(w){return!1===C.isContentEditableFalse(w.from().block())&&!1===C.isContentEditableFalse(w.to().block())}(A)})}(w,x,T):h.none()}}}),V("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r,u,a,d){var i=function(g,k,C,p){var v=m.children(k);return d.isBr(p.getNode())&&(s.remove(t.fromDom(p.getNode())),p=r.positionIn(!1,C.dom()).getOr(p)),!1===a.isEmpty(k)&&S.each(v,function(l){h.append(C,l)}),a.isEmpty(k)&&s.remove(k),v.length>0?y.from(p):y.none()};return{mergeBlocks:function(g,k,C){return g?a.isEmpty(k)?(s.remove(k),r.positionIn(!0,C.dom())):r.positionIn(!1,k.dom()).bind(function(p){return i(0,C,k,p)}):a.isEmpty(C)?(s.remove(C),r.positionIn(!0,k.dom())):r.positionIn(!1,C.dom()).bind(function(p){return i(0,k,C,p)})}}}),V("tinymce.core.delete.BlockBoundaryDelete",["tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(S,y){return{backspaceDelete:function(s,t){var m;return(m=S.read(s.getBody(),t,s.selection.getRng()).bind(function(r){return y.mergeBlocks(t,r.from().block(),r.to().block())})).each(function(r){s.selection.setRng(r.toRange())}),m.isSome()}}}),V("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],function(S,y,h,s,t){return{backspaceDelete:function(u,a){var d=h.fromDom(u.getBody());return!1===u.selection.isCollapsed()&&function(u,a){var d=a.getRng();return S.liftN([s.getParentTextBlock(u,h.fromDom(d.startContainer)),s.getParentTextBlock(u,h.fromDom(d.endContainer))],function(i,c){return!1===y.eq(i,c)&&(d.deleteContents(),t.mergeBlocks(!0,i,c).each(function(g){a.setRng(g.toRange())}),!0)}).getOr(!1)}(d,u.selection)}}}),V("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(S,y,h,s,t,m){return{generate:function(u){if(!h.isArray(u))throw new t("cases must be an array");if(0===u.length)throw new t("there must be at least one case");var a=[],d={};return S.each(u,function(i,c){var g=y.keys(i);if(1!==g.length)throw new t("one and only one name per case");var k=g[0],C=i[k];if(void 0!==d[k])throw new t("duplicate key detected:"+k);if("cata"===k)throw new t("cannot have a case named cata (sorry)");if(!h.isArray(C))throw new t("case arguments must be an array");a.push(k),d[k]=function(){var p=arguments.length;if(p!==C.length)throw new t("Wrong number of arguments to case "+k+". Expected "+C.length+" ("+C+"), got "+p);for(var v=new s(p),l=0;l<v.length;l++)v[l]=arguments[l];var f=function(n){var o=y.keys(n);if(a.length!==o.length)throw new t("Wrong number of arguments to match. Expected: "+a.join(",")+"\nActual: "+o.join(","));if(!S.forall(a,function(e){return S.contains(o,e)}))throw new t("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+a.join(", "));return n[k].apply(null,v)};return{fold:function(){if(arguments.length!==u.length)throw new t("Wrong number of arguments to fold. Expected "+u.length+", got "+arguments.length);var n=arguments[c];return n.apply(null,v)},match:f,log:function(n){m.log(n,{constructors:a,constructor:k,params:v})}}}}),d}}}),V("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r,u,a){var d=S.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),g=function(v,l,f){return s.fromPosition(l,v,f).bind(function(n){return l&&a.isContentEditableFalse(n.getNode())||!1===l&&a.isContentEditableFalse(n.getNode(!0))?function(v,l,f,n){var o=n.getNode(!1===l);return r.getParentTextBlock(h.fromDom(v),h.fromDom(f.getNode())).map(function(E){return u.isEmpty(E)?d.remove(E.dom()):d.moveToElement(o)}).orThunk(function(){return y.some(d.moveToElement(o))})}(v,l,f,n):l&&m.isAfterContentEditableFalse(f)||!1===l&&m.isBeforeContentEditableFalse(f)?y.some(d.moveToPosition(n)):y.none()})};return{read:function(v,l,f){var n=m.normalizeRange(l?1:-1,v,f),o=t.fromRangeStart(n);return!1===l&&m.isAfterContentEditableFalse(o)?y.some(d.remove(o.getNode(!0))):l&&m.isBeforeContentEditableFalse(o)?y.some(d.remove(o.getNode())):function(v,l,f){return function(v,l){var f=l.getNode(!1===v),n=v?"after":"before";return a.isElement(f)&&f.getAttribute("data-mce-caret")===n}(l,f)?function(v,l){return v&&a.isContentEditableFalse(l.nextSibling)?y.some(d.moveToElement(l.nextSibling)):!1===v&&a.isContentEditableFalse(l.previousSibling)?y.some(d.moveToElement(l.previousSibling)):y.none()}(l,f.getNode(!1===l)).fold(function(){return g(v,l,f)},y.some):g(v,l,f)}(v,l,o)}}}),V("tinymce.core.text.Bidi",[],function(){var S=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(h){return S.test(h)}}}),V("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.text.Bidi"],function(S,y,h,s,t,m,r,u,a,d,i,c){var g=function(T){return d.DOM.is(T,"a[href],code")},C=function(T,N){return S.filter(d.DOM.getParents(N.container(),"*",T),g)},v=function(T,N){var _=C(T,N);return h.from(_[_.length-1])},e=function(T,N,_){return m.fromPosition(N,T,_)},b=function(T,N){var _=N.container(),A=N.offset();return T?t.isCaretContainerInline(_)?i.isText(_.nextSibling)?new r(_.nextSibling,0):r.after(_):t.isBeforeInline(N)?new r(_,A+1):N:t.isCaretContainerInline(_)?i.isText(_.previousSibling)?new r(_.previousSibling,_.previousSibling.data.length):r.before(_):t.isAfterInline(N)?new r(_,A-1):N},w=y.curry(b,!0),x=y.curry(b,!1);return{isInlineTarget:g,findInline:function(T,N){var _=C(T,N);return h.from(_[0])},findRootInline:v,isInInline:function(T,N){return!!N&&v(T,N).isSome()},isRtl:function(T){return"rtl"===d.DOM.getStyle(T,"direction",!0)||c.hasStrongRtl(T.textContent)},isAtInlineEndPoint:function(T,N){return v(T,N).map(function(_){return e(_,!1,N).isNone()||e(_,!0,N).isNone()}).getOr(!1)},isAtZwsp:function(T){return t.isBeforeInline(T)||t.isAfterInline(T)},findCaretPositionIn:function(T,N){return m.positionIn(N,T)},findCaretPosition:e,normalizePosition:b,normalizeForwards:w,normalizeBackwards:x,hasSameParentBlock:function(T,N,_){var A=u.getParentBlock(N,T),F=u.getParentBlock(_,T);return A&&A===F}}}),V("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k){var p=function(R,M){return function(R,M){var U=R.container(),P=R.offset();return!1===i.isTextPosition(R)&&U===M.parentNode&&P>i.before(M).offset()}(M,R)?new i(M.container(),M.offset()-1):M},f=function(R){return d.isCaretCandidate(R.previousSibling)?y.some(function(R){return g.isText(R)?new i(R,R.data.length):i.after(R)}(R.previousSibling)):R.previousSibling?k.findCaretPositionIn(R.previousSibling,!1):y.none()},n=function(R){return d.isCaretCandidate(R.nextSibling)?y.some(function(R){return g.isText(R)?new i(R,0):i.before(R)}(R.nextSibling)):R.nextSibling?k.findCaretPositionIn(R.nextSibling,!0):y.none()},x=function(R,M,U){return function(R,M,U){return R?function(R,M){return n(M).orThunk(function(){return f(M)}).orThunk(function(){return function(R,M){return k.findCaretPosition(R,!0,i.after(M)).fold(function(){return k.findCaretPosition(R,!1,i.before(M))},y.some)}(R,M)})}(M,U):function(R,M){return f(M).orThunk(function(){return n(M)}).orThunk(function(){return function(R,M){var U=i.before(M.previousSibling?M.previousSibling:M.parentNode);return k.findCaretPosition(R,!1,U).fold(function(){return k.findCaretPosition(R,!0,i.after(M))},y.some)}(R,M)})}(M,U)}(R,M,U).map(S.curry(p,U))},T=function(R,M,U){U.fold(function(){R.focus()},function(P){R.selection.setRng(P.toRange(),M)})},_=function(R,M){return M&&R.schema.getBlockElements().hasOwnProperty(r.name(M))},A=function(R){if(c.isEmpty(R)){var M=m.fromHtml('<br data-mce-bogus="1">');return t.empty(R),s.append(R,M),y.some(i.before(M.dom()))}return y.none()};return{deleteElement:function(R,M,U){var P=x(M,R.getBody(),U.dom()),B=u.ancestor(U,S.curry(_,R),function(R){return function(M){return M.dom()===R}}(R.getBody())),L=function(R,M){return h.liftN([a.prevSibling(R),a.nextSibling(R),M],function(U,P,B){var L,z=U.dom(),q=P.dom();return g.isText(z)&&g.isText(q)?(L=z.data.length,z.appendData(q.data),t.remove(P),t.remove(R),B.container()===q?new i(z,L):B):(t.remove(R),B)}).orThunk(function(){return t.remove(R),M})}(U,P);B.bind(A).fold(function(){T(R,M,L)},function(z){T(R,M,y.some(z))})}}}),V("tinymce.core.delete.CefDelete",["ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.BlockBoundary","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.MergeBlocks","tinymce.core.dom.NodeType"],function(S,y,h,s,t,m,r,u){return{backspaceDelete:function(v,l){return v.selection.isCollapsed()?function(v,l){var f=t.read(v.getBody(),l,v.selection.getRng()).map(function(n){return n.fold(function(v,l){return function(f){return m.deleteElement(v,l,S.fromDom(f)),!0}}(v,l),function(v,l){return function(f){var n=l?y.before(f):y.after(f);return v.selection.setRng(n.toRange()),!0}}(v,l),function(v){return function(l){return v.selection.setRng(l.toRange()),!0}}(v))});return f.getOr(!1)}(v,l):function(v,l){var f=v.selection.getNode();return!!u.isContentEditableFalse(f)&&(m.deleteElement(v,l,S.fromDom(v.selection.getNode())),!0)}(v,l)},paddEmptyElement:function(v){var l,f=function(v,l){for(;l&&l!==v;){if(u.isContentEditableTrue(l)||u.isContentEditableFalse(l))return l;l=l.parentNode}return null}(v.getBody(),v.selection.getNode());return u.isContentEditableTrue(f)&&v.dom.isBlock(f)&&v.dom.isEmpty(f)&&(l=v.dom.create("br",{"data-mce-bogus":"1"}),v.dom.setHTML(f,""),f.appendChild(l),v.selection.setRng(y.before(l).toRange())),!0}}}),V("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(S,y,h){var s=y.isText,t=function(i){return s(i)&&i.data[0]===h.ZWSP},m=function(i){return s(i)&&i.data[i.data.length-1]===h.ZWSP},r=function(i){return i.ownerDocument.createTextNode(h.ZWSP)},d=function(i,c){return i?function(i){if(s(i.previousSibling))return m(i.previousSibling)||i.previousSibling.appendData(h.ZWSP),i.previousSibling;if(s(i))return t(i)||i.insertData(0,h.ZWSP),i;var c=r(i);return i.parentNode.insertBefore(c,i),c}(c):function(i){if(s(i.nextSibling))return t(i.nextSibling)||i.nextSibling.insertData(0,h.ZWSP),i.nextSibling;if(s(i))return m(i)||i.appendData(h.ZWSP),i;var c=r(i);return i.nextSibling?i.parentNode.insertBefore(c,i.nextSibling):i.parentNode.appendChild(c),c}(c)};return{insertInline:d,insertInlineBefore:S.curry(d,!0),insertInlineAfter:S.curry(d,!1)}}),V("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,y,h,s,t,m){var r=s.isElement,u=s.isText,a=function(n){var o=n.parentNode;o&&o.removeChild(n)},i=function(n,o){0===o.length?a(n):n.nodeValue=o},c=function(n){var o=t.trim(n);return{count:n.length-o.length,text:o}},g=function(n,o){return f(n),o},f=function(n){if(r(n)&&y.isCaretContainer(n)&&(y.hasContent(n)?n.removeAttribute("data-mce-caret"):a(n)),u(n)){var o=t.trim(function(n){try{return n.nodeValue}catch(o){return""}}(n));i(n,o)}};return{removeAndReposition:function(n,o){return h.isTextPosition(o)?function(n,o){return o.container()===n?function(n,o){var E=c(n.data.substr(0,o.offset())),e=c(n.data.substr(o.offset())),b=E.text+e.text;return b.length>0?(i(n,b),new h(n,o.offset()-E.count)):o}(n,o):g(n,o)}(n,o):function(n,o){return o.container()===n.parentNode?function(n,o){var E=o.container(),e=S.indexOf(E.childNodes,n).map(function(b){return b<o.offset()?new h(E,o.offset()-1):o}).getOr(o);return f(n),e}(n,o):g(n,o)}(n,o)},remove:f}}),V("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(S,y,h,s,t,m,r){var u=function(i,c){return m.isText(i.container())?h.insertInline(c,i.container()):h.insertInline(c,i.getNode())},a=function(i,c){var g=c.get();return g&&i.container()===g&&y.isCaretContainerInline(g)};return{renderCaret:function(i,c){return c.fold(function(g){s.remove(i.get());var k=h.insertInlineBefore(g);return i.set(k),S.some(new t(k,k.length-1))},function(g){return r.findCaretPositionIn(g,!0).map(function(k){if(a(k,i))return new t(i.get(),1);s.remove(i.get());var C=u(k,!0);return i.set(C),new t(C,1)})},function(g){return r.findCaretPositionIn(g,!1).map(function(k){if(a(k,i))return new t(i.get(),i.get().length-1);s.remove(i.get());var C=u(k,!1);return i.set(C),new t(C,C.length-1)})},function(g){s.remove(i.get());var k=h.insertInlineAfter(g);return i.set(k),S.some(new t(k,1))})}}}),V("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(S){return{evaluateUntil:function(h,s){for(var t=0;t<h.length;t++){var m=h[t].apply(null,s);if(m.isSome())return m}return S.none()}}}),V("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(S,y,h,s,t,m,r,u,a,d){var i=S.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),c=function(_,A){return r.getParentBlock(A,_)||_},g=function(_,A){var F=a.normalizeForwards(A),O=c(_,F.container());return a.findRootInline(O,F).fold(function(){return a.findCaretPosition(O,!0,F).bind(y.curry(a.findRootInline,O)).map(function(R){return i.before(R)})},h.none)},k=function(_,A){var F=a.normalizeBackwards(A);return a.findRootInline(_,F).bind(function(O){return a.findCaretPosition(O,!1,F).isNone()?h.some(i.start(O)):h.none()})},C=function(_,A){var F=a.normalizeForwards(A);return a.findRootInline(_,F).bind(function(O){return a.findCaretPosition(O,!0,F).isNone()?h.some(i.end(O)):h.none()})},p=function(_,A){var F=a.normalizeBackwards(A),O=c(_,F.container());return a.findRootInline(O,F).fold(function(){return a.findCaretPosition(O,!1,F).bind(y.curry(a.findRootInline,O)).map(function(R){return i.after(R)})},h.none)},v=function(_){return!1===a.isRtl(f(_))},l=function(_,A){return d.evaluateUntil([g,k,C,p],[_,A]).filter(v)},f=function(_){return _.fold(y.identity,y.identity,y.identity,y.identity)},n=function(_){return _.fold(y.constant("before"),y.constant("start"),y.constant("end"),y.constant("after"))},o=function(_){return _.fold(i.before,i.before,i.after,i.after)},b=function(_,A,F,O,R){return s.liftN([a.findRootInline(A,F),a.findRootInline(A,O)],function(M,U){return M!==U&&a.hasSameParentBlock(A,M,U)?i.after(_?M:U):R}).getOr(R)},w=function(_,A){return _.fold(y.constant(!0),function(F){return!function(_,A){return n(_)===n(A)&&f(_)===f(A)}(F,A)})},T=function(_,A){return _?A.fold(y.compose(h.some,i.start),h.none,y.compose(h.some,i.after),h.none):A.fold(h.none,y.compose(h.some,i.before),h.none,y.compose(h.some,i.end))},N=function(_,A,F){var O=a.normalizePosition(_,F),R=l(A,O);return l(A,O).bind(y.curry(T,_)).orThunk(function(){return function(_,A,F,O){var R=a.normalizePosition(_,O);return a.findCaretPosition(A,_,R).map(y.curry(a.normalizePosition,_)).fold(function(){return F.map(o)},function(P){return l(A,P).map(y.curry(b,_,A,R,P)).filter(y.curry(w,F))}).filter(v)}(_,A,R,F)})};return{readLocation:l,prevLocation:y.curry(N,!1),nextLocation:y.curry(N,!0),getElement:f,outside:o,inside:function(_){return _.fold(i.start,i.start,i.end,i.end)}}}),V("ephox.katamari.api.Cell",[],function(){var S=function(y){var h=y,s=function(){return h};return{get:s,set:function(r){h=r},clone:function(){return S(s())}}};return S}),V("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(S,y,h,s,t,m,r,u){var a=function(f,n){var o=f.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),f.selection.setRng(o)},d=function(f){return!1!==f.settings.inline_boundaries},i=function(f,n){f?n.setAttribute("data-mce-selected","1"):n.removeAttribute("data-mce-selected","1")},c=function(f,n,o){return m.renderCaret(n,o).map(function(E){return a(f,E),o})};return{move:function(f,n,o){return function(){return!!d(f)&&function(f,n,o){var E=f.getBody(),e=t.fromRangeStart(f.selection.getRng());return(o?r.nextLocation(E,e):r.prevLocation(E,e)).bind(function(w){return c(f,n,w)})}(f,n,o).isSome()}},setupSelectedState:function(f){var n=new y(null);return f.on("NodeChange",function(o){d(f)&&(function(f,n){var o=f.select("a[href][data-mce-selected],code[data-mce-selected]"),E=S.filter(n,u.isInlineTarget);S.each(S.difference(o,E),h.curry(i,!1)),S.each(S.difference(E,o),h.curry(i,!0))}(f.dom,o.parents),function(f,n){if(f.selection.isCollapsed()&&!0!==f.composing&&n.get()){var o=t.fromRangeStart(f.selection.getRng());t.isTextPosition(o)&&!1===u.isAtZwsp(o)&&(a(f,s.removeAndReposition(n.get(),o)),n.set(null))}}(f,n),function(f,n,o){if(f.selection.isCollapsed()){var E=S.filter(o,u.isInlineTarget);S.each(E,function(e){var b=t.fromRangeStart(f.selection.getRng());r.readLocation(f.getBody(),b).bind(function(w){return c(f,n,w)})})}}(f,n,o.parents))}),n},setCaretPosition:a}}),V("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(S,y,h,s,t,m,r,u,a,d,i,c,g){var v=function(E,e){return function(b){return d.renderCaret(e,b).map(function(w){return c.setCaretPosition(E,w),!0}).getOr(!1)}},l=function(E,e,b,w){var x=E.getBody();E.undoManager.ignore(function(){E.selection.setRng(function(E,e){var b=document.createRange();return b.setStart(E.container(),E.offset()),b.setEnd(e.container(),e.offset()),b}(b,w)),E.execCommand("Delete"),i.readLocation(x,r.fromRangeStart(E.selection.getRng())).map(i.inside).map(v(E,e))}),E.nodeChanged()};return{backspaceDelete:function(E,e,b){if(E.selection.isCollapsed()&&function(E){return!1!==E.settings.inline_boundaries}(E)){var w=r.fromRangeStart(E.selection.getRng());return function(E,e,b,w){var x=function(E,e){return u.getParentBlock(e,E)||E}(E.getBody(),w.container()),T=i.readLocation(x,w);return T.bind(function(N){return b?N.fold(S.constant(y.some(i.inside(N))),y.none,S.constant(y.some(i.outside(N))),y.none):N.fold(y.none,S.constant(y.some(i.outside(N))),y.none,S.constant(y.some(i.inside(N))))}).map(v(E,e)).getOrThunk(function(){var N=m.navigate(b,x,w),_=N.bind(function(A){return i.readLocation(x,A)});return T.isSome()&&_.isSome()?g.findRootInline(x,w).map(function(A){return!!function(E){return h.liftN([g.findCaretPositionIn(E,!0),g.findCaretPositionIn(E,!1)],function(e,b){var w=g.normalizePosition(!0,e),x=g.normalizePosition(!1,b);return g.findCaretPosition(E,!0,w).map(function(T){return T.isEqual(x)}).getOr(!0)}).getOr(!0)}(A)&&(a.deleteElement(E,b,s.fromDom(A)),!0)}).getOr(!1):_.bind(function(A){return N.map(function(F){return b?l(E,e,w,F):l(E,e,F,w),!0})}).getOr(!1)})}(E,e,b,w)}return!1}}}),V("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete"],function(S,y,h,s){var t=function(a,d){a.getDoc().execCommand(d,!1,null)};return{deleteCommand:function(a){if(!h.backspaceDelete(a,!1)){if(s.backspaceDelete(a,!1))return;if(S.backspaceDelete(a,!1))return;if(y.backspaceDelete(a,!1))return;t(a,"Delete"),function(a){var d=a.dom,i=a.getBody();d.isEmpty(i)&&(a.setContent(""),i.firstChild&&d.isBlock(i.firstChild)?a.selection.setCursorLocation(i.firstChild,0):a.selection.setCursorLocation(i,0))}(a)}},forwardDeleteCommand:function(a){if(!h.backspaceDelete(a,!0)){if(s.backspaceDelete(a,!0))return;if(S.backspaceDelete(a,!0))return;if(y.backspaceDelete(a,!0))return;t(a,"ForwardDelete")}}}}),V("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType"],function(S,y,h,s){var t=function(d){return s.isElement(d)&&/^(P|H[1-6]|DIV)$/.test(d.nodeName)};return{normalize:function(d){return function(d){var i=y.fromRangeStart(d),c=y.fromRangeEnd(d),g=d.commonAncestorContainer;return!1===d.collapsed&&function(d,i){return i(d.endContainer)}(d,t)&&0===d.endOffset?S.fromPosition(!1,g,c).map(function(k){return!h.isInSameBlock(i,c,g)&&h.isInSameBlock(i,k,g)?function(d,i,c,g){var k=document.createRange();return k.setStart(d,i),k.setEnd(c,g),k}(i.container(),i.offset(),k.container(),k.offset()):d}).getOr(d):d}(d)}}}),V("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],function(S,y,h){var r=function(f){return S.grep(f.childNodes,function(n){return"LI"===n.nodeName})},a=function(f){return f.length>0&&function(f){return!f.firstChild}(f[f.length-1])?f.slice(0,-1):f},d=function(f,n){var o=f.getParent(n,f.isBlock);return o&&"LI"===o.nodeName?o:null},k=function(f,n){var o=h.after(f),e=new y(n).prev(o);return e?e.toRange():null};return{isListFragment:function(f){var n=f.firstChild,o=f.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),!(!n||n!==o||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(f,n,o,E){var e=function(f,n,o){var E=n.serialize(o);return function(f){var n=f.firstChild,o=f.lastChild;return n&&"META"===n.nodeName&&n.parentNode.removeChild(n),o&&"mce_marker"===o.id&&o.parentNode.removeChild(o),f}(f.createFragment(E))}(n,f,E),b=d(n,o.startContainer),w=a(r(e.firstChild)),N=n.getRoot(),_=function(A){var F=h.fromRangeStart(o),O=new y(n.getRoot()),R=1===A?O.prev(F):O.next(F);return!R||d(n,R.getNode())!==b};return _(1)?function(f,n,o){var E=f.parentNode;return S.each(n,function(e){E.insertBefore(e,f)}),function(f,n){var o=h.before(f),e=new y(n).next(o);return e?e.toRange():null}(f,o)}(b,w,N):_(2)?function(f,n,o,E){return E.insertAfter(n.reverse(),f),k(n[0],o)}(b,w,N,n):function(f,n,o,E){var e=function(f,n){var o=n.cloneRange(),E=n.cloneRange();return o.setStartBefore(f),E.setEndAfter(f),[o.cloneContents(),E.cloneContents()]}(f,E),b=f.parentNode;return b.insertBefore(e[0],f),S.each(n,function(w){b.insertBefore(w,f)}),b.insertBefore(e[1],f),b.removeChild(f),k(n[n.length-1],o)}(b,w,N,o)},isParentBlockLi:function(f,n){return!!d(f,n)},trimListItems:a,listItems:r}}),V("tinymce.core.InsertContent",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.InsertList","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r,u,a){var d=s.matchNodeNames("td th");return{insertAtCaret:function(C,p){var v=function(C){var p;return"string"!=typeof C?(p=a.extend({paste:C.paste,data:{paste:C.paste}},C),{content:C.content,details:p}):{content:C,details:{}}}(p);!function(C,p,v){var l,f,n,o,E,e,b,w,x,T,N,_,A=C.schema.getTextInlineElements(),F=C.selection,O=C.dom;/^ | $/.test(p)&&(p=function R(ne){var he,Ee,me;function $(G){return Ee[G]&&3==Ee[G].nodeType}return me=(he=F.getRng(!0)).startOffset,3==(Ee=he.startContainer).nodeType&&(me>0?ne=ne.replace(/^&nbsp;/," "):$("previousSibling")||(ne=ne.replace(/^ /,"&nbsp;")),me<Ee.length?ne=ne.replace(/&nbsp;(<br>|)$/," "):$("nextSibling")||(ne=ne.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),ne}(p)),l=C.parser,_=v.merge,f=new r({validate:C.settings.validate},C.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',C.fire("BeforeSetContent",e={content:p,format:"html",selection:!0}),-1==(p=e.content).indexOf("{$caret}")&&(p+="{$caret}"),p=p.replace(/\{\$caret\}/,N);var ee=(w=F.getRng()).startContainer||(w.parentElement?w.parentElement():null),ue=C.getBody();ee===ue&&F.isCollapsed()&&O.isBlock(ue.firstChild)&&function z(ne){return ne&&!C.schema.getShortEndedElements()[ne.nodeName]}(ue.firstChild)&&O.isEmpty(ue.firstChild)&&((w=O.createRng()).setStart(ue.firstChild,0),w.setEnd(ue.firstChild,0),F.setRng(w)),F.isCollapsed()||(C.selection.setRng(t.normalize(C.selection.getRng())),C.getDoc().execCommand("Delete",!1,null),function M(){var ne,he,Ee;Ee=(ne=F.getRng(!0)).startOffset,3==(he=ne.startContainer).nodeType&&ne.collapsed&&("\xa0"===he.data[Ee]?(he.deleteData(Ee,1),/[\u00a0| ]$/.test(p)||(p+=" ")):"\xa0"===he.data[Ee-1]&&(he.deleteData(Ee-1,1),/[\u00a0| ]$/.test(p)||(p=" "+p)))}());var ae={context:(n=F.getNode()).nodeName.toLowerCase(),data:v.data};if(E=l.parse(p,ae),!0===v.paste&&u.isListFragment(E)&&u.isParentBlockLi(O,n))return w=u.insertAtCaret(f,O,C.selection.getRng(!0),E),C.selection.setRng(w),void C.fire("SetContent",e);if(function P(ne){for(var he=ne;he=he.walk();)1===he.type&&he.attr("data-mce-fragment","1")}(E),"mce_marker"==(x=E.lastChild).attr("id"))for(b=x,x=x.prev;x;x=x.walk(!0))if(3==x.type||!O.isBlock(x.name)){C.schema.isValidChild(x.parent.name,"span")&&x.parent.insert(b,x,"br"===x.name);break}if(C._selectionOverrides.showBlockCaretContainer(n),ae.invalid){for(F.setContent(N),n=F.getNode(),o=C.getBody(),9==n.nodeType?n=x=o:x=n;x!==o;)n=x,x=x.parentNode;p=n==o?o.innerHTML:O.getOuterHTML(n),p=f.serialize(l.parse(p.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return f.serialize(E)}))),n==o?O.setHTML(o,p):O.setOuterHTML(n,p)}else p=f.serialize(E),function(C,p,v){if("all"===v.getAttribute("data-mce-bogus"))v.parentNode.insertBefore(C.dom.createFragment(p),v);else{var l=v.firstChild;!l||l===v.lastChild&&"BR"===l.nodeName?C.dom.setHTML(v,p):C.selection.setContent(p)}}(C,p,n);(function U(){if(_){var ne=C.getBody(),he=new h(O);a.each(O.select("*[data-mce-fragment]"),function(Ee){for(var me=Ee.parentNode;me&&me!=ne;me=me.parentNode)A[Ee.nodeName.toLowerCase()]&&he.compare(me,Ee)&&O.remove(Ee,!0)})}})(),function q(ne){var he,Ee,me;if(ne){if(F.scrollIntoView(ne),he=function $(Z){for(var Y=C.getBody();Z&&Z!==Y;Z=Z.parentNode)if("false"===C.dom.getContentEditable(Z))return Z;return null}(ne))return O.remove(ne),void F.select(he);w=O.createRng(),(x=ne.previousSibling)&&3==x.nodeType?(w.setStart(x,x.nodeValue.length),m.ie||(T=ne.nextSibling)&&3==T.nodeType&&(x.appendData(T.data),T.parentNode.removeChild(T))):(w.setStartBefore(ne),w.setEndBefore(ne)),Ee=O.getParent(ne,O.isBlock),O.remove(ne),Ee&&O.isEmpty(Ee)&&(C.$(Ee).empty(),w.setStart(Ee,0),w.setEnd(Ee,0),d(Ee)||function L(ne){return!!ne.getAttribute("data-mce-fragment")}(Ee)||!(me=function G(Z){var Y=S.fromRangeStart(Z);if(Y=new y(C.getBody()).next(Y))return Y.toRange()}(w))?O.add(Ee,O.create("br",{"data-mce-bogus":"1"})):(w=me,O.remove(Ee))),F.setRng(w)}}(O.get("mce_marker")),function B(ne){a.each(ne.getElementsByTagName("*"),function(he){he.removeAttribute("data-mce-fragment")})}(C.getBody()),C.fire("SetContent",e),C.addVisual()}(C,v.content,v.details)}}}),V("tinymce.core.EditorCommands",["tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r){var u=r.each,a=r.extend,d=r.map,i=r.inArray,c=r.explode,g=t.ie&&t.ie<11,k=!0;return function(p){var v,l,f,E,n={state:{},exec:{},value:{}},o=p.settings;function b(B){var L;if(!p.quirks.isHidden()&&!p.removed){if(B=B.toLowerCase(),L=n.state[B])return L(B);try{return p.getDoc().queryCommandState(B)}catch(z){}return!1}}function x(B,L){L=L||"exec",u(B,function(z,q){u(q.toLowerCase().split(","),function(ee){n[L][ee]=z})})}function O(B,L,z){return void 0===L&&(L=!1),void 0===z&&(z=null),p.getDoc().execCommand(B,L,z)}function R(B){return f.match(B)}function M(B,L){f.toggle(B,L?{value:L}:void 0),p.nodeChanged()}function U(B){E=l.getBookmark(B)}function P(){l.moveToBookmark(E)}p.on("PreInit",function(){v=p.dom,l=p.selection,o=p.settings,f=p.formatter}),a(this,{execCommand:function e(B,L,z,q){var ee,ue,ae=0;if(!p.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(B)&&(!q||!q.skip_focus)&&p.focus(),(q=p.fire("BeforeExecCommand",{command:B,ui:L,value:z})).isDefaultPrevented())return!1;if(ue=B.toLowerCase(),ee=n.exec[ue])return ee(ue,L,z),p.fire("ExecCommand",{command:B,ui:L,value:z}),!0;if(u(p.plugins,function(ne){if(ne.execCommand&&ne.execCommand(B,L,z))return p.fire("ExecCommand",{command:B,ui:L,value:z}),ae=!0,!1}),ae)return ae;if(p.theme&&p.theme.execCommand&&p.theme.execCommand(B,L,z))return p.fire("ExecCommand",{command:B,ui:L,value:z}),!0;try{ae=p.getDoc().execCommand(B,L,z)}catch(ne){}return!!ae&&(p.fire("ExecCommand",{command:B,ui:L,value:z}),!0)}},queryCommandState:b,queryCommandValue:function w(B){var L;if(!p.quirks.isHidden()&&!p.removed){if(B=B.toLowerCase(),L=n.value[B])return L(B);try{return p.getDoc().queryCommandValue(B)}catch(z){}}},queryCommandSupported:function N(B){if(B=B.toLowerCase(),n.exec[B])return!0;try{return p.getDoc().queryCommandSupported(B)}catch(L){}return!1},addCommands:x,addCommand:function T(B,L,z){B=B.toLowerCase(),n.exec[B]=function(q,ee,ue,ae){return L.call(z||p,ee,ue,ae)}},addQueryStateHandler:function _(B,L,z){B=B.toLowerCase(),n.state[B]=function(){return L.call(z||p)}},addQueryValueHandler:function A(B,L,z){B=B.toLowerCase(),n.value[B]=function(){return L.call(z||p)}},hasCustomCommand:function F(B){return B=B.toLowerCase(),!!n.exec[B]}}),x({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){p.undoManager.add()},"Cut,Copy,Paste":function(B){var z,L=p.getDoc();try{O(B)}catch(ee){z=k}if("paste"===B&&!L.queryCommandEnabled(B)&&(z=!0),z||!L.queryCommandSupported(B)){var q=p.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");t.mac&&(q=q.replace(/Ctrl\+/g,"\u2318+")),p.notificationManager.open({text:q,type:"error"})}},unlink:function(){if(l.isCollapsed()){var B=p.dom.getParent(p.selection.getStart(),"a");B&&p.dom.remove(B,!0)}else f.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(B){var L=B.substring(7);"full"==L&&(L="justify"),u("left,center,right,justify".split(","),function(z){L!=z&&f.remove("align"+z)}),"none"!=L&&M("align"+L)},"InsertUnorderedList,InsertOrderedList":function(B){var L,z;O(B),(L=v.getParent(l.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((z=L.parentNode).nodeName)&&(U(),v.split(z,L),P())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(B){M(B)},"ForeColor,HiliteColor,FontName":function(B,L,z){M(B,z)},FontSize:function(B,L,z){var q,ee;z>=1&&z<=7&&(ee=c(o.font_size_style_values),z=(q=c(o.font_size_classes))?q[z-1]||z:ee[z-1]||z),M(B,z)},RemoveFormat:function(B){f.remove(B)},mceBlockQuote:function(){M("blockquote")},FormatBlock:function(B,L,z){return M(z||"p")},mceCleanup:function(){var B=l.getBookmark();p.setContent(p.getContent({cleanup:k}),{cleanup:k}),l.moveToBookmark(B)},mceRemoveNode:function(B,L,z){var q=z||l.getNode();q!=p.getBody()&&(U(),p.dom.remove(q,k),P())},mceSelectNodeDepth:function(B,L,z){var q=0;v.getParent(l.getNode(),function(ee){if(1==ee.nodeType&&q++==z)return l.select(ee),!1},p.getBody())},mceSelectNode:function(B,L,z){l.select(z)},mceInsertContent:function(B,L,z){m.insertAtCaret(p,z)},mceInsertRawHTML:function(B,L,z){l.setContent("tiny_mce_marker"),p.setContent(p.getContent().replace(/tiny_mce_marker/g,function(){return z}))},mceToggleFormat:function(B,L,z){M(z)},mceSetContent:function(B,L,z){p.setContent(z)},"Indent,Outdent":function(B){var L,z,q;z=/[a-z%]+$/i.exec(L=o.indentation),L=parseInt(L,10),b("InsertUnorderedList")||b("InsertOrderedList")?O(B):(!o.forced_root_block&&!v.getParent(l.getNode(),v.isBlock)&&f.apply("div"),u(l.getSelectedBlocks(),function(ee){if("false"!==v.getContentEditable(ee)&&"LI"!==ee.nodeName){var ue=p.getParam("indent_use_margin",!1)?"margin":"padding";ue="TABLE"===ee.nodeName?"margin":ue,ue+="rtl"==v.getStyle(ee,"direction",!0)?"Right":"Left","outdent"==B?(q=Math.max(0,parseInt(ee.style[ue]||0,10)-L),v.setStyle(ee,ue,q?q+z:"")):(q=parseInt(ee.style[ue]||0,10)+L+z,v.setStyle(ee,ue,q))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){p.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){p.hasVisual=!p.hasVisual,p.addVisual()},mceReplaceContent:function(B,L,z){p.execCommand("mceInsertContent",!1,z.replace(/\{\$selection\}/g,l.getContent({format:"text"})))},mceInsertLink:function(B,L,z){var q;"string"==typeof z&&(z={href:z}),q=v.getParent(l.getNode(),"a"),z.href=z.href.replace(" ","%20"),(!q||!z.href)&&f.remove("link"),z.href&&f.apply("link",z,q)},selectAll:function(){var L,B=v.getRoot();if(l.getRng().setStart){var z=v.getParent(l.getStart(),y.isContentEditableTrue);z&&((L=v.createRng()).selectNodeContents(z),l.setRng(L))}else(L=l.getRng()).item||(L.moveToElementText(B),L.select())},delete:function(){S.deleteCommand(p)},forwardDelete:function(){S.forwardDeleteCommand(p)},mceNewDocument:function(){p.setContent("")},InsertLineBreak:function(B,L,z){var ee,ue,ae,q=z,ne=l.getRng(!0);new h(v).normalize(ne);var he=ne.startOffset,Ee=ne.startContainer;if(1==Ee.nodeType&&Ee.hasChildNodes()){var me=he>Ee.childNodes.length-1;Ee=Ee.childNodes[Math.min(he,Ee.childNodes.length-1)]||Ee,he=me&&3==Ee.nodeType?Ee.nodeValue.length:0}var $=v.getParent(Ee,v.isBlock),G=$?$.nodeName.toUpperCase():"",Z=$?v.getParent($.parentNode,v.isBlock):null,Y=Z?Z.nodeName.toUpperCase():"";"LI"==Y&&!(q&&q.ctrlKey)&&($=Z,G=Y),Ee&&3==Ee.nodeType&&he>=Ee.nodeValue.length&&!g&&!function ke(){for(var K,oe=new s(Ee,$),se=p.schema.getNonEmptyElements();K=oe.next();)if(se[K.nodeName.toLowerCase()]||K.length>0)return!0}()&&(ee=v.create("br"),ne.insertNode(ee),ne.setStartAfter(ee),ne.setEndAfter(ee),ue=!0),ee=v.create("br"),ne.insertNode(ee);var ye=v.doc.documentMode;return g&&"PRE"==G&&(!ye||ye<8)&&ee.parentNode.insertBefore(v.doc.createTextNode("\r"),ee),ae=v.create("span",{},"&nbsp;"),ee.parentNode.insertBefore(ae,ee),l.scrollIntoView(ae),v.remove(ae),ue?(ne.setStartBefore(ee),ne.setEndBefore(ee)):(ne.setStartAfter(ee),ne.setEndAfter(ee)),l.setRng(ne),p.undoManager.add(),k}}),x({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(B){var L="align"+B.substring(7),z=l.isCollapsed()?[v.getParent(l.getNode(),v.isBlock)]:l.getSelectedBlocks(),q=d(z,function(ee){return!!f.matchNode(ee,L)});return-1!==i(q,k)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(B){return R(B)},mceBlockQuote:function(){return R("blockquote")},Outdent:function(){var B;return o.inline_styles&&((B=v.getParent(l.getStart(),v.isBlock))&&parseInt(B.style.paddingLeft,10)>0||(B=v.getParent(l.getEnd(),v.isBlock))&&parseInt(B.style.paddingLeft,10)>0)?k:b("InsertUnorderedList")||b("InsertOrderedList")||!o.inline_styles&&!!v.getParent(l.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(B){var L=v.getParent(l.getNode(),"ul,ol");return L&&("insertunorderedlist"===B&&"UL"===L.tagName||"insertorderedlist"===B&&"OL"===L.tagName)}},"state"),x({"FontSize,FontName":function(B){var z,L=0;return(z=v.getParent(l.getNode(),"span"))&&(L="fontsize"==B?z.style.fontSize:z.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),L}},"value"),x({Undo:function(){p.undoManager.undo()},Redo:function(){p.undoManager.redo()}})}}),V("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(S,y){var h=y.each,s=y.trim,t="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),m={ftp:21,http:80,https:443,mailto:25};function r(u,a){var i,c,d=this;if(u=s(u),i=(a=d.settings=a||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(u)||/^\s*#/.test(u))d.source=u;else{var g=0===u.indexOf("//");0===u.indexOf("/")&&!g&&(u=(i&&i.protocol||"http")+"://mce_host"+u),/^[\w\-]*:?\/\//.test(u)||(c=a.base_uri?a.base_uri.path:new r(S.location.href).directory,""===a.base_uri.protocol?u="//mce_host"+d.toAbsPath(c,u):(u=/([^#?]*)([#?]?.*)/.exec(u),u=(i&&i.protocol||"http")+"://mce_host"+d.toAbsPath(c,u[1])+u[2])),u=u.replace(/@@/g,"(mce_at)"),u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(u),h(t,function(k,C){var p=u[C];p&&(p=p.replace(/\(mce_at\)/g,"@@")),d[k]=p}),i&&(d.protocol||(d.protocol=i.protocol),d.userInfo||(d.userInfo=i.userInfo),!d.port&&"mce_host"===d.host&&(d.port=i.port),(!d.host||"mce_host"===d.host)&&(d.host=i.host),d.source=""),g&&(d.protocol="")}}return r.prototype={setPath:function(u){var a=this;u=/^(.*?)\/?(\w+)?$/.exec(u),a.path=u[0],a.directory=u[1],a.file=u[2],a.source="",a.getURI()},toRelative:function(u){var d,a=this;if("./"===u)return u;if("mce_host"!=(u=new r(u,{base_uri:a})).host&&a.host!=u.host&&u.host||a.port!=u.port||a.protocol!=u.protocol&&""!==u.protocol)return u.getURI();var i=a.getURI(),c=u.getURI();return i==c||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==c?i:(d=a.toRelPath(a.path,u.path),u.query&&(d+="?"+u.query),u.anchor&&(d+="#"+u.anchor),d)},toAbsolute:function(u,a){return(u=new r(u,{base_uri:this})).getURI(a&&this.isSameOrigin(u))},isSameOrigin:function(u){if(this.host==u.host&&this.protocol==u.protocol){if(this.port==u.port)return!0;var a=m[this.protocol];if(a&&(this.port||a)==(u.port||a))return!0}return!1},toRelPath:function(u,a){var d,g,k,i=0,c="";if(u=(u=u.substring(0,u.lastIndexOf("/"))).split("/"),d=a.split("/"),u.length>=d.length)for(g=0,k=u.length;g<k;g++)if(g>=d.length||u[g]!=d[g]){i=g+1;break}if(u.length<d.length)for(g=0,k=d.length;g<k;g++)if(g>=u.length||u[g]!=d[g]){i=g+1;break}if(1===i)return a;for(g=0,k=u.length-(i-1);g<k;g++)c+="../";for(g=i-1,k=d.length;g<k;g++)c+=g!=i-1?"/"+d[g]:d[g];return c},toAbsPath:function(u,a){var d,g,k,i=0,c=[];for(g=/\/$/.test(a)?"/":"",u=u.split("/"),a=a.split("/"),h(u,function(C){C&&c.push(C)}),u=c,d=a.length-1,c=[];d>=0;d--)if(0!==a[d].length&&"."!==a[d]){if(".."===a[d]){i++;continue}if(i>0){i--;continue}c.push(a[d])}return 0!==(k=(d=u.length-i)<=0?c.reverse().join("/"):u.slice(0,d).join("/")+"/"+c.reverse().join("/")).indexOf("/")&&(k="/"+k),g&&k.lastIndexOf("/")!==k.length-1&&(k+=g),k},getURI:function(u){var a,d=this;return(!d.source||u)&&(a="",u||(a+=d.protocol?d.protocol+"://":"//",d.userInfo&&(a+=d.userInfo+"@"),d.host&&(a+=d.host),d.port&&(a+=":"+d.port)),d.path&&(a+=d.path),d.query&&(a+="?"+d.query),d.anchor&&(a+="#"+d.anchor),d.source=a),d.source}},r.parseDataUri=function(u){var a,d;return u=decodeURIComponent(u).split(","),(d=/data:([^;]+)/.exec(u[0]))&&(a=d[1]),{type:a,data:u[1]}},r.getDocumentBaseUrl=function(u){var a;return a=0!==u.protocol.indexOf("http")&&"file:"!==u.protocol?u.href:u.protocol+"//"+u.host+u.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},r}),V("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(S){var s,t,y=S.each,h=S.extend;function m(){}return m.extend=s=function(r){var d,i,c,a=this.prototype;function g(){var p,v,l,f=this;if(!t&&(f.init&&f.init.apply(f,arguments),v=f.Mixins))for(p=v.length;p--;)(l=v[p]).init&&l.init.apply(f,arguments)}function k(){return this}function C(p,v){return function(){var n,l=this,f=l._super;return l._super=a[p],n=v.apply(l,arguments),l._super=f,n}}for(i in t=!0,d=new this,t=!1,r.Mixins&&(y(r.Mixins,function(p){for(var v in p)"init"!==v&&(r[v]=p[v])}),a.Mixins&&(r.Mixins=a.Mixins.concat(r.Mixins))),r.Methods&&y(r.Methods.split(","),function(p){r[p]=k}),r.Properties&&y(r.Properties.split(","),function(p){var v="_"+p;r[p]=function(l){var f=this;return void 0!==l?(f[v]=l,f):f[v]}}),r.Statics&&y(r.Statics,function(p,v){g[v]=p}),r.Defaults&&a.Defaults&&(r.Defaults=h({},a.Defaults,r.Defaults)),r)d[i]="function"==typeof(c=r[i])&&a[i]?C(i,c):c;return g.prototype=d,g.constructor=g,g.extend=s,g},m}),V("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(S){var y=S.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function h(s){var m,u,t=this,r={};function a(){return!1}function d(){return!0}function c(p,v,l,f){var n,o,E;if(!1===v&&(v=a),v)for(v={func:v},f&&S.extend(v,f),E=(o=p.toLowerCase().split(" ")).length;E--;)(n=r[p=o[E]])||(n=r[p]=[],u(p,!0)),l?n.unshift(v):n.push(v);return t}function g(p,v){var l,f,n,o,E;if(p)for(l=(o=p.toLowerCase().split(" ")).length;l--;){if(f=r[p=o[l]],!p){for(n in r)u(n,!1),delete r[n];return t}if(f){if(v)for(E=f.length;E--;)f[E].func===v&&(f=f.slice(0,E).concat(f.slice(E+1)),r[p]=f);else f.length=0;f.length||(u(p,!1),delete r[p])}}else{for(p in r)u(p,!1);r={}}return t}m=(s=s||{}).scope||t,u=s.toggleEvent||a,t.fire=function i(p,v){var l,f,n,o;if(p=p.toLowerCase(),(v=v||{}).type=p,v.target||(v.target=m),v.preventDefault||(v.preventDefault=function(){v.isDefaultPrevented=d},v.stopPropagation=function(){v.isPropagationStopped=d},v.stopImmediatePropagation=function(){v.isImmediatePropagationStopped=d},v.isDefaultPrevented=a,v.isPropagationStopped=a,v.isImmediatePropagationStopped=a),s.beforeFire&&s.beforeFire(v),l=r[p])for(f=0,n=l.length;f<n;f++){if((o=l[f]).once&&g(p,o.func),v.isImmediatePropagationStopped())return v.stopPropagation(),v;if(!1===o.func.call(m,v))return v.preventDefault(),v}return v},t.on=c,t.off=g,t.once=function k(p,v,l){return c(p,v,l,{once:!0})},t.has=function C(p){return p=p.toLowerCase(),!(!r[p]||0===r[p].length)}}return h.isNative=function(s){return!!y[s.toLowerCase()]},h}),V("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(S){function y(h){return h._eventDispatcher||(h._eventDispatcher=new S({scope:h,toggleEvent:function(s,t){S.isNative(s)&&h.toggleNativeEvent&&h.toggleNativeEvent(s,t)}})),h._eventDispatcher}return{fire:function(h,s,t){var m=this;if(m.removed&&"remove"!==h)return s;if(s=y(m).fire(h,s,t),!1!==t&&m.parent)for(var r=m.parent();r&&!s.isPropagationStopped();)r.fire(h,s,!1),r=r.parent();return s},on:function(h,s,t){return y(this).on(h,s,t)},off:function(h,s){return y(this).off(h,s)},once:function(h,s){return y(this).once(h,s)},hasEventListeners:function(h){return y(this).has(h)}}}),V("tinymce.core.data.Binding",[],function(){function S(y){this.create=y.create}return S.create=function(y,h){return new S({create:function(s,t){var m;function r(a){s.set(t,a.value)}return s.on("change:"+t,function u(a){y.set(h,a.value)}),y.on("change:"+h,r),(m=s._bindings)||(m=s._bindings=[],s.on("destroy",function(){for(var a=m.length;a--;)m[a]()})),m.push(function(){y.off("change:"+h,r)}),y.get(h)}})},S}),V("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(S,y,h,s){function t(r){return r.nodeType>0}function m(r,u){var a,d;if(r===u)return!0;if(null===r||null===u||"object"!=typeof r||"object"!=typeof u)return r===u;if(s.isArray(u)){if(r.length!==u.length)return!1;for(a=r.length;a--;)if(!m(r[a],u[a]))return!1}if(t(r)||t(u))return r===u;for(a in d={},u){if(!m(r[a],u[a]))return!1;d[a]=!0}for(a in r)if(!d[a]&&!m(r[a],u[a]))return!1;return!0}return y.extend({Mixins:[h],init:function(r){var u,a;for(u in r=r||{})(a=r[u])instanceof S&&(r[u]=a.create(this,u));this.data=r},set:function(r,u){var a,d,i=this.data[r];if(u instanceof S&&(u=u.create(this,r)),"object"==typeof r){for(a in r)this.set(a,r[a]);return this}return m(i,u)||(this.data[r]=u,this.fire("change:"+r,d={target:this,name:r,value:u,oldValue:i}),this.fire("change",d)),this},get:function(r){return this.data[r]},has:function(r){return r in this.data},bind:function(r){return S.create(this,r)},destroy:function(){this.fire("destroy")}})}),V("tinymce.core.ui.Selector",["tinymce.core.util.Class"],function(S){"use strict";var m,h=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=/^\s*|\s*$/g,r=S.extend({init:function(u){var a=this.match;function C(v,l,f){var n;function o(E){E&&l.push(E)}return o(function d(v){if(v)return v=v.toLowerCase(),function(l){return"*"===v||l.type===v}}((n=h.exec(v.replace(t,"")))[1])),o(function i(v){if(v)return function(l){return l._name===v}}(n[2])),o(function c(v){if(v)return v=v.split("."),function(l){for(var f=v.length;f--;)if(!l.classes.contains(v[f]))return!1;return!0}}(n[3])),o(function g(v,l,f){if(v)return function(n){var o=n[v]?n[v]():"";return l?"="===l?o===f:"*="===l?o.indexOf(f)>=0:"~="===l?(" "+o+" ").indexOf(" "+f+" ")>=0:"!="===l?o!=f:"^="===l?0===o.indexOf(f):"$="===l&&o.substr(o.length-f.length)===f:!!f}}(n[4],n[5],n[6])),o(function k(v){var l;if(v)return(v=/(?:not\((.+)\))|(.+)/i.exec(v))[1]?(l=p(v[1],[]),function(f){return!a(f,l)}):(v=v[2],function(f,n,o){return"first"===v?0===n:"last"===v?n===o-1:"even"===v?n%2==0:"odd"===v?n%2==1:!!f[v]&&f[v]()})}(n[7])),l.pseudo=!!n[7],l.direct=f,l}function p(v,l){var n,o,E,f=[];do{if(s.exec(""),(o=s.exec(v))&&(v=o[3],f.push(o[1]),o[2])){n=o[3];break}}while(o);for(n&&p(n,l),v=[],E=0;E<f.length;E++)">"!=f[E]&&v.push(C(f[E],[],">"===f[E-1]));return l.push(v),l}this._selectors=p(u,[])},match:function(u,a){var d,i,c,g,k,C,p,v,l,f,n,o,E;for(d=0,i=(a=a||this._selectors).length;d<i;d++){for(E=u,o=0,c=(g=(k=a[d]).length)-1;c>=0;c--)for(v=k[c];E;){if(v.pseudo)for(l=f=(n=E.parent().items()).length;l--&&n[l]!==E;);for(C=0,p=v.length;C<p;C++)if(!v[C](E,l,f)){C=p+1;break}if(C===p){o++;break}if(c===g-1)break;E=E.parent()}if(o===g)return!0}return!1},find:function(u){var d,i,a=[],c=this._selectors;function g(k,C,p){var v,l,f,n,o,E=C[p];for(v=0,l=k.length;v<l;v++){for(o=k[v],f=0,n=E.length;f<n;f++)if(!E[f](o,v,l)){f=n+1;break}if(f===n)p==C.length-1?a.push(o):o.items&&g(o.items(),C,p+1);else if(E.direct)return;o.items&&g(o.items(),C,p)}}if(u.items){for(d=0,i=c.length;d<i;d++)g(u.items(),c[d],0);i>1&&(a=function y(u){for(var i,a=[],d=u.length;d--;)(i=u[d]).__checked||(a.push(i),i.__checked=1);for(d=a.length;d--;)delete a[d].__checked;return a}(a))}return m||(m=r.Collection),new m(a)}});return r}),V("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],function(S,y,h){"use strict";var s,t,m=Array.prototype.push,r=Array.prototype.slice;return t={length:0,init:function(u){u&&this.add(u)},add:function(u){var a=this;return S.isArray(u)?m.apply(a,u):u instanceof s?a.add(u.toArray()):m.call(a,u),a},set:function(u){var i,a=this,d=a.length;for(a.length=0,a.add(u),i=a.length;i<d;i++)delete a[i];return a},filter:function(u){var d,i,g,k,c=[];for("string"==typeof u?(u=new y(u),k=function(C){return u.match(C)}):k=u,d=0,i=this.length;d<i;d++)k(g=this[d])&&c.push(g);return new s(c)},slice:function(){return new s(r.apply(this,arguments))},eq:function(u){return-1===u?this.slice(u):this.slice(u,+u+1)},each:function(u){return S.each(this,u),this},toArray:function(){return S.toArray(this)},indexOf:function(u){for(var d=this.length;d--&&this[d]!==u;);return d},reverse:function(){return new s(S.toArray(this).reverse())},hasClass:function(u){return!!this[0]&&this[0].classes.contains(u)},prop:function(u,a){var c,d=this;return void 0!==a?(d.each(function(g){g[u]&&g[u](a)}),d):(c=d[0])&&c[u]?c[u]():void 0},exec:function(u){var a=this,d=S.toArray(arguments).slice(1);return a.each(function(i){i[u]&&i[u].apply(i,d)}),a},remove:function(){for(var u=this.length;u--;)this[u].remove();return this},addClass:function(u){return this.each(function(a){a.classes.add(u)})},removeClass:function(u){return this.each(function(a){a.classes.remove(u)})}},S.each("fire on off show hide append prepend before after reflow".split(" "),function(u){t[u]=function(){var a=S.toArray(arguments);return this.each(function(d){u in d&&d[u].apply(d,a)}),this}}),S.each("text name disabled active selected checked visible parent value data".split(" "),function(u){t[u]=function(a){return this.prop(u,a)}}),s=h.extend(t),y.Collection=s,s}),V("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],function(S,y,h){"use strict";var s=0,t={id:function(){return"mceu_"+s++},create:function(m,r,u){var a=document.createElement(m);return h.DOM.setAttribs(a,r),"string"==typeof u?a.innerHTML=u:y.each(u,function(d){d.nodeType&&a.appendChild(d)}),a},createFragment:function(m){return h.DOM.createFragment(m)},getWindowSize:function(){return h.DOM.getViewPort()},getSize:function(m){var r,u;if(m.getBoundingClientRect){var a=m.getBoundingClientRect();r=Math.max(a.width||a.right-a.left,m.offsetWidth),u=Math.max(a.height||a.bottom-a.bottom,m.offsetHeight)}else r=m.offsetWidth,u=m.offsetHeight;return{width:r,height:u}},getPos:function(m,r){return h.DOM.getPos(m,r||t.getContainer())},getContainer:function(){return S.container?S.container:document.body},getViewPort:function(m){return h.DOM.getViewPort(m)},get:function(m){return document.getElementById(m)},addClass:function(m,r){return h.DOM.addClass(m,r)},removeClass:function(m,r){return h.DOM.removeClass(m,r)},hasClass:function(m,r){return h.DOM.hasClass(m,r)},toggleClass:function(m,r,u){return h.DOM.toggleClass(m,r,u)},css:function(m,r,u){return h.DOM.setStyle(m,r,u)},getRuntimeStyle:function(m,r){return h.DOM.getStyle(m,r,!0)},on:function(m,r,u,a){return h.DOM.bind(m,r,u,a)},off:function(m,r,u){return h.DOM.unbind(m,r,u)},fire:function(m,r,u){return h.DOM.fire(m,r,u)},innerHtml:function(m,r){h.DOM.setHTML(m,r)}};return t}),V("tinymce.core.ui.BoxUtils",[],function(){"use strict";return{parseBox:function(S){var y;if(S)return"number"==typeof S?{top:S=S||0,left:S,bottom:S,right:S}:(1===(y=(S=S.split(" ")).length)?S[1]=S[2]=S[3]=S[0]:2===y?(S[2]=S[0],S[3]=S[1]):3===y&&(S[3]=S[1]),{top:parseInt(S[0],10)||0,right:parseInt(S[1],10)||0,bottom:parseInt(S[2],10)||0,left:parseInt(S[3],10)||0})},measureBox:function(S,y){function s(t){var m=parseFloat(function h(t){var m=document.defaultView;return m?(t=t.replace(/[A-Z]/g,function(r){return"-"+r}),m.getComputedStyle(S,null).getPropertyValue(t)):S.currentStyle[t]}(t),10);return isNaN(m)?0:m}return{top:s(y+"TopWidth"),right:s(y+"RightWidth"),bottom:s(y+"BottomWidth"),left:s(y+"LeftWidth")}}}}),V("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],function(S){"use strict";function y(){}function h(s){this.cls=[],this.cls._map={},this.onchange=s||y,this.prefix=""}return S.extend(h.prototype,{add:function(s){return s&&!this.contains(s)&&(this.cls._map[s]=!0,this.cls.push(s),this._change()),this},remove:function(s){if(this.contains(s)){for(var t=0;t<this.cls.length&&this.cls[t]!==s;t++);this.cls.splice(t,1),delete this.cls._map[s],this._change()}return this},toggle:function(s,t){var m=this.contains(s);return m!==t&&(m?this.remove(s):this.add(s),this._change()),this},contains:function(s){return!!this.cls._map[s]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),h.prototype.toString=function(){var s;if(this.clsValue)return this.clsValue;s="";for(var t=0;t<this.cls.length;t++)t>0&&(s+=" "),s+=this.prefix+this.cls[t];return s},h}),V("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],function(S){var h,y={};return{add:function(s){var t=s.parent();if(t){if(!t._layout||t._layout.isNative())return;y[t._id]||(y[t._id]=t),h||(h=!0,S.requestAnimationFrame(function(){var m,r;for(m in h=!1,y)(r=y[m]).state.get("rendered")&&r.reflow();y={}},document.body))}},remove:function(s){y[s._id]&&delete y[s._id]}}}),V("tinymce.core.ui.Control",["tinymce.core.util.Class","tinymce.core.util.Tools","tinymce.core.util.EventDispatcher","tinymce.core.data.ObservableObject","tinymce.core.ui.Collection","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.BoxUtils","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(S,y,h,s,t,m,r,u,a,d){"use strict";var k,i="onmousewheel"in document,g="mce-",C=0,p={Statics:{classPrefix:g},isRtl:function(){return k.rtl},classPrefix:g,init:function(f){var o,E,n=this;function e(b){var w;for(b=b.split(" "),w=0;w<b.length;w++)n.classes.add(b[w])}n.settings=f=y.extend({},n.Defaults,f),n._id=f.id||"mceu_"+C++,n._aria={role:f.role},n._elmCache={},n.$=r,n.state=new s({visible:!0,active:!1,disabled:!1,value:""}),n.data=new s(f.data),n.classes=new a(function(){n.state.get("rendered")&&(n.getEl().className=this.toString())}),n.classes.prefix=n.classPrefix,(o=f.classes)&&(n.Defaults&&(E=n.Defaults.classes)&&o!=E&&e(E),e(o)),y.each("title text name visible disabled active value".split(" "),function(b){b in f&&n[b](f[b])}),n.on("click",function(){if(n.disabled())return!1}),n.settings=f,n.borderBox=u.parseBox(f.border),n.paddingBox=u.parseBox(f.padding),n.marginBox=u.parseBox(f.margin),f.hidden&&n.hide()},Properties:"parent,name",getContainerElm:function(){return m.getContainer()},getParentCtrl:function(f){for(var n,o=this.getRoot().controlIdLookup;f&&o&&!(n=o[f.id]);)f=f.parentNode;return n},initLayoutRect:function(){var o,E,b,w,x,T,N,_,A,F,f=this,n=f.settings,e=f.getEl();o=f.borderBox=f.borderBox||u.measureBox(e,"border"),f.paddingBox=f.paddingBox||u.measureBox(e,"padding"),f.marginBox=f.marginBox||u.measureBox(e,"margin"),F=m.getSize(e),x=(_=n.minWidth)||F.width,T=(A=n.minHeight)||F.height,b=n.width,w=n.height,N=void 0!==(N=n.autoResize)?N:!b&&!w;var O=o.left+o.right,R=o.top+o.bottom,M=n.maxWidth||65535,U=n.maxHeight||65535;return f._layoutRect=E={x:n.x||0,y:n.y||0,w:b=b||x,h:w=w||T,deltaW:O,deltaH:R,contentW:b-O,contentH:w-R,innerW:b-O,innerH:w-R,startMinWidth:_||0,startMinHeight:A||0,minW:Math.min(x,M),minH:Math.min(T,U),maxW:M,maxH:U,autoResize:N,scrollW:0},f._lastLayoutRect={},E},layoutRect:function(f){var E,e,b,w,x,T,n=this,o=n._layoutRect;return o||(o=n.initLayoutRect()),f?(b=o.deltaW,w=o.deltaH,f.x!==x&&(o.x=f.x),f.y!==x&&(o.y=f.y),f.minW!==x&&(o.minW=f.minW),f.minH!==x&&(o.minH=f.minH),(e=f.w)!==x&&(o.w=e=(e=e<o.minW?o.minW:e)>o.maxW?o.maxW:e,o.innerW=e-b),(e=f.h)!==x&&(o.h=e=(e=e<o.minH?o.minH:e)>o.maxH?o.maxH:e,o.innerH=e-w),(e=f.innerW)!==x&&(o.innerW=e=(e=e<o.minW-b?o.minW-b:e)>o.maxW-b?o.maxW-b:e,o.w=e+b),(e=f.innerH)!==x&&(o.innerH=e=(e=e<o.minH-w?o.minH-w:e)>o.maxH-w?o.maxH-w:e,o.h=e+w),f.contentW!==x&&(o.contentW=f.contentW),f.contentH!==x&&(o.contentH=f.contentH),((E=n._lastLayoutRect).x!==o.x||E.y!==o.y||E.w!==o.w||E.h!==o.h)&&((T=k.repaintControls)&&T.map&&!T.map[n._id]&&(T.push(n),T.map[n._id]=!0),E.x=o.x,E.y=o.y,E.w=o.w,E.h=o.h),n):o},repaint:function(){var n,o,E,e,b,w,x,T,N,_,f=this;N=document.createRange?function(A){return A}:Math.round,n=f.getEl().style,w=(b=f.borderBox).left+b.right,x=b.top+b.bottom,(e=f._layoutRect).x!==(T=f._lastRepaintRect||{}).x&&(n.left=N(e.x)+"px",T.x=e.x),e.y!==T.y&&(n.top=N(e.y)+"px",T.y=e.y),e.w!==T.w&&(_=N(e.w-w),n.width=(_>=0?_:0)+"px",T.w=e.w),e.h!==T.h&&(_=N(e.h-x),n.height=(_>=0?_:0)+"px",T.h=e.h),f._hasBody&&e.innerW!==T.innerW&&(_=N(e.innerW),(E=f.getEl("body"))&&((o=E.style).width=(_>=0?_:0)+"px"),T.innerW=e.innerW),f._hasBody&&e.innerH!==T.innerH&&(_=N(e.innerH),(E=E||f.getEl("body"))&&((o=o||E.style).height=(_>=0?_:0)+"px"),T.innerH=e.innerH),f._lastRepaintRect=T,f.fire("repaint",{},!1)},updateLayoutRect:function(){var f=this;f.parent()._lastRect=null,m.css(f.getEl(),{width:"",height:""}),f._layoutRect=f._lastRepaintRect=f._lastLayoutRect=null,f.initLayoutRect()},on:function(f,n){var o=this;return v(o).on(f,function E(e){var b,w;return"string"!=typeof e?e:function(x){return b||o.parentsAndSelf().each(function(T){var N=T.settings.callbacks;if(N&&(b=N[e]))return w=T,!1}),b?b.call(w,x):(x.action=e,void this.fire("execute",x))}}(n)),o},off:function(f,n){return v(this).off(f,n),this},fire:function(f,n,o){var E=this;if((n=n||{}).control||(n.control=E),n=v(E).fire(f,n),!1!==o&&E.parent)for(var e=E.parent();e&&!n.isPropagationStopped();)e.fire(f,n,!1),e=e.parent();return n},hasEventListeners:function(f){return v(this).has(f)},parents:function(f){var o,E=new t;for(o=this.parent();o;o=o.parent())E.add(o);return f&&(E=E.filter(f)),E},parentsAndSelf:function(f){return new t(this).add(this.parents(f))},next:function(){var f=this.parent().items();return f[f.indexOf(this)+1]},prev:function(){var f=this.parent().items();return f[f.indexOf(this)-1]},innerHtml:function(f){return this.$el.html(f),this},getEl:function(f){var n=f?this._id+"-"+f:this._id;return this._elmCache[n]||(this._elmCache[n]=r("#"+n)[0]),this._elmCache[n]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(f){}return this},blur:function(){return this.getEl().blur(),this},aria:function(f,n){var o=this,E=o.getEl(o.ariaTarget);return void 0===n?o._aria[f]:(o._aria[f]=n,o.state.get("rendered")&&E.setAttribute("role"==f?f:"aria-"+f,n),o)},encode:function(f,n){return!1!==n&&(f=this.translate(f)),(f||"").replace(/[&<>"]/g,function(o){return"&#"+o.charCodeAt(0)+";"})},translate:function(f){return k.translate?k.translate(f):f},before:function(f){var n=this,o=n.parent();return o&&o.insert(f,o.items().indexOf(n),!0),n},after:function(f){var n=this,o=n.parent();return o&&o.insert(f,o.items().indexOf(n)),n},remove:function(){var E,e,f=this,n=f.getEl(),o=f.parent();if(f.items){var b=f.items().toArray();for(e=b.length;e--;)b[e].remove()}o&&o.items&&(E=[],o.items().each(function(x){x!==f&&E.push(x)}),o.items().set(E),o._lastRect=null),f._eventsRoot&&f._eventsRoot==f&&r(n).off();var w=f.getRoot().controlIdLookup;return w&&delete w[f._id],n&&n.parentNode&&n.parentNode.removeChild(n),f.state.set("rendered",!1),f.state.destroy(),f.fire("remove"),f},renderBefore:function(f){return r(f).before(this.renderHtml()),this.postRender(),this},renderTo:function(f){return r(f||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var o,E,e,b,w,f=this,n=f.settings;for(b in f.$el=r(f.getEl()),f.state.set("rendered",!0),n)0===b.indexOf("on")&&f.on(b.substr(2),n[b]);if(f._eventsRoot){for(e=f.parent();!w&&e;e=e.parent())w=e._eventsRoot;if(w)for(b in w._nativeEvents)f._nativeEvents[b]=!0}l(f),n.style&&(o=f.getEl())&&(o.setAttribute("style",n.style),o.style.cssText=n.style),f.settings.border&&f.$el.css({"border-top-width":(E=f.borderBox).top,"border-right-width":E.right,"border-bottom-width":E.bottom,"border-left-width":E.left});var x=f.getRoot();for(var T in x.controlIdLookup||(x.controlIdLookup={}),x.controlIdLookup[f._id]=f,f._aria)f.aria(T,f._aria[T]);!1===f.state.get("visible")&&(f.getEl().style.display="none"),f.bindStates(),f.state.on("change:visible",function(N){var A,_=N.value;f.state.get("rendered")&&(f.getEl().style.display=!1===_?"none":"",f.getEl().getBoundingClientRect()),(A=f.parent())&&(A._lastRect=null),f.fire(_?"show":"hide"),d.add(f)}),f.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(f){var e,b,w,x,T,N,o=this.getEl(),E=o.parentNode,_=function n(A,F){var O,R,M=A;for(O=R=0;M&&M!=F&&M.nodeType;)O+=M.offsetLeft||0,R+=M.offsetTop||0,M=M.offsetParent;return{x:O,y:R}}(o,E);return e=_.x,b=_.y,w=o.offsetWidth,x=o.offsetHeight,T=E.clientWidth,N=E.clientHeight,"end"==f?(e-=T-w,b-=N-x):"center"==f&&(e-=T/2-w/2,b-=N/2-x/2),E.scrollLeft=e,E.scrollTop=b,this},getRoot:function(){for(var n,f=this,o=[];f;){if(f.rootControl){n=f.rootControl;break}o.push(f),n=f,f=f.parent()}n||(n=this);for(var E=o.length;E--;)o[E].rootControl=n;return n},reflow:function(){d.remove(this);var f=this.parent();return f&&f._layout&&!f._layout.isNative()&&f.reflow(),this}};function v(f){return f._eventDispatcher||(f._eventDispatcher=new h({scope:f,toggleEvent:function(n,o){o&&h.isNative(n)&&(f._nativeEvents||(f._nativeEvents={}),f._nativeEvents[n]=!0,f.state.get("rendered")&&l(f))}})),f._eventDispatcher}function l(f){var n,o,E,e,b,w;function x(F){var O=f.getParentCtrl(F.target);O&&O.fire(F.type,F)}function T(){var F=e._lastHoverCtrl;F&&(F.fire("mouseleave",{target:F.getEl()}),F.parents().each(function(O){O.fire("mouseleave",{target:O.getEl()})}),e._lastHoverCtrl=null)}function N(F){var U,P,B,O=f.getParentCtrl(F.target),R=e._lastHoverCtrl,M=0;if(O!==R){if(e._lastHoverCtrl=O,(P=O.parents().toArray().reverse()).push(O),R){for((B=R.parents().toArray().reverse()).push(R),M=0;M<B.length&&P[M]===B[M];M++);for(U=B.length-1;U>=M;U--)(R=B[U]).fire("mouseleave",{target:R.getEl()})}for(U=M;U<P.length;U++)(O=P[U]).fire("mouseenter",{target:O.getEl()})}}function _(F){F.preventDefault(),"mousewheel"==F.type?(F.deltaY=-1/40*F.wheelDelta,F.wheelDeltaX&&(F.deltaX=-1/40*F.wheelDeltaX)):(F.deltaX=0,F.deltaY=F.detail),F=f.fire("wheel",F)}if(b=f._nativeEvents){for((E=f.parents().toArray()).unshift(f),n=0,o=E.length;!e&&n<o;n++)e=E[n]._eventsRoot;for(e||(e=E[E.length-1]||f),f._eventsRoot=e,o=n,n=0;n<o;n++)E[n]._eventsRoot=e;var A=e._delegates;for(w in A||(A=e._delegates={}),b){if(!b)return!1;"wheel"!==w?("mouseenter"===w||"mouseleave"===w?e._hasMouseEnter||(r(e.getEl()).on("mouseleave",T).on("mouseover",N),e._hasMouseEnter=1):A[w]||(r(e.getEl()).on(w,x),A[w]=!0),b[w]=!1):i?r(f.getEl()).on("mousewheel",_):r(f.getEl()).on("DOMMouseScroll",_)}}}return y.each("text title visible disabled active value".split(" "),function(f){p[f]=function(n){return 0===arguments.length?this.state.get(f):(void 0!==n&&this.state.set(f,n),this)}}),k=S.extend(p)}),V("tinymce.core.ui.Factory",[],function(){"use strict";var S={};return{add:function(y,h){S[y.toLowerCase()]=h},has:function(y){return!!S[y.toLowerCase()]},create:function(y,h){var s;if("string"==typeof y?(h=h||{}).type=y:y=(h=y).type,y=y.toLowerCase(),!(s=S[y]))throw new Error("Could not find control by type: "+y);return(s=new s(h)).type=y,s}}}),V("tinymce.core.ui.KeyboardNavigation",[],function(){"use strict";var S=function(y){return!!y.getAttribute("data-mce-tabstop")};return function(y){var s,t,h=y.root;function m(b){return b&&1===b.nodeType}try{s=document.activeElement}catch(b){s=document.body}function r(b){return m(b=b||s)?b.getAttribute("role"):null}function u(b){for(var w,x=b||s;x=x.parentNode;)if(w=r(x))return w}function a(b){var w=s;if(m(w))return w.getAttribute("aria-"+b)}function d(b){var w=b.tagName.toUpperCase();return"INPUT"==w||"TEXTAREA"==w||"SELECT"==w}function c(b){var w=[];return function x(T){if(1==T.nodeType&&"none"!=T.style.display&&!T.disabled){(function i(b){return!!(d(b)&&!b.hidden||S(b)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(r(b)))})(T)&&w.push(T);for(var N=0;N<T.childNodes.length;N++)x(T.childNodes[N])}}(b||h.getEl()),w}function g(b){var w,x;(x=(b=b||t).parents().toArray()).unshift(b);for(var T=0;T<x.length&&!(w=x[T]).settings.ariaRoot;T++);return w}function C(b,w){return b<0?b=w.length-1:b>=w.length&&(b=0),w[b]&&w[b].focus(),b}function p(b,w){var x=-1,T=g();w=w||c(T.getEl());for(var N=0;N<w.length;N++)w[N]===s&&(x=N);T.lastAriaIndex=C(x+=b,w)}function v(){"tablist"==u()?p(-1,c(s.parentNode)):t.parent().submenu?E():p(-1)}function l(){var b=r(),w=u();"tablist"==w?p(1,c(s.parentNode)):"menuitem"==b&&"menu"==w&&a("haspopup")?e():p(1)}function f(){p(-1)}function n(){var b=r(),w=u();"menuitem"==b&&"menubar"==w?e():"button"==b&&a("haspopup")?e({key:"down"}):p(1)}function E(){t.fire("cancel")}function e(b){t.fire("click",{target:s,aria:b=b||{}})}return t=h.getParentCtrl(s),h.on("keydown",function(b){function w(x,T){d(s)||S(s)||"slider"!==r(s)&&!1!==T(x)&&x.preventDefault()}if(!b.isDefaultPrevented())switch(b.keyCode){case 37:w(b,v);break;case 39:w(b,l);break;case 38:w(b,f);break;case 40:w(b,n);break;case 27:E();break;case 14:case 13:case 32:w(b,e);break;case 9:!1!==function o(b){if("tablist"==u()){var x=c(t.getEl("body"))[0];x&&x.focus()}else p(b.shiftKey?-1:1)}(b)&&b.preventDefault()}}),h.on("focusin",function(b){s=b.target,t=b.control}),{focusFirst:function k(b){var w=g(b),x=c(w.getEl());C(w.settings.ariaRemember&&"lastAriaIndex"in w?w.lastAriaIndex:0,x)}}}}),V("tinymce.core.ui.Container",["tinymce.core.ui.Control","tinymce.core.ui.Collection","tinymce.core.ui.Selector","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(S,y,h,s,t,m,r,u,a){"use strict";var d={};return S.extend({init:function(i){var c=this;c._super(i),(i=c.settings).fixed&&c.state.set("fixed",!0),c._items=new y,c.isRtl()&&c.classes.add("rtl"),c.bodyClasses=new u(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())}),c.bodyClasses.prefix=c.classPrefix,c.classes.add("container"),c.bodyClasses.add("container-body"),i.containerCls&&c.classes.add(i.containerCls),c._layout=s.create((i.layout||"")+"layout"),c.add(c.settings.items?c.settings.items:c.render()),c._hasBody=!0},items:function(){return this._items},find:function(i){return(i=d[i]=d[i]||new h(i)).find(this)},add:function(i){var c=this;return c.items().add(c.create(i)).parent(c),c},focus:function(i){var g,k,C,c=this;if(!i||!(k=c.keyboardNav||c.parents().eq(-1)[0].keyboardNav))return C=c.find("*"),c.statusbar&&C.add(c.statusbar.items()),C.each(function(p){if(p.settings.autofocus)return g=null,!1;p.canFocus&&(g=g||p)}),g&&g.focus(),c;k.focusFirst(c)},replace:function(i,c){for(var g,k=this.items(),C=k.length;C--;)if(k[C]===i){k[C]=c;break}C>=0&&((g=c.getEl())&&g.parentNode.removeChild(g),(g=i.getEl())&&g.parentNode.removeChild(g)),c.parent(this)},create:function(i){var g,c=this,k=[];return m.isArray(i)||(i=[i]),m.each(i,function(C){C&&(C instanceof S||("string"==typeof C&&(C={type:C}),g=m.extend({},c.settings.defaults,C),C.type=g.type=g.type||C.type||c.settings.defaultType||(g.defaults?g.defaults.type:null),C=s.create(g)),k.push(C))}),k},renderNew:function(){var i=this;return i.items().each(function(c,g){var k;c.parent(i),c.state.get("rendered")||((k=i.getEl("body")).hasChildNodes()&&g<=k.childNodes.length-1?r(k.childNodes[g]).before(c.renderHtml()):r(k).append(c.renderHtml()),c.postRender(),a.add(c))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(i){return this.add(i).renderNew()},prepend:function(i){var c=this;return c.items().set(c.create(i).concat(c.items().toArray())),c.renderNew()},insert:function(i,c,g){var C,p,v,k=this;return i=k.create(i),C=k.items(),!g&&c<C.length-1&&(c+=1),c>=0&&c<C.length&&(p=C.slice(0,c).toArray(),v=C.slice(c).toArray(),C.set(p.concat(i,v))),k.renderNew()},fromJSON:function(i){for(var g in i)this.find("#"+g).value(i[g]);return this},toJSON:function(){var c={};return this.find("*").each(function(g){var k=g.name(),C=g.value();k&&void 0!==C&&(c[k]=C)}),c},renderHtml:function(){var i=this,c=i._layout,g=this.settings.role;return i.preRender(),c.preRender(i),'<div id="'+i._id+'" class="'+i.classes+'"'+(g?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+(i.settings.html||"")+c.renderHtml(i)+"</div></div>"},postRender:function(){var c,i=this;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i.state.set("rendered",!0),i.settings.style&&i.$el.css(i.settings.style),i.settings.border&&i.$el.css({"border-top-width":(c=i.borderBox).top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left}),i.parent()||(i.keyboardNav=new t({root:i})),i},initLayoutRect:function(){var i=this,c=i._super();return i._layout.recalc(i),c},recalc:function(){var i=this,c=i._layoutRect,g=i._lastRect;if(!g||g.w!=c.w||g.h!=c.h)return i._layout.recalc(i),c=i.layoutRect(),i._lastRect={x:c.x,y:c.y,w:c.w,h:c.h},!0},reflow:function(){var i;if(a.remove(this),this.visible()){for(S.repaintControls=[],S.repaintControls.map={},this.recalc(),i=S.repaintControls.length;i--;)S.repaintControls[i].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),S.repaintControls=[]}return this}})}),V("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],function(S){"use strict";function h(s){var t,m;if(s.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),m=0;m<t.length;m++)s[t[m]]=s.changedTouches[0][t[m]]}return function(s,t){var m,u,a,d,i,c,g,r=t.document||document;function k(){return r.getElementById(t.handle||s)}t=t||{},a=function(C){var v,l,p=function y(s){var t,m,r,u,a,d,i,g=Math.max;return r=g((t=s.documentElement).scrollWidth,(m=s.body).scrollWidth),u=g(t.clientWidth,m.clientWidth),a=g(t.offsetWidth,m.offsetWidth),d=g(t.scrollHeight,m.scrollHeight),i=g(t.clientHeight,m.clientHeight),{width:r<a?u:r,height:d<g(t.offsetHeight,m.offsetHeight)?i:d}}(r);h(C),C.preventDefault(),u=C.button,v=k(),c=C.screenX,g=C.screenY,l=window.getComputedStyle?window.getComputedStyle(v,null).getPropertyValue("cursor"):v.runtimeStyle.cursor,m=S("<div></div>").css({position:"absolute",top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1e-4,cursor:l}).appendTo(r.body),S(r).on("mousemove touchmove",i).on("mouseup touchend",d),t.start(C)},i=function(C){if(h(C),C.button!==u)return d(C);C.deltaX=C.screenX-c,C.deltaY=C.screenY-g,C.preventDefault(),t.drag(C)},d=function(C){h(C),S(r).off("mousemove touchmove",i).off("mouseup touchend",d),m.remove(),t.stop&&t.stop(C)},this.destroy=function(){S(k()).off()},S(k()).on("mousedown touchstart",a)}}),V("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper"],function(S,y){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var h=this;function t(){var r,u,a;function d(i,c,g,k,C,p){var v,l,f,n,E,e,b,w;if(l=h.getEl("scroll"+i)){if(b=c.toLowerCase(),w=g.toLowerCase(),S(h.getEl("absend")).css(b,h.layoutRect()[k]-1),!C)return void S(l).css("display","none");S(l).css("display","block"),v=h.getEl("body"),f=h.getEl("scroll"+i+"t"),n=v["client"+g]-4,E=(n-=r&&u?l["client"+p]:0)/v["scroll"+g],(e={})[b]=v["offset"+c]+2,e[w]=n,S(l).css(e),(e={})[b]=v["scroll"+c]*E,e[w]=n*E,S(f).css(e)}}a=h.getEl("body"),u=a.scrollHeight>a.clientHeight,d("h","Left","Width","contentW",r=a.scrollWidth>a.clientWidth,"Height"),d("v","Top","Height","contentH",u,"Width")}h.settings.autoScroll&&(h._hasScroll||(h._hasScroll=!0,function m(){function r(u,a,d,i,c){var g,k=h._id+"-scroll"+u,C=h.classPrefix;S(h.getEl()).append('<div id="'+k+'" class="'+C+"scrollbar "+C+"scrollbar-"+u+'"><div id="'+k+'t" class="'+C+'scrollbar-thumb"></div></div>'),h.draghelper=new y(k+"t",{start:function(){g=h.getEl("body")["scroll"+a],S("#"+k).addClass(C+"active")},drag:function(p){var v,l,f,n,o=h.layoutRect();l=o.contentW>o.innerW,f=o.contentH>o.innerH,n=h.getEl("body")["client"+d]-4,v=(n-=l&&f?h.getEl("scroll"+u)["client"+c]:0)/h.getEl("body")["scroll"+d],h.getEl("body")["scroll"+a]=g+p["delta"+i]/v},stop:function(){S("#"+k).removeClass(C+"active")}})}h.classes.add("scroll"),r("v","Top","Height","Y","Width"),r("h","Left","Width","X","Height")}(),h.on("wheel",function(r){var u=h.getEl("body");u.scrollLeft+=10*(r.deltaX||0),u.scrollTop+=10*r.deltaY,t()}),S(h.getEl("body")).on("scroll",t)),t())}}}),V("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],function(S,y){"use strict";return S.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[y],renderHtml:function(){var h=this,s=h._layout,t=h.settings.html;return h.preRender(),s.preRender(h),void 0===t?t='<div id="'+h._id+'-body" class="'+h.bodyClasses+'">'+s.renderHtml(h)+"</div>":("function"==typeof t&&(t=t.call(h)),h._hasBody=!1),'<div id="'+h._id+'" class="'+h.classes+'" hidefocus="1" tabindex="-1" role="group">'+(h._preBodyHtml||"")+t+"</div>"}})}),V("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],function(S){"use strict";function y(h,s,t){var m,r,u,a,d,i,c,g,k,C;return k=S.getViewPort(),u=(r=S.getPos(s)).x,a=r.y,h.state.get("fixed")&&"static"==S.getRuntimeStyle(document.body,"position")&&(u-=k.x,a-=k.y),m=h.getEl(),d=(C=S.getSize(m)).width,i=C.height,c=(C=S.getSize(s)).width,g=C.height,"b"===(t=(t||"").split(""))[0]&&(a+=g),"r"===t[1]&&(u+=c),"c"===t[0]&&(a+=Math.round(g/2)),"c"===t[1]&&(u+=Math.round(c/2)),"b"===t[3]&&(a-=i),"r"===t[4]&&(u-=d),"c"===t[3]&&(a-=Math.round(i/2)),"c"===t[4]&&(u-=Math.round(d/2)),{x:u,y:a,w:d,h:i}}return{testMoveRel:function(h,s){for(var t=S.getViewPort(),m=0;m<s.length;m++){var r=y(this,h,s[m]);if(this.state.get("fixed")){if(r.x>0&&r.x+r.w<t.w&&r.y>0&&r.y+r.h<t.h)return s[m]}else if(r.x>t.x&&r.x+r.w<t.w+t.x&&r.y>t.y&&r.y+r.h<t.h+t.y)return s[m]}return s[0]},moveRel:function(h,s){"string"!=typeof s&&(s=this.testMoveRel(h,s));var t=y(this,h,s);return this.moveTo(t.x,t.y)},moveBy:function(h,s){var t=this,m=t.layoutRect();return t.moveTo(m.x+h,m.y+s),t},moveTo:function(h,s){var t=this;function m(a,d,i){return a<0||a+i>d&&(a=d-i)<0?0:a}if(t.settings.constrainToViewport){var r=S.getViewPort(window),u=t.layoutRect();h=m(h,r.w+r.x,u.w),s=m(s,r.h+r.y,u.h)}return t.state.get("rendered")?t.layoutRect({x:h,y:s}).repaint():(t.settings.x=h,t.settings.y=s),t.fire("move",{x:h,y:s}),t}}}),V("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],function(S){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(y,h){if(y<=1||h<=1){var s=S.getWindowSize();y=y<=1?y*s.w:y,h=h<=1?h*s.h:h}return this._layoutRect.autoResize=!1,this.layoutRect({minW:y,minH:h,w:y,h}).reflow()},resizeBy:function(y,h){var t=this.layoutRect();return this.resizeTo(t.w+y,t.h+h)}}}),V("tinymce.core.ui.FloatPanel",["tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.Delay"],function(S,y,h,s,t,m){"use strict";var r,u,a,c,d=[],i=[];function g(E,e){for(;E;){if(E==e)return!0;E=E.parent()}}function l(E){var e=s.getViewPort().y;function b(w,x){for(var T,N=0;N<d.length;N++)if(d[N]!=E)for(T=d[N].parent();T&&(T=T.parent());)T==E&&d[N].fixed(w).moveBy(0,x).repaint()}E.settings.autofix&&(E.state.get("fixed")?E._autoFixY>e&&(E.fixed(!1).layoutRect({y:E._autoFixY}).repaint(),b(!1,E._autoFixY-e)):(E._autoFixY=E.layoutRect().y,E._autoFixY<e&&(E.fixed(!0).layoutRect({y:0}).repaint(),b(!0,e-E._autoFixY))))}function f(E,e){var b,x,w=n.zIndex||65535;if(E)i.push(e);else for(b=i.length;b--;)i[b]===e&&i.splice(b,1);if(i.length)for(b=0;b<i.length;b++)i[b].modal&&(w++,x=i[b]),i[b].getEl().style.zIndex=w,i[b].zIndex=w,w++;var T=t("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];x?t(T).css("z-index",x.zIndex-1):T&&(T.parentNode.removeChild(T),c=!1),n.currentZIndex=w}var n=S.extend({Mixins:[y,h],init:function(E){var e=this;e._super(E),e._eventsRoot=e,e.classes.add("floatpanel"),E.autohide&&(function C(){r||(r=function(E){2!=E.button&&function k(E){for(var e=d.length;e--;){var b=d[e],w=b.getParentCtrl(E.target);if(b.settings.autohide){if(w&&(g(w,b)||b.parent()===w))continue;(E=b.fire("autohide",{target:E.target})).isDefaultPrevented()||b.hide()}}}(E)},t(document).on("click touchstart",r))}(),function v(){if(!a){var E=document.documentElement,e=E.clientWidth,b=E.clientHeight;a=function(){(!document.all||e!=E.clientWidth||b!=E.clientHeight)&&(e=E.clientWidth,b=E.clientHeight,n.hideAll())},t(window).on("resize",a)}}(),d.push(e)),E.autofix&&(function p(){u||(u=function(){var E;for(E=d.length;E--;)l(d[E])},t(window).on("scroll",u))}(),e.on("move",function(){l(this)})),e.on("postrender show",function(b){if(b.control==e){var w,x=e.classPrefix;e.modal&&!c&&((w=t("#"+x+"modal-block",e.getContainerElm()))[0]||(w=t('<div id="'+x+'modal-block" class="'+x+"reset "+x+'fade"></div>').appendTo(e.getContainerElm())),m.setTimeout(function(){w.addClass(x+"in"),t(e.getEl()).addClass(x+"in")}),c=!0),f(!0,e)}}),e.on("show",function(){e.parents().each(function(b){if(b.state.get("fixed"))return e.fixed(!0),!1})}),E.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",E.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(E){var e=this;if(e.state.get("fixed")!=E){if(e.state.get("rendered")){var b=s.getViewPort();E?e.layoutRect().y-=b.y:e.layoutRect().y+=b.y}e.classes.toggle("fixed",E),e.state.set("fixed",E)}return e},show:function(){var e,E=this,b=E._super();for(e=d.length;e--&&d[e]!==E;);return-1===e&&d.push(E),b},hide:function(){return o(this),f(!1,this),this._super()},hideAll:function(){n.hideAll()},close:function(){var E=this;return E.fire("close").isDefaultPrevented()||(E.remove(),f(!1,E)),E},remove:function(){o(this),this._super()},postRender:function(){var E=this;return E.settings.bodyRole&&this.getEl("body").setAttribute("role",E.settings.bodyRole),E._super()}});function o(E){var e;for(e=d.length;e--;)d[e]===E&&d.splice(e,1);for(e=i.length;e--;)i[e]===E&&i.splice(e,1)}return n.hideAll=function(){for(var E=d.length;E--;){var e=d[E];e&&e.settings.autohide&&(e.hide(),d.splice(E,1))}},n}),V("tinymce.core.ui.Window",["tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper","tinymce.core.ui.BoxUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(S,y,h,s,t,m,r,u){"use strict";var a=[],d="";function i(p){var f,l=s("meta[name=viewport]")[0];!1!==r.overrideViewPort&&(l||((l=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(l)),(f=l.getAttribute("content"))&&void 0!==d&&(d=f),l.setAttribute("content",p?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":d))}var C=S.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(p){var v=this;v._super(p),v.isRtl()&&v.classes.add("rtl"),v.classes.add("window"),v.bodyClasses.add("window-body"),v.state.set("fixed",!0),p.buttons&&(v.statusbar=new y({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:v.isRtl()?"start":"end",defaults:{type:"button"},items:p.buttons}),v.statusbar.classes.add("foot"),v.statusbar.parent(v)),v.on("click",function(l){var f=v.classPrefix+"close";(h.hasClass(l.target,f)||h.hasClass(l.target.parentNode,f))&&v.close()}),v.on("cancel",function(){v.close()}),v.aria("describedby",v.describedBy||v._id+"-none"),v.aria("label",p.title),v._fullscreen=!1},recalc:function(){var l,f,n,o,p=this,v=p.statusbar;p._fullscreen&&(p.layoutRect(h.getWindowSize()),p.layoutRect().contentH=p.layoutRect().innerH),p._super(),l=p.layoutRect(),p.settings.title&&!p._fullscreen&&(f=l.headerW)>l.w&&(n=l.x-Math.max(0,f/2),p.layoutRect({w:f,x:n}),o=!0),v&&(v.layoutRect({w:p.layoutRect().innerW}).recalc(),(f=v.layoutRect().minW+l.deltaW)>l.w&&(n=l.x-Math.max(0,f-l.w),p.layoutRect({w:f,x:n}),o=!0)),o&&p.recalc()},initLayoutRect:function(){var f,p=this,v=p._super(),l=0;if(p.settings.title&&!p._fullscreen){f=p.getEl("head");var n=h.getSize(f);v.headerW=n.width,v.headerH=n.height,l+=v.headerH}p.statusbar&&(l+=p.statusbar.layoutRect().h),v.deltaH+=l,v.minH+=l,v.h+=l;var o=h.getWindowSize();return v.x=p.settings.x||Math.max(0,o.w/2-v.w/2),v.y=p.settings.y||Math.max(0,o.h/2-v.h/2),v},renderHtml:function(){var p=this,v=p._layout,l=p._id,f=p.classPrefix,n=p.settings,o="",E="",e=n.html;return p.preRender(),v.preRender(p),n.title&&(o='<div id="'+l+'-head" class="'+f+'window-head"><div id="'+l+'-title" class="'+f+'title">'+p.encode(n.title)+'</div><div id="'+l+'-dragh" class="'+f+'dragh"></div><button type="button" class="'+f+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),n.url&&(e='<iframe src="'+n.url+'" tabindex="-1"></iframe>'),void 0===e&&(e=v.renderHtml(p)),p.statusbar&&(E=p.statusbar.renderHtml()),'<div id="'+l+'" class="'+p.classes+'" hidefocus="1"><div class="'+p.classPrefix+'reset" role="application">'+o+'<div id="'+l+'-body" class="'+p.bodyClasses+'">'+e+"</div>"+E+"</div></div>"},fullscreen:function(p){var f,o,v=this,l=document.documentElement,n=v.classPrefix;if(p!=v._fullscreen)if(s(window).on("resize",function(){var e;if(v._fullscreen)if(f)v._timer||(v._timer=u.setTimeout(function(){var w=h.getWindowSize();v.moveTo(0,0).resizeTo(w.w,w.h),v._timer=0},50));else{e=(new Date).getTime();var b=h.getWindowSize();v.moveTo(0,0).resizeTo(b.w,b.h),(new Date).getTime()-e>50&&(f=!0)}}),o=v.layoutRect(),v._fullscreen=p,p){v._initial={x:o.x,y:o.y,w:o.w,h:o.h},v.borderBox=m.parseBox("0"),v.getEl("head").style.display="none",o.deltaH-=o.headerH+2,s([l,document.body]).addClass(n+"fullscreen"),v.classes.add("fullscreen");var E=h.getWindowSize();v.moveTo(0,0).resizeTo(E.w,E.h)}else v.borderBox=m.parseBox(v.settings.border),v.getEl("head").style.display="",o.deltaH+=o.headerH,s([l,document.body]).removeClass(n+"fullscreen"),v.classes.remove("fullscreen"),v.moveTo(v._initial.x,v._initial.y).resizeTo(v._initial.w,v._initial.h);return v.reflow()},postRender:function(){var v,p=this;setTimeout(function(){p.classes.add("in"),p.fire("open")},0),p._super(),p.statusbar&&p.statusbar.postRender(),p.focus(),this.dragHelper=new t(p._id+"-dragh",{start:function(){v={x:p.layoutRect().x,y:p.layoutRect().y}},drag:function(l){p.moveTo(v.x+l.deltaX,v.y+l.deltaY)}}),p.on("submit",function(l){l.isDefaultPrevented()||p.close()}),a.push(p),i(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var v,p=this;for(p.dragHelper.destroy(),p._super(),p.statusbar&&this.statusbar.remove(),function c(p,v){(function g(){for(var p=0;p<a.length;p++)if(a[p]._fullscreen)return!0;return!1})()&&!1===v&&s([document.documentElement,document.body]).removeClass(p+"fullscreen")}(p.classPrefix,!1),v=a.length;v--;)a[v]===p&&a.splice(v,1);i(a.length>0)},getContentWindow:function(){var p=this.getEl().getElementsByTagName("iframe")[0];return p?p.contentWindow:null}});return function k(){if(!r.desktop){var p={w:window.innerWidth,h:window.innerHeight};u.setInterval(function(){var l=window.innerWidth,f=window.innerHeight;(p.w!=l||p.h!=f)&&(p={w:l,h:f},s(window).trigger("resize"))},100)}s(window).on("resize",function v(){var l,n,f=h.getWindowSize();for(l=0;l<a.length;l++)n=a[l].layoutRect(),a[l].moveTo(a[l].settings.x||Math.max(0,f.w/2-n.w/2),a[l].settings.y||Math.max(0,f.h/2-n.h/2))})}(),C}),V("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],function(S){"use strict";var y=S.extend({init:function(h){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(h){var s,t=h.callback||function(){};function m(r,u,a){return{type:"button",text:r,subtype:a?"primary":"",onClick:function(d){d.control.parents()[1].close(),t(u)}}}switch(h.buttons){case y.OK_CANCEL:s=[m("Ok",!0,!0),m("Cancel",!1)];break;case y.YES_NO:case y.YES_NO_CANCEL:s=[m("Yes",1,!0),m("No",0)],h.buttons==y.YES_NO_CANCEL&&s.push(m("Cancel",-1));break;default:s=[m("Ok",!0,!0)]}return new S({padding:20,x:h.x,y:h.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:s,title:h.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:h.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:h.onClose,onCancel:function(){t(!1)}}).renderTo(document.body).reflow()},alert:function(h,s){return"string"==typeof h&&(h={text:h}),h.callback=s,y.msgBox(h)},confirm:function(h,s){return"string"==typeof h&&(h={text:h}),h.callback=s,h.buttons=y.OK_CANCEL,y.msgBox(h)}}});return y}),V("tinymce.core.WindowManager",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],function(S,y){return function(h){var s=this,t=[];function m(){if(t.length)return t[t.length-1]}function r(a){h.fire("OpenWindow",{win:a})}function u(a){h.fire("CloseWindow",{win:a})}s.windows=t,h.on("remove",function(){for(var a=t.length;a--;)t[a].close()}),s.open=function(a,d){var i;return h.editorManager.setActive(h),a.title=a.title||" ",a.url=a.url||a.file,a.url&&(a.width=parseInt(a.width||320,10),a.height=parseInt(a.height||240,10)),a.body&&(a.items={defaults:a.defaults,type:a.bodyType||"form",items:a.body,data:a.data,callbacks:a.commands}),!a.url&&!a.buttons&&(a.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new S(a),t.push(i),i.on("close",function(){for(var c=t.length;c--;)t[c]===i&&t.splice(c,1);t.length||h.focus(),u(i)}),a.data&&i.on("postRender",function(){this.find("*").each(function(c){var g=c.name();g in a.data&&c.value(a.data[g])})}),i.features=a||{},i.params=d||{},1===t.length&&h.nodeChanged(),r(i=i.renderTo().reflow()),i},s.alert=function(a,d,i){var c;(c=y.alert(a,function(){d?d.call(i||this):h.focus()})).on("close",function(){u(c)}),r(c)},s.confirm=function(a,d,i){var c;(c=y.confirm(a,function(g){d.call(i||this,g)})).on("close",function(){u(c)}),r(c)},s.close=function(){m()&&m().close()},s.getParams=function(){return m()?m().params:null},s.setParams=function(a){m()&&(m().params=a)},s.getWindows=function(){return t}}}),V("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],function(S,y){return S.extend({Mixins:[y],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var h=this,s=h.classPrefix;return'<div id="'+h._id+'" class="'+h.classes+'" role="presentation"><div class="'+s+'tooltip-arrow"></div><div class="'+s+'tooltip-inner">'+h.encode(h.state.get("text"))+"</div></div>"},bindStates:function(){var h=this;return h.state.on("change:text",function(s){h.getEl().lastChild.innerHTML=h.encode(s.value)}),h._super()},repaint:function(){var s,t;(s=this.getEl().style).left=(t=this._layoutRect).x+"px",s.top=t.y+"px",s.zIndex=131070}})}),V("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],function(S,y){"use strict";var h,s=S.extend({init:function(t){var m=this;m._super(t),t=m.settings,m.canFocus=!0,t.tooltip&&!1!==s.tooltips&&(m.on("mouseenter",function(r){var u=m.tooltip().moveTo(-65535);if(r.control==m){var a=u.text(t.tooltip).show().testMoveRel(m.getEl(),["bc-tc","bc-tl","bc-tr"]);u.classes.toggle("tooltip-n","bc-tc"==a),u.classes.toggle("tooltip-nw","bc-tl"==a),u.classes.toggle("tooltip-ne","bc-tr"==a),u.moveRel(m.getEl(),a)}else u.hide()}),m.on("mouseleave mousedown click",function(){m.tooltip().hide()})),m.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return h||(h=new y({type:"tooltip"})).renderTo(),h},postRender:function(){var t=this,m=t.settings;t._super(),!t.parent()&&(m.width||m.height)&&(t.initLayoutRect(),t.repaint()),m.autofocus&&t.focus()},bindStates:function(){var t=this;function m(u){t.aria("disabled",u),t.classes.toggle("disabled",u)}function r(u){t.aria("pressed",u),t.classes.toggle("active",u)}return t.state.on("change:disabled",function(u){m(u.value)}),t.state.on("change:active",function(u){r(u.value)}),t.state.get("disabled")&&m(!0),t.state.get("active")&&r(!0),t._super()},remove:function(){this._super(),h&&(h.remove(),h=null)}});return s}),V("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{value:0},init:function(y){var h=this;h._super(y),h.classes.add("progress"),h.settings.filter||(h.settings.filter=function(s){return Math.round(s)})},renderHtml:function(){var s=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+s+'bar-container"><div class="'+s+'bar"></div></div><div class="'+s+'text">0%</div></div>'},postRender:function(){var y=this;return y._super(),y.value(y.settings.value),y},bindStates:function(){var y=this;function h(s){s=y.settings.filter(s),y.getEl().lastChild.innerHTML=s+"%",y.getEl().firstChild.firstChild.style.width=s+"%"}return y.state.on("change:value",function(s){h(s.value)}),h(y.state.get("value")),y._super()}})}),V("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],function(S,y,h,s){return S.extend({Mixins:[y],Defaults:{classes:"widget notification"},init:function(t){var m=this;m._super(t),t.text&&m.text(t.text),t.icon&&(m.icon=t.icon),t.color&&(m.color=t.color),t.type&&m.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?m.closeButton=!1:(m.classes.add("has-close"),m.closeButton=!0),t.progressBar&&(m.progressBar=new h),m.on("click",function(r){-1!=r.target.className.indexOf(m.classPrefix+"close")&&m.close()})},renderHtml:function(){var t=this,m=t.classPrefix,r="",u="",a="",d="";return t.icon&&(r='<i class="'+m+"ico "+m+"i-"+t.icon+'"></i>'),t.color&&(d=' style="background-color: '+t.color+'"'),t.closeButton&&(u='<button type="button" class="'+m+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(a=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+d+' role="presentation">'+r+'<div class="'+m+'notification-inner">'+t.state.get("text")+"</div>"+a+u+"</div>"},postRender:function(){var t=this;return s.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(m){t.getEl().childNodes[1].innerHTML=m.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var m,r;(m=this.getEl().style).left=(r=this._layoutRect).x+"px",m.top=r.y+"px",m.zIndex=65534}})}),V("tinymce.core.NotificationManager",["tinymce.core.ui.Notification","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(S,y,h){return function(s){var t=this,m=[];function r(){if(m.length)return m[m.length-1]}function d(){if(m.length>0){var k=m.slice(0,1)[0],C=s.inline?s.getElement():s.getContentAreaContainer();if(k.moveRel(C,"tc-tc"),m.length>1)for(var p=1;p<m.length;p++)m[p].moveRel(m[p-1].getEl(),"bc-tc")}}t.notifications=m,s.on("remove",function(){for(var k=m.length;k--;)m[k].close()}),s.on("ResizeEditor",d),s.on("ResizeWindow",function u(){y.requestAnimationFrame(function(){(function a(){for(var k=0;k<m.length;k++)m[k].moveTo(0,0)})(),d()})}),t.open=function(k){if(!s.removed){var C;s.editorManager.setActive(s);var p=function i(k,C){if(!function g(k){return!k.progressBar&&!k.timeout}(C))return null;var p=h.grep(k,function(v){return function c(k,C){return k.type===C.settings.type&&k.text===C.settings.text}(C,v)});return 0===p.length?null:p[0]}(m,k);return null===p?(C=new S(k),m.push(C),k.timeout>0&&(C.timer=setTimeout(function(){C.close()},k.timeout)),C.on("close",function(){var v=m.length;for(C.timer&&s.getWin().clearTimeout(C.timer);v--;)m[v]===C&&m.splice(v,1);d()}),C.renderTo(),d()):C=p,C}},t.close=function(){r()&&r().close()},t.getNotifications=function(){return m},s.on("SkinLoaded",function(){var k=s.settings.service_message;k&&s.notificationManager.open({text:k,type:"warning",timeout:0,icon:""})})}}),V("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(S,y,h){var t,s=y.DOM;function m(a,d){return"selectionchange"==d?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(d)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=s.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function r(a,d){var i,c;function g(k){return!k.hidden&&!k.readonly}if(a.delegates||(a.delegates={}),!a.delegates[d]&&!a.removed)if(i=m(a,d),a.settings.event_root){if(t||(t={},a.editorManager.on("removeEditor",function(){var k;if(!a.editorManager.activeEditor&&t){for(k in t)a.dom.unbind(m(a,k));t=null}})),t[d])return;t[d]=c=function(k){for(var C=k.target,p=a.editorManager.editors,v=p.length;v--;){var l=p[v].getBody();(l===C||s.isChildOf(C,l))&&g(p[v])&&p[v].fire(d,k)}},s.bind(i,d,c)}else s.bind(i,d,c=function(k){g(a)&&a.fire(d,k)}),a.delegates[d]=c}var u={bindPendingEventDelegates:function(){var a=this;h.each(a._pendingNativeEvents,function(d){r(a,d)})},toggleNativeEvent:function(a,d){var i=this;"focus"==a||"blur"==a||(d?i.initialized?r(i,a):i._pendingNativeEvents?i._pendingNativeEvents.push(a):i._pendingNativeEvents=[a]:i.initialized&&(i.dom.unbind(m(i,a),a,i.delegates[a]),delete i.delegates[a]))},unbindAllNativeEvents:function(){var d,a=this;if(a.delegates){for(d in a.delegates)a.dom.unbind(m(a,d),d,a.delegates[d]);delete a.delegates}a.inline||(a.getBody().onload=null,a.dom.unbind(a.getWin()),a.dom.unbind(a.getDoc())),a.dom.unbind(a.getBody()),a.dom.unbind(a.getContainer())}};return h.extend({},S,u)}),V("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(S,y){var h=S.each,s=S.explode,t={f9:120,f10:121,f11:122},m=S.makeMap("alt,ctrl,shift,meta,access");return function(r){var a={},d=[];function i(v){var l,f,n={};for(f in h(s(v,"+"),function(o){o in m?n[o]=!0:/^[0-9]{2,}$/.test(o)?n.keyCode=parseInt(o,10):(n.charCode=o.charCodeAt(0),n.keyCode=t[o]||o.toUpperCase().charCodeAt(0))}),l=[n.keyCode],m)n[f]?l.push(f):n[f]=!1;return n.id=l.join(","),n.access&&(n.alt=!0,y.mac?n.ctrl=!0:n.shift=!0),n.meta&&(y.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}function c(v,l,f,n){var o;return(o=S.map(s(v,">"),i))[o.length-1]=S.extend(o[o.length-1],{func:f,scope:n||r}),S.extend(o[0],{desc:r.translate(l),subpatterns:o.slice(1)})}function C(v,l){return!(!l||l.ctrl!=v.ctrlKey||l.meta!=v.metaKey||l.alt!=v.altKey||l.shift!=v.shiftKey||!(v.keyCode==l.keyCode||v.charCode&&v.charCode==l.charCode)||(v.preventDefault(),0))}function p(v){return v.func?v.func.call(v.scope):null}r.on("keyup keypress keydown",function(v){(function g(v){return v.altKey||v.ctrlKey||v.metaKey}(v)||function k(v){return"keydown"===v.type&&v.keyCode>=112&&v.keyCode<=123}(v))&&!v.isDefaultPrevented()&&(h(a,function(l){if(C(v,l))return d=l.subpatterns.slice(0),"keydown"==v.type&&p(l),!0}),C(v,d[0])&&(1===d.length&&"keydown"==v.type&&p(d[0]),d.shift()))}),this.add=function(v,l,f,n){var o;return o=f,"string"==typeof f?f=function(){r.execCommand(o,!1,null)}:S.isArray(o)&&(f=function(){r.execCommand(o[0],o[1],o[2])}),h(s(S.trim(v.toLowerCase())),function(E){var e=c(E,l,f,n);a[e.id]=e}),!0},this.remove=function(v){var l=c(v);return!!a[l.id]&&(delete a[l.id],!0)}}}),et("global!window",window),V("tinymce.core.ErrorReporter",["tinymce.core.AddOnManager"],function(S){var y=S.PluginManager,t=function(i,c){i.notificationManager.open({type:"error",text:c})},m=function(i,c){i._skinLoaded?t(i,c):i.on("SkinLoaded",function(){t(i,c)})};return{pluginLoadError:function(i,c){m(i,function(i,c){var g=function(i,c){for(var g in y.urls)if(y.urls[g]+"/plugin"+c+".js"===i)return g;return null}(c,i.suffix);return g?"Failed to load plugin: "+g+" from url "+c:"Failed to load plugin url: "+c}(i,c))},uploadError:function(i,c){m(i,"Failed to upload image: "+c)},displayError:m,contentCssError:function(i,c){m(i,"Failed to load content css: "+c[0])},initError:function(i){var c=window.console;c&&!window.test&&(c.error?c.error.apply(c,arguments):c.log.apply(c,arguments))}}}),V("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","tinymce.core.caret.CaretContainer"],function(S,y){var t=function(u,a){a.hasAttribute("data-mce-caret")&&(y.showCaretContainerBlock(a),function(u){u.selection.setRng(u.selection.getRng())}(u),u.selection.scrollIntoView(a))},m=function(u,a){var d=function(u){return u.dom.select("*[data-mce-caret]")[0]}(u);if(d){if("compositionstart"===a.type)return a.preventDefault(),a.stopPropagation(),void t(d);y.hasContent(d)&&t(u,d)}};return{setup:function(u){u.on("keyup compositionstart",S.curry(m,u))}}}),V("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],function(S,y,h){return function(s,t){var m={};function u(l,f,n,o){var E,e;(E=new XMLHttpRequest).open("POST",t.url),E.withCredentials=t.credentials,E.upload.onprogress=function(b){o(b.loaded/b.total*100)},E.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+E.status)},E.onload=function(){var b;E.status<200||E.status>=300?n("HTTP Error: "+E.status):(b=JSON.parse(E.responseText))&&"string"==typeof b.location?f(function r(l,f){return l?l.replace(/\/$/,"")+"/"+f.replace(/^\//,""):f}(t.basePath,b.location)):n("Invalid JSON: "+E.responseText)},(e=new FormData).append("file",l.blob(),l.filename()),E.send(e)}function d(l,f){return{url:f,blobInfo:l,status:!0}}function i(l,f){return{url:"",blobInfo:l,status:!1,error:f}}function c(l,f){y.each(m[l],function(n){n(f)}),delete m[l]}return t=y.extend({credentials:!1,handler:u},t),{upload:function v(l,f){return!t.url&&function k(l){return l===u}(t.handler)?function a(){return new S(function(l){l([])})}():function p(l,f){return l=y.grep(l,function(n){return!s.isUploaded(n.blobUri())}),S.all(y.map(l,function(n){return s.isPending(n.blobUri())?function C(l){var f=l.blobUri();return new S(function(n){m[f]=m[f]||[],m[f].push(n)})}(n):function g(l,f,n){return s.markPending(l.blobUri()),new S(function(o){var E;try{var w=function(){E&&E.close()};f(l,function(N){w(),s.markUploaded(l.blobUri(),N),c(l.blobUri(),d(l,N)),o(d(l,N))},function(N){w(),s.removeFailed(l.blobUri()),c(l.blobUri(),i(l,N)),o(i(l,N))},function(N){N<0||N>100||(E||(E=n()),E.progressBar.value(N))})}catch(N){o(i(l,N.message))}})}(n,t.handler,f)}))}(l,f)}}}}),V("tinymce.core.file.Conversions",["tinymce.core.util.Promise"],function(S){function h(r){var u,a;return r=decodeURIComponent(r).split(","),(a=/data:([^;]+)/.exec(r[0]))&&(u=a[1]),{type:u,data:r[1]}}return{uriToBlob:function t(r){return 0===r.indexOf("blob:")?function y(r){return new S(function(u,a){var d=function(){a("Cannot convert "+r+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="blob",i.onload=function(){200==this.status?u(this.response):d()},i.onerror=d,i.send()}catch(c){d()}})}(r):0===r.indexOf("data:")?function s(r){return new S(function(u){var a,d,i;r=h(r);try{a=atob(r.data)}catch(c){return void u(new Blob([]))}for(d=new Uint8Array(a.length),i=0;i<d.length;i++)d[i]=a.charCodeAt(i);u(new Blob([d],{type:r.type}))})}(r):null},blobToDataUri:function m(r){return new S(function(u){var a=new FileReader;a.onloadend=function(){u(a.result)},a.readAsDataURL(r)})},parseDataUri:h}}),V("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(S,y,h,s,t){var m=0,r=function(d){return(d||"blobid")+m++};return function(d,i){var c={};return{findAll:function g(k,C){var p,v;return C||(C=h.constant(!0)),p=y.filter(function(d){return d?d.getElementsByTagName("img"):[]}(k),function(l){var f=l.src;return!(!t.fileApi||l.hasAttribute("data-mce-bogus")||l.hasAttribute("data-mce-placeholder")||!f||f==t.transparentSrc)&&(0===f.indexOf("blob:")?!d.isUploaded(f):0===f.indexOf("data:")&&C(l))}),v=y.map(p,function(l){var f;return c[l.src]?new S(function(n){c[l.src].then(function(o){if("string"==typeof o)return o;n({image:l,blobInfo:o.blobInfo})})}):(f=new S(function(n,o){!function(d,i,c,g){var k,C;0!==i.src.indexOf("blob:")?(k=s.parseDataUri(i.src).data,(C=d.findFirst(function(p){return p.base64()===k}))?c({image:i,blobInfo:C}):s.uriToBlob(i.src).then(function(p){C=d.create(r(),p,k),d.add(C),c({image:i,blobInfo:C})},function(p){g(p)})):(C=d.getByUri(i.src))?c({image:i,blobInfo:C}):s.uriToBlob(i.src).then(function(p){s.blobToDataUri(p).then(function(v){k=s.parseDataUri(v).data,C=d.create(r(),p,k),d.add(C),c({image:i,blobInfo:C})})},function(p){g(p)})}(i,l,n,o)}).then(function(n){return delete c[n.image.src],n}).catch(function(n){return delete c[l.src],n}),c[l.src]=f,f)}),S.all(v)}}}}),V("tinymce.core.util.Uuid",[],function(){var S=0;return{uuid:function(s){return s+S+++function(){var s=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+s()+s()+s()}()}}}),et("global!URL",URL),V("tinymce.core.file.BlobCache",["tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid","global!URL"],function(S,y,h,s){return function(){var t=[],m=y.constant;function r(p){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[p.toLowerCase()]||"dat"}function i(p){return c(function(v){return v.id()===p})}function c(p){return S.filter(t,p)[0]}return{create:function u(p,v,l,f){return function a(p){var v,l;if(!p.blob||!p.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return v=p.id||h.uuid("blobid"),l=p.name||v,{id:m(v),name:m(l),filename:m(l+"."+r(p.blob.type)),blob:m(p.blob),base64:m(p.base64),blobUri:m(p.blobUri||s.createObjectURL(p.blob)),uri:m(p.uri)}}("object"==typeof p?p:{id:p,name:f,blob:v,base64:l})},add:function d(p){i(p.id())||t.push(p)},get:i,getByUri:function g(p){return c(function(v){return v.blobUri()==p})},findFirst:c,removeByUri:function k(p){t=S.filter(t,function(v){return v.blobUri()!==p||(s.revokeObjectURL(v.blobUri()),!1)})},destroy:function C(){S.each(t,function(p){s.revokeObjectURL(p.blobUri())}),t=[]}}}}),V("tinymce.core.file.UploadStatus",[],function(){return function(){var h={};function s(g,k){return{status:g,resultUri:k}}function t(g){return g in h}return{hasBlobUri:t,getResultUri:function m(g){var k=h[g];return k?k.resultUri:null},isPending:function r(g){return!!t(g)&&1===h[g].status},isUploaded:function u(g){return!!t(g)&&2===h[g].status},markPending:function a(g){h[g]=s(1,null)},markUploaded:function d(g,k){h[g]=s(2,k)},removeFailed:function i(g){delete h[g]},destroy:function c(){h={}}}}}),V("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(S,y,h,s,t,m){return function(r){var a,d,u=new s,i=r.settings,c=new t;function g(x){return function(T){return r.selection?x(T):[]}}function C(x,T,N){var _=0;do{-1!==(_=x.indexOf(T,_))&&(x=x.substring(0,_)+N+x.substr(_+T.length),_+=N.length-T.length+1)}while(-1!==_);return x}function p(x,T,N){return x=C(x,'src="'+T+'"','src="'+N+'"'),C(x,'data-mce-src="'+T+'"','data-mce-src="'+N+'"')}function v(x,T){S.each(r.undoManager.data,function(N){"fragmented"===N.type?N.fragments=S.map(N.fragments,function(_){return p(_,x,T)}):N.content=p(N.content,x,T)})}function l(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function n(x){return a||(a=new y(c,{url:i.images_upload_url,basePath:i.images_upload_base_path,credentials:i.images_upload_credentials,handler:i.images_upload_handler})),e().then(g(function(T){var N;return N=S.map(T,function(_){return _.blobInfo}),a.upload(N,l).then(g(function(_){var A=S.map(_,function(F,O){var R=T[O].image;return F.status&&!1!==r.settings.images_replace_blob_uris?function f(x,T){u.removeByUri(x.src),v(x.src,T),r.$(x).attr({src:i.images_reuse_filename?T+"?"+(new Date).getTime():T,"data-mce-src":r.convertURL(T,"src")})}(R,F.url):F.error&&m.uploadError(r,F.error),{element:R,status:F.status}});return x&&x(A),A}))}))}function o(x){if(!1!==i.automatic_uploads)return n(x)}function E(x){return!i.images_dataimg_filter||i.images_dataimg_filter(x)}function e(){return d||(d=new h(c,u)),d.findAll(r.getBody(),E).then(g(function(x){return x=S.filter(x,function(T){return"string"!=typeof T||(m.displayError(r,T),!1)}),S.each(x,function(T){v(T.image.src,T.blobInfo.blobUri()),T.image.src=T.blobInfo.blobUri(),T.image.removeAttribute("data-mce-src")}),x}))}function w(x){return x.replace(/src="(blob:[^"]+)"/g,function(T,N){var _=c.getResultUri(N);if(_)return'src="'+_+'"';var A=u.getByUri(N);return A||(A=S.reduce(r.editorManager.editors,function(F,O){return F||O.editorUpload&&O.editorUpload.blobCache.getByUri(N)},null)),A?'src="data:'+A.blob().type+";base64,"+A.base64()+'"':T})}return r.on("setContent",function(){!1!==r.settings.automatic_uploads?o():e()}),r.on("RawSaveContent",function(x){x.content=w(x.content)}),r.on("getContent",function(x){x.source_view||"raw"==x.format||(x.content=w(x.content))}),r.on("PostRender",function(){r.parser.addNodeFilter("img",function(x){S.each(x,function(T){var N=T.attr("src");if(!u.getByUri(N)){var _=c.getResultUri(N);_&&T.attr("src",_)}})})}),{blobCache:u,uploadImages:n,uploadImagesAuto:o,scanForImages:e,destroy:function b(){u.destroy(),c.destroy(),d=a=null}}}}),V("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],function(S){var y=function(s){var c,g,k,C,p,v,l,n,o,E,e,b,t=s.settings,m=s.dom,r=s.selection,u=s.schema,a=u.getBlockElements(),d=r.getStart(),i=s.getBody(),f=-16777215;if(b=t.forced_root_block,d&&1===d.nodeType&&b){for(;d&&d!==i;){if(a[d.nodeName])return;d=d.parentNode}if((c=r.getRng()).setStart){g=c.startContainer,k=c.startOffset,C=c.endContainer,p=c.endOffset;try{o=s.getDoc().activeElement===i}catch(w){}}else c.item&&(d=c.item(0),(c=s.getDoc().body.createTextRange()).moveToElementText(d)),o=c.parentElement().ownerDocument===s.getDoc(),(E=c.duplicate()).collapse(!0),k=-1*E.move("character",f),E.collapsed||((E=c.duplicate()).collapse(!1),p=-1*E.move("character",f)-k);for(d=i.firstChild,e=i.nodeName.toLowerCase();d;)if((3===d.nodeType||1==d.nodeType&&!a[d.nodeName])&&u.isValidChild(e,b.toLowerCase())){if(3===d.nodeType&&0===d.nodeValue.length){l=d,d=d.nextSibling,m.remove(l);continue}v||(v=m.create(b,s.settings.forced_root_block_attrs),d.parentNode.insertBefore(v,d),n=!0),l=d,d=d.nextSibling,v.appendChild(l)}else v=null,d=d.nextSibling;if(n&&o){if(c.setStart)c.setStart(g,k),c.setEnd(C,p),r.setRng(c);else try{(c=s.getDoc().body.createTextRange()).moveToElementText(i),c.collapse(!0),c.moveStart("character",k),p>0&&c.moveEnd("character",p),c.select()}catch(w){}s.nodeChanged()}}};return{setup:function(s){s.settings.forced_root_block&&s.on("NodeChange",S.curry(y,s))}}}),V("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(S,y,h){return{getClientRects:function s(t){function m(u){return S.map(u,function(a){return(a=h.clone(a)).node=t,a})}if(S.isArray(t))return S.reduce(t,function(u,a){return u.concat(s(a))},[]);if(y.isElement(t))return m(t.getClientRects());if(y.isText(t)){var r=t.ownerDocument.createRange();return r.setStart(t,0),r.setEnd(t,t.data.length),m(r.getClientRects())}}}}),V("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(S,y,h,s,t,m,r){var u=h.isContentEditableFalse,a=m.findNode,d=S.curry;function i(f,n){return Math.abs(f.left-n)}function c(f,n){return Math.abs(f.right-n)}function g(f,n){function o(E,e){return E>=e.left&&E<=e.right}return y.reduce(f,function(E,e){var b,w;return b=Math.min(i(E,n),c(E,n)),w=Math.min(i(e,n),c(e,n)),o(n,e)?e:o(n,E)?E:w==b&&u(e.node)||w<b?e:E})}function k(f,n,o,E){for(;E=a(E,f,r.isEditableCaretCandidate,n);)if(o(E))return}function C(f,n){var o=[];function E(e,b){var w;return w=y.filter(s.getClientRects(b),function(x){return!e(x,n)}),o=o.concat(w),0===w.length}return o.push(n),k(-1,f,d(E,t.isAbove),n.node),k(1,f,d(E,t.isBelow),n.node),o}return{findClosestClientRect:g,findLineNodeRects:C,closestCaret:function l(f,n,o){var E,e;return E=s.getClientRects(function p(f){return y.filter(y.toArray(f.getElementsByTagName("*")),u)}(f)),(e=g(E=y.filter(E,function(b){return o>=b.top&&o<=b.bottom}),n))&&(e=g(C(f,e),n))&&u(e.node)?function v(f,n){return{node:f.node,before:i(f,n)<c(f,n)}}(e,n):null}}}),V("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(S,y,h,s,t,m,r,u){var a=S.curry;function i(v,l,f,n,o,E){var b,x,e=0,w=[];function T(N){var _,A,F;for(F=h.getClientRects(N),-1==v&&(F=F.reverse()),_=0;_<F.length;_++)if(!f(A=F[_],x)){if(w.length>0&&l(A,y.last(w))&&e++,A.line=e,o(A))return!0;w.push(A)}}return(x=y.last(E.getClientRects()))&&(T(b=E.getNode()),function d(v,l,f,n){for(;n=t.findNode(n,v,s.isEditableCaretCandidate,l);)if(f(n))return}(v,n,T,b)),w}return{upUntil:a(i,-1,u.isAbove,u.isBelow),downUntil:a(i,1,u.isBelow,u.isAbove),positionsUntil:function p(v,l,f,n){var E,e,b,w,N,_,o=new m(l),x=[],T=0;function A(F){return y.last(F.getClientRects())}1==v?(E=o.next,e=u.isBelow,b=u.isAbove,w=r.after(n)):(E=o.prev,e=u.isAbove,b=u.isBelow,w=r.before(n)),_=A(w);do{if(w.isVisible()&&!b(N=A(w),_)){if(x.length>0&&e(N,y.last(x))&&T++,(N=u.clone(N)).position=w,N.line=T,f(N))return x;x.push(N)}}while(w=E(w));return x},isAboveLine:a(function c(v,l){return l.line>v}),isLine:a(function g(v,l){return l.line===v})}}),V("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(S,y,h,s){var t=h.isContentEditableTrue,m=h.isContentEditableFalse,r=function(c,g,k,C){return g._selectionOverrides.showCaret(c,k,C)},d=function(c,g){var k,C;return g=y.normalizeRange(1,c.getBody(),g),k=S.fromRangeStart(g),m(k.getNode())?r(1,c,k.getNode(),!k.isAtEnd()):m(k.getNode(!0))?r(1,c,k.getNode(!0),!1):(C=c.dom.getParent(k.getNode(),s.or(m,t)),m(C)?r(1,c,C,!1):null)};return{showCaret:r,selectNode:function(c,g){return c.fire("BeforeObjectSelected",{target:g}).isDefaultPrevented()?null:function(c){var g=c.ownerDocument.createRange();return g.selectNode(c),g}(g)},renderCaretAtRange:d,renderRangeCaret:function(c,g){return g&&g.collapsed&&d(c,g)||g}}}),V("tinymce.core.keyboard.CefNavigation",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(S,y,h,s,t,m,r,u,a,d,i,c){var g=r.isContentEditableFalse,k=u.getSelectedNode,C=h.isAfterContentEditableFalse,p=h.isBeforeContentEditableFalse,v=function(_,A){for(;A=_(A);)if(A.isVisible())return A;return A},n=function(_,A,F){return F=h.normalizeRange(_,A,F),-1===_?y.fromRangeStart(F):y.fromRangeEnd(F)},b=function(_,A,F){var O,M,U=new s(_.getBody()),P=c.curry(v,U.next),B=c.curry(v,U.prev);if(F.collapsed&&_.settings.forced_root_block){if(!(O=_.dom.getParent(F.startContainer,"PRE")))return;(1===A?P(y.fromRangeStart(F)):B(y.fromRangeStart(F)))||(M=function(_){var A=_.dom.create(_.settings.forced_root_block);return(!a.ie||a.ie>=11)&&(A.innerHTML='<br data-mce-bogus="1">'),A}(_),1===A?_.$(O).after(M):_.$(O).before(M),_.selection.select(M,!0),_.selection.collapse())}};return{moveH:function(_,A){return function(){var F=function(_,A){var M,F=new s(_.getBody()),O=c.curry(v,F.next),R=c.curry(v,F.prev),U=A?1:-1,P=A?O:R,B=A?p:C,L=_.selection.getRng();return(M=function(_,A,F,O,R){var M,U,P,B;return!R.collapsed&&(M=k(R),g(M))?d.showCaret(_,A,M,-1===_):(B=function(_){return S.isCaretContainerBlock(_.startContainer)}(R),O(U=n(_,A.getBody(),R))?d.selectNode(A,U.getNode(-1===_)):(U=F(U))?O(U)?d.showCaret(_,A,U.getNode(-1===_),1===_):O(P=F(U))&&function(_,A){var F=h.isInSameBlock(_,A);return!(F||!r.isBr(_.getNode()))||F}(U,P)?d.showCaret(_,A,P.getNode(-1===_),1===_):B?d.renderRangeCaret(A,U.toRange()):null:B?R:null)}(U,_,P,B,L))||(M=b(_,U,L))?M:null}(_,A);return!!F&&(_.selection.setRng(F),!0)}},moveV:function(_,A){return function(){var F=function(_,A){var F,O=A?1:-1,R=A?m.downUntil:m.upUntil,M=_.selection.getRng();return F=function(_,A,F,O){var R,M,U,P,B,L,z,q,ee;if(ee=k(O),R=n(_,A.getBody(),O),M=F(A.getBody(),m.isAboveLine(1),R),U=i.filter(M,m.isLine(1)),B=i.last(R.getClientRects()),p(R)&&(ee=R.getNode()),C(R)&&(ee=R.getNode(!0)),!B)return null;if((P=t.findClosestClientRect(U,L=B.left))&&g(P.node))return z=Math.abs(L-P.left),q=Math.abs(L-P.right),d.showCaret(_,A,P.node,z<q);if(ee){var ue=m.positionsUntil(_,A.getBody(),m.isAboveLine(1),ee);if((P=t.findClosestClientRect(i.filter(ue,m.isLine(1)),L))||(P=i.last(i.filter(ue,m.isLine(0)))))return d.renderRangeCaret(A,P.position.toRange())}}(O,_,R,M),F||(F=b(_,O,M))?F:null}(_,A);return!!F&&(_.selection.setRng(F),!0)}}}}),V("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(S,y,h){var m=function(a){return function(){for(var d=new y(arguments.length),i=0;i<d.length;i++)d[i]=arguments[i];if(0===d.length)throw new h("Can't merge zero objects");for(var c={},g=0;g<d.length;g++){var k=d[g];for(var C in k)k.hasOwnProperty(C)&&(c[C]=a(c[C],k[C]))}return c}},r=m(function(a,d){return S.isObject(a)&&S.isObject(d)?r(a,d):d}),u=m(function(a,d){return d});return{deepMerge:r,merge:u}}),V("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(S,y,h){return{match:function(u,a){return S.bind(function(u){return S.map(u,function(a){return h.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:y.noop},a)})}(u),function(d){return function(u,a){return a.keyCode===u.keyCode&&a.shiftKey===u.shiftKey&&a.altKey===u.altKey&&a.ctrlKey===u.ctrlKey&&a.metaKey===u.metaKey}(d,a)?[d]:[]})},action:function(u){var a=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,a)}}}}),V("tinymce.core.keyboard.ArrowKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,y,h,s,t,m){return{setup:function(a,d){a.on("keydown",function(i){!1===i.isDefaultPrevented()&&function(a,d,i){var c=t.match([{keyCode:m.RIGHT,action:s.moveH(a,!0)},{keyCode:m.LEFT,action:s.moveH(a,!1)},{keyCode:m.UP,action:s.moveV(a,!1)},{keyCode:m.DOWN,action:s.moveV(a,!0)},{keyCode:m.RIGHT,action:h.move(a,d,!0)},{keyCode:m.LEFT,action:h.move(a,d,!1)}],i);S.find(c,function(g){return g.action()}).each(function(g){i.preventDefault()})}(a,d,i)})}}}),V("tinymce.core.keyboard.DeleteBackspaceKeys",["ephox.katamari.api.Arr","tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,y,h,s,t,m,r){return{setup:function(i,c){i.on("keydown",function(g){!1===g.isDefaultPrevented()&&function(i,c,g){var k=m.match([{keyCode:r.BACKSPACE,action:m.action(s.backspaceDelete,i,!1)},{keyCode:r.DELETE,action:m.action(s.backspaceDelete,i,!0)},{keyCode:r.BACKSPACE,action:m.action(t.backspaceDelete,i,c,!1)},{keyCode:r.DELETE,action:m.action(t.backspaceDelete,i,c,!0)},{keyCode:r.BACKSPACE,action:m.action(h.backspaceDelete,i,!1)},{keyCode:r.DELETE,action:m.action(h.backspaceDelete,i,!0)},{keyCode:r.BACKSPACE,action:m.action(y.backspaceDelete,i,!1)},{keyCode:r.DELETE,action:m.action(y.backspaceDelete,i,!0)}],g);S.find(k,function(C){return C.action()}).each(function(C){g.preventDefault()})}(i,c,g)}),i.on("keyup",function(g){!1===g.isDefaultPrevented()&&function(i,c){var g=m.match([{keyCode:r.BACKSPACE,action:m.action(s.paddEmptyElement,i)},{keyCode:r.DELETE,action:m.action(s.paddEmptyElement,i)}],c);S.find(g,function(k){return k.action()})}(i,g)})}}}),V("tinymce.core.keyboard.EnterKey",["tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r){var u=t.ie&&t.ie<11,a=function(n){return n&&"A"===n.nodeName&&0===r.trim(m.trim(n.innerText||n.textContent)).length},i=function(n){n.innerHTML=u?"":'<br data-mce-bogus="1">'},c=function(n,o){return n.nodeName===o||n.previousSibling&&n.previousSibling.nodeName===o},g=function(n,o){return o&&n.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==n.getContentEditable(o)},k=function(n,o,E){var e;n.isBlock(E)&&(e=o.getRng(),E.appendChild(n.create("span",null,"\xa0")),o.select(E),E.lastChild.outerHTML="",o.setRng(e))},p=function(n,o,E){return!1===y.isText(o)?E:n?1===E&&o.data.charAt(E-1)===m.ZWSP?0:E:E===o.data.length-1&&o.data.charAt(E)===m.ZWSP?o.data.length:E};return{setup:function(n){var o=n.dom,E=n.selection,e=n.settings,b=n.undoManager,w=n.schema,x=w.getNonEmptyElements(),T=w.getMoveCaretBeforeOnEnterElements();n.on("keydown",function(_){13==_.keyCode&&!1!==function N(_){var A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne;function he(K){var se,be,we,ve,De=K;if(K){if(t.ie&&t.ie<9&&U&&U.firstChild&&U.firstChild==U.lastChild&&"BR"==U.firstChild.tagName&&o.remove(U.firstChild),/^(LI|DT|DD)$/.test(K.nodeName)){var Ue=function(n){for(;n;){if(1===n.nodeType||3===n.nodeType&&n.data&&/[\r\n\s]/.test(n.data))return n;n=n.nextSibling}}(K.firstChild);Ue&&/^(UL|OL|DL)$/.test(Ue.nodeName)&&K.insertBefore(o.doc.createTextNode("\xa0"),K.firstChild)}if(we=o.createRng(),t.ie||K.normalize(),K.hasChildNodes()){for(se=new s(K,K);be=se.current();){if(3==be.nodeType){we.setStart(be,0),we.setEnd(be,0);break}if(T[be.nodeName.toLowerCase()]){we.setStartBefore(be),we.setEndBefore(be);break}De=be,be=se.next()}be||(we.setStart(De,0),we.setEnd(De,0))}else"BR"==K.nodeName?K.nextSibling&&o.isBlock(K.nextSibling)?((!P||P<9)&&(ve=o.create("br"),K.parentNode.insertBefore(ve,K)),we.setStartBefore(K),we.setEndBefore(K)):(we.setStartAfter(K),we.setEndAfter(K)):(we.setStart(K,0),we.setEnd(K,0));E.setRng(we),o.remove(ve),E.scrollIntoView(K)}}function Ee(K){var se=e.forced_root_block;se&&se.toLowerCase()===K.tagName.toLowerCase()&&o.setAttribs(K,e.forced_root_block_attrs)}function me(K){var be,we,De,se=R,ve=w.getTextInlineElements();if(K||"TABLE"==ee||"HR"==ee?Ee(be=o.create(K||ae)):be=U.cloneNode(!1),De=be,!1===e.keep_styles)o.setAttrib(be,"style",null),o.setAttrib(be,"class",null);else do{if(ve[se.nodeName]){if("_mce_caret"==se.id)continue;we=se.cloneNode(!1),o.setAttrib(we,"id",""),be.hasChildNodes()?(we.appendChild(be.firstChild),be.appendChild(we)):(De=we,be.appendChild(we))}}while((se=se.parentNode)&&se!=O);return u||(De.innerHTML='<br data-mce-bogus="1">'),be}function $(K){var se,be,we,De;if(De=p(K,R,M),3==R.nodeType&&(K?De>0:De<R.nodeValue.length))return!1;if(R.parentNode==U&&ne&&!K||K&&1==R.nodeType&&R==U.firstChild)return!0;if(c(R,"TABLE")||c(R,"HR"))return ne&&!K||!ne&&K;for(se=new s(R,U),3==R.nodeType&&(K&&0===De?se.prev():!K&&De==R.nodeValue.length&&se.next());be=se.current();){if(1===be.nodeType){if(!be.getAttribute("data-mce-bogus")&&(we=be.nodeName.toLowerCase(),x[we]&&"br"!==we))return!1}else if(3===be.nodeType&&!/^[ \t\r\n]*$/.test(be.nodeValue))return!1;K?se.prev():se.next()}return!0}function Y(){n.execCommand("InsertLineBreak",!1,_)}function oe(){L=/^(H[1-6]|PRE|FIGURE)$/.test(ee)&&"HGROUP"!=ue?me(ae):me(),e.end_container_on_empty_block&&g(o,q)&&o.isEmpty(U)?L=o.split(q,U):o.insertAfter(L,U),he(L)}if(A=E.getRng(!0),!_.isDefaultPrevented()){if(!A.collapsed)return void n.execCommand("Delete");if(new h(o).normalize(A),R=A.startContainer,M=A.startOffset,ae=(ae=(e.force_p_newlines?"p":"")||e.forced_root_block)?ae.toUpperCase():"",P=o.doc.documentMode,B=_.shiftKey,1==R.nodeType&&R.hasChildNodes()&&(ne=M>R.childNodes.length-1,R=R.childNodes[Math.min(M,R.childNodes.length-1)]||R,M=ne&&3==R.nodeType?R.nodeValue.length:0),O=function ke(K){var be,we,se=o.getRoot();for(be=K;be!==se&&"false"!==o.getContentEditable(be);)"true"===o.getContentEditable(be)&&(we=be),be=be.parentNode;return be!==se?we:se}(R)){if(b.beforeChange(),!o.isBlock(O)&&O!=o.getRoot())return void((!ae||B)&&Y());if((ae&&!B||!ae&&B)&&(R=function G(K,se){var be,we,De,ve,Ue,qe,Te=ae||"P";if(!(we=o.getParent(K,o.isBlock))||!g(o,we)){if(qe=(we=we||O)==n.getBody()||function(n){return n&&/^(TD|TH|CAPTION)$/.test(n.nodeName)}(we)?we.nodeName.toLowerCase():we.parentNode.nodeName.toLowerCase(),!we.hasChildNodes())return Ee(be=o.create(Te)),we.appendChild(be),A.setStart(be,0),A.setEnd(be,0),be;for(ve=K;ve.parentNode!=we;)ve=ve.parentNode;for(;ve&&!o.isBlock(ve);)De=ve,ve=ve.previousSibling;if(De&&w.isValidChild(qe,Te.toLowerCase())){for(Ee(be=o.create(Te)),De.parentNode.insertBefore(be,De),ve=De;ve&&!o.isBlock(ve);)Ue=ve.nextSibling,be.appendChild(ve),ve=Ue;A.setStart(K,se),A.setEnd(K,se)}}return K}(R,M)),U=o.getParent(R,o.isBlock),q=U?o.getParent(U.parentNode,o.isBlock):null,ee=U?U.nodeName.toUpperCase():"","LI"==(ue=q?q.nodeName.toUpperCase():"")&&!_.ctrlKey&&(U=q,ee=ue),n.undoManager.typing&&(n.undoManager.typing=!1,n.undoManager.add()),/^(LI|DT|DD)$/.test(ee)){if(!ae&&B)return void Y();if(o.isEmpty(U))return void function Z(){function K(we){for(var De=q[we?"firstChild":"lastChild"];De&&1!=De.nodeType;)De=De[we?"nextSibling":"previousSibling"];return De===U}function se(){var we=q.parentNode;return/^(LI|DT|DD)$/.test(we.nodeName)?we:q}if(q!=n.getBody()){var be=q.parentNode.nodeName;/^(OL|UL|LI)$/.test(be)&&(ae="LI"),L=ae?me(ae):o.create("BR"),K(!0)&&K()?"LI"==be?o.insertAfter(L,se()):o.replace(L,q):K(!0)?"LI"==be?(o.insertAfter(L,se()),L.appendChild(o.doc.createTextNode(" ")),L.appendChild(q)):q.parentNode.insertBefore(L,q):K()?(o.insertAfter(L,se()),k(o,E,L)):(q=se(),(F=A.cloneRange()).setStartAfter(U),F.setEndAfter(q),z=F.extractContents(),"LI"==ae&&"LI"==z.firstChild.nodeName?(L=z.firstChild,o.insertAfter(z,q)):(o.insertAfter(z,q),o.insertAfter(L,q))),o.remove(U),he(L),b.add()}}()}if("PRE"==ee&&!1!==e.br_in_pre){if(!B)return void Y()}else if(!ae&&!B&&"LI"!=ee||ae&&B)return void Y();ae&&U===n.getBody()||(ae=ae||"P",S.isCaretContainerBlock(U)?(L=S.showCaretContainerBlock(U),o.isEmpty(U)&&i(U),he(L)):$()?oe():$(!0)?(L=U.parentNode.insertBefore(me(),U),k(o,E,L),c(U,"HR")?he(L):he(U)):(F=function(n){var o=n.cloneRange();return o.setStart(n.startContainer,p(!0,n.startContainer,n.startOffset)),o.setEnd(n.endContainer,p(!1,n.endContainer,n.endOffset)),o}(A).cloneRange(),F.setEndAfter(U),function ie(K){do{3===K.nodeType&&(K.nodeValue=K.nodeValue.replace(/^[\r\n]+/,"")),K=K.firstChild}while(K)}(z=F.extractContents()),L=z.firstChild,o.insertAfter(z,U),function(n,o,E){var w,e=E,b=[];if(e){for(;e=e.firstChild;){if(n.isBlock(e))return;1==e.nodeType&&!o[e.nodeName.toLowerCase()]&&b.push(e)}for(w=b.length;w--;)(!(e=b[w]).hasChildNodes()||e.firstChild==e.lastChild&&""===e.firstChild.nodeValue||a(e))&&n.remove(e)}}(o,x,L),function ye(K){var se;u||(K.normalize(),(!(se=K.lastChild)||/^(left|right)$/gi.test(o.getStyle(se,"float",!0)))&&o.add(K,"br"))}(U),o.isEmpty(U)&&i(U),L.normalize(),o.isEmpty(L)?(o.remove(L),oe()):he(L)),o.setAttrib(L,"id",""),n.fire("NewBlock",{newBlock:L}),b.typing=!1,b.add())}}}(_)&&_.preventDefault()})}}}),V("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation"],function(S,y,h,s){var r=function(i,c,g){return!!function(i,c){return a(i)&&h.isText(c.container())}(g,c)&&(function(i,c){var g=c.container(),k=c.offset();g.insertData(k,"\xa0"),i.selection.setCursorLocation(g,k+1)}(i,c),!0)},a=function(i){return i.fold(S.constant(!1),S.constant(!0),S.constant(!0),S.constant(!1))};return{insertAtSelection:function(i){return!!i.selection.isCollapsed()&&function(i){var c=y.fromRangeStart(i.selection.getRng());return s.readLocation(i.getBody(),c).map(S.curry(r,i,c)).getOr(!1)}(i)}}}),V("tinymce.core.keyboard.SpaceKey",["ephox.katamari.api.Arr","tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(S,y,h,s){return{setup:function(r){r.on("keydown",function(u){!1===u.isDefaultPrevented()&&function(r,u){var a=h.match([{keyCode:s.SPACEBAR,action:h.action(y.insertAtSelection,r)}],u);S.find(a,function(d){return d.action()}).each(function(d){u.preventDefault()})}(r,u)})}}}),V("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(S,y,h,s,t){return{setup:function(r){var u=y.setupSelectedState(r);S.setup(r,u),h.setup(r,u),s.setup(r),t.setup(r)}}}),V("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(S,y,h){return function(s){var t,m=[];"onselectionchange"in s.getDoc()||s.on("NodeChange Click MouseUp KeyUp Focus",function(u){var a,d;d={startContainer:(a=s.selection.getRng()).startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset},("nodechange"==u.type||!S.compareRanges(d,t))&&s.fire("SelectionChange"),t=d}),s.on("contextmenu",function(){s.fire("SelectionChange")}),s.on("SelectionChange",function(){var u=s.selection.getStart(!0);!y.range&&s.selection.isCollapsed()||!function r(u){var a,d;if((d=s.$(u).parentsUntil(s.getBody()).add(u)).length===m.length){for(a=d.length;a>=0&&d[a]===m[a];a--);if(-1===a)return m=d,!0}return m=d,!1}(u)&&s.dom.isChildOf(u,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("MouseUp",function(u){u.isDefaultPrevented()||("IMG"==s.selection.getNode().nodeName?h.setEditorTimeout(s,function(){s.nodeChanged()}):s.nodeChanged())}),this.nodeChanged=function(u){var d,i,c,a=s.selection;s.initialized&&a&&!s.settings.disable_nodechange&&!s.readonly&&(c=s.getBody(),((d=a.getStart(!0)||c).ownerDocument!=s.getDoc()||!s.dom.isChildOf(d,c))&&(d=c),i=[],s.dom.getParent(d,function(g){if(g===c)return!0;i.push(g)}),(u=u||{}).element=d,u.parents=i,s.fire("NodeChange",u))}}}),V("tinymce.core.caret.FakeCaret",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(S,y,h,s,t,m,r,u){var a=t.isContentEditableFalse;return function(i,c){var g,k,C;function f(){(function v(){var e,b,w,x,T;for(e=s("*[contentEditable=false]",i),x=0;x<e.length;x++)S.endsWithCaretContainer(w=(b=e[x]).previousSibling)&&(1==(T=w.data).length?w.parentNode.removeChild(w):w.deleteData(T.length-1,1)),S.startsWithCaretContainer(w=b.nextSibling)&&(1==(T=w.data).length?w.parentNode.removeChild(w):w.deleteData(0,1))})(),C&&(y.remove(C),C=null),k&&(k.remove(),k=null),clearInterval(g)}return{show:function l(e,b){var w,x;return f(),function(i){return i&&/^(TD|TH)$/i.test(i.nodeName)}(b)?null:c(b)?(C=S.insertBlock("p",b,e),w=function p(e,b){var x,T,N,_,A,w=r.collapse(e.getBoundingClientRect(),b);return"BODY"==i.tagName?(x=i.ownerDocument.documentElement,T=i.scrollLeft||x.scrollLeft,N=i.scrollTop||x.scrollTop):(A=i.getBoundingClientRect(),T=i.scrollLeft-A.left,N=i.scrollTop-A.top),w.left+=T,w.right+=T,w.top+=N,w.bottom+=N,w.width=1,(_=e.offsetWidth-e.clientWidth)>0&&(b&&(_*=-1),w.left+=_,w.right+=_),w}(b,e),s(C).css("top",w.top),k=s('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(w).appendTo(i),e&&k.addClass("mce-visual-caret-before"),function n(){g=u.setInterval(function(){s("div.mce-visual-caret",i).toggleClass("mce-visual-caret-hidden")},500)}(),(x=b.ownerDocument.createRange()).setStart(C,0),x.setEnd(C,0),x):(C=S.insertInline(b,e),x=b.ownerDocument.createRange(),a(C.nextSibling)?(x.setStart(C,0),x.setEnd(C,0)):(x.setStart(C,1),x.setEnd(C,1)),x)},hide:f,getCss:function E(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function o(){u.clearInterval(g)}}}}),V("tinymce.core.dom.MousePosition",[],function(){var S=function(u){var a,d,i,c;return{top:(c=u.getBoundingClientRect()).top+(i=(a=u.ownerDocument).defaultView).pageYOffset-(d=a.documentElement).clientTop,left:c.left+i.pageXOffset-d.clientLeft}};return{calc:function(u,a){return function(u,a,d){return{pageX:d.left-u.left+a.left,pageY:d.top-u.top+a.top}}(function(u){return u.inline?S(u.getBody()):{left:0,top:0}}(u),function(u){var a=u.getBody();return u.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0}}(u),function(u,a){if(a.target.ownerDocument!==u.getDoc()){var d=S(u.getContentAreaContainer()),i=function(u){var a=u.getBody(),d=u.getDoc().documentElement;return u.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:a.scrollLeft||d.scrollLeft,top:a.scrollTop||d.scrollTop}}(u);return{left:a.pageX-d.left+i.left,top:a.pageY-d.top+i.top}}return{left:a.pageX,top:a.pageY}}(u,a))}}}),V("tinymce.core.DragDropOverrides",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Delay","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition"],function(S,y,h,s,t,m){var r=S.isContentEditableFalse,u=S.isContentEditableTrue,C=function(N){N&&N.parentNode&&N.parentNode.removeChild(N)},b=function(N){N.dragging=!1,N.element=null,C(N.ghost)},w=function(N){var A,F,O,R,M,U,_={};A=t.DOM,U=document,F=function(N,_){return function(A){if(function(N){return 0===N.button}(A)){var F=y.find(_.dom.getParents(A.target),h.or(r,u));if(function(N,_){return r(_)&&_!==N}(_.getBody(),F)){var O=_.dom.getPos(F),R=_.getBody(),M=_.getDoc().documentElement;N.element=F,N.screenX=A.screenX,N.screenY=A.screenY,N.maxX=(_.inline?R.scrollWidth:M.offsetWidth)-2,N.maxY=(_.inline?R.scrollHeight:M.offsetHeight)-2,N.relX=A.pageX-O.x,N.relY=A.pageY-O.y,N.width=F.offsetWidth,N.height=F.offsetHeight,N.ghost=function(N,_,A,F){var O=_.cloneNode(!0);N.dom.setStyles(O,{width:A,height:F}),N.dom.setAttrib(O,"data-mce-selected",null);var R=N.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return N.dom.setStyles(R,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:A,height:F}),N.dom.setStyles(O,{margin:0,boxSizing:"border-box"}),R.appendChild(O),R}(_,F,N.width,N.height)}}}}(_,N),O=function(N,_){var A=s.throttle(function(F,O){_._selectionOverrides.hideFakeCaret(),_.selection.placeCaretAt(F,O)},0);return function(F){var O=Math.max(Math.abs(F.screenX-N.screenX),Math.abs(F.screenY-N.screenY));if(function(N){return N.element}(N)&&!N.dragging&&O>10){if(_.fire("dragstart",{target:N.element}).isDefaultPrevented())return;N.dragging=!0,_.focus()}if(N.dragging){var M=function(N,_){return{pageX:_.pageX-N.relX,pageY:_.pageY+5}}(N,m.calc(_,F));(function(N,_){N.parentNode!==_&&_.appendChild(N)})(N.ghost,_.getBody()),function(N,_,A,F,O,R){var M=0,U=0;N.style.left=_.pageX+"px",N.style.top=_.pageY+"px",_.pageX+A>O&&(M=_.pageX+A-O),_.pageY+F>R&&(U=_.pageY+F-R),N.style.width=A-M+"px",N.style.height=F-U+"px"}(N.ghost,M,N.width,N.height,N.maxX,N.maxY),A(F.clientX,F.clientY)}}}(_,N),R=function(N,_){return function(A){if(N.dragging&&function(N,_,A){return!(_===A||N.dom.isChildOf(_,A)||r(_))}(_,function(N){var A=N.getSel().getRangeAt(0).startContainer;return 3===A.nodeType?A.parentNode:A}(_.selection),N.element)){var F=function(N){var _=N.cloneNode(!0);return _.removeAttribute("data-mce-selected"),_}(N.element),O=_.fire("drop",{targetClone:F,clientX:A.clientX,clientY:A.clientY});O.isDefaultPrevented()||(F=O.targetClone,_.undoManager.transact(function(){C(N.element),_.insertContent(_.dom.getOuterHTML(F)),_._selectionOverrides.hideFakeCaret()}))}b(N)}}(_,N),M=function(N,_){return function(){b(N),N.dragging&&_.fire("dragend")}}(_,N),N.on("mousedown",F),N.on("mousemove",O),N.on("mouseup",R),A.bind(U,"mousemove",O),A.bind(U,"mouseup",M),N.on("remove",function(){A.unbind(U,"mousemove",O),A.unbind(U,"mouseup",M)})};return{init:function(N){w(N),function(N){N.on("drop",function(_){var A=void 0!==_.clientX?N.getDoc().elementFromPoint(_.clientX,_.clientY):null;(r(A)||r(N.dom.getContentEditableParent(A)))&&_.preventDefault()})}(N)}}}),V("tinymce.core.SelectionOverrides",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.DragDropOverrides","tinymce.core.Env","tinymce.core.geom.ClientRect","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Delay","tinymce.core.util.Fun","tinymce.core.util.VK"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k,C){var p=r.isContentEditableTrue,v=r.isContentEditableFalse,l=h.isAfterContentEditableFalse,f=h.isBeforeContentEditableFalse;return function n(o){var w,E=o.getBody(),e=new t(o.getBody(),function N(ae){return o.dom.isBlock(ae)}),b="sel-"+o.dom.uniqueId();function _(ae){ae&&o.selection.setRng(ae)}function A(){return o.selection.getRng()}function F(ae,ne){o.selection.scrollIntoView(ae,ne)}function O(ae,ne,he){return o.fire("ShowCaret",{target:ne,direction:ae,before:he}).isDefaultPrevented()?null:(F(ne,-1===ae),e.show(he,ne))}function R(ae,ne){return ne=h.normalizeRange(ae,E,ne),-1==ae?y.fromRangeStart(ne):y.fromRangeEnd(ne)}function B(ae){return S.isCaretContainer(ae)||S.startsWithCaretContainer(ae)||S.endsWithCaretContainer(ae)}function L(ae){return B(ae.startContainer)||B(ae.endContainer)}function z(ae,ne){var he,$,G,Z,Y,ie,ke,ye,oe,K,Ee=o.$,me=o.dom;if(!ae)return null;if(ae.collapsed){if(!L(ae))if(!1===ne){if(ye=R(-1,ae),v(ye.getNode(!0)))return O(-1,ye.getNode(!0),!1);if(v(ye.getNode()))return O(-1,ye.getNode(),!ye.isAtEnd())}else{if(ye=R(1,ae),v(ye.getNode()))return O(1,ye.getNode(),!ye.isAtEnd());if(v(ye.getNode(!0)))return O(1,ye.getNode(!0),!1)}return null}return Y=ae.startOffset,ie=ae.endOffset,3==(Z=ae.startContainer).nodeType&&0==Y&&v(Z.parentNode)&&(Y=me.nodeIndex(Z=Z.parentNode),Z=Z.parentNode),1!=Z.nodeType||(ie==Y+1&&(he=Z.childNodes[Y]),!v(he))||(oe=K=he.cloneNode(!0),(ke=o.fire("ObjectSelected",{target:he,targetClone:oe})).isDefaultPrevented())?null:(oe=ke.targetClone,0===($=Ee("#"+b)).length&&($=Ee('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",b)).appendTo(o.getBody()),ae=o.dom.createRng(),oe===K&&a.ie?($.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(oe),ae.setStartAfter($[0].firstChild.firstChild),ae.setEndAfter(oe)):($.empty().append("\xa0").append(oe).append("\xa0"),ae.setStart($[0].firstChild,1),ae.setEnd($[0].lastChild,0)),$.css({top:me.getPos(he,o.getBody()).y}),$[0].focus(),(G=o.selection.getSel()).removeAllRanges(),G.addRange(ae),o.$("*[data-mce-selected]").removeAttr("data-mce-selected"),he.setAttribute("data-mce-selected",1),w=he,ue(),ae)}function q(){w&&(w.removeAttribute("data-mce-selected"),o.$("#"+b).remove(),w=null)}function ue(){e.hide()}return a.ceFalse&&(function U(){function ae(G){for(var Z=o.getBody();G&&G!=Z;){if(p(G)||v(G))return G;G=G.parentNode}return null}o.on("mouseup",function(){var G=A();G.collapsed&&_(i.renderCaretAtRange(o,G))}),o.on("click",function(G){var Z;(Z=ae(G.target))&&(v(Z)&&(G.preventDefault(),o.focus()),p(Z)&&o.dom.isChildOf(Z,o.selection.getNode())&&q())}),o.on("blur NewBlock",function(){q(),ue()});(function he(G){var Z=!1;G.on("touchstart",function(){Z=!1}),G.on("touchmove",function(){Z=!0}),G.on("touchend",function(Y){var ie=ae(Y.target);v(ie)&&(Z||(Y.preventDefault(),z(i.selectNode(G,ie))))})})(o),o.on("mousedown",function(G){var Z;if(Z=ae(G.target))v(Z)?(G.preventDefault(),z(i.selectNode(o,Z))):(q(),(!p(Z)||!G.shiftKey)&&!function ne(G,Z,Y){return!Y.collapsed&&c.reduce(Y.getClientRects(),function(ie,ke){return ie||d.containsXY(ke,G,Z)},!1)}(G.clientX,G.clientY,o.selection.getRng())&&o.selection.placeCaretAt(G.clientX,G.clientY));else{q(),ue();var Y=m.closestCaret(E,G.clientX,G.clientY);Y&&(function(G,Z){var Y=o.dom.getParent(G,o.dom.isBlock),ie=o.dom.getParent(Z,o.dom.isBlock);return Y&&!function(G,Z){return o.dom.getParent(G,o.dom.isBlock)===o.dom.getParent(Z,o.dom.isBlock)}(Y,ie)&&function(G){var Z=new s(G);if(!G.firstChild)return!1;var Y=y.before(G.firstChild),ie=Z.next(Y);return ie&&!f(ie)&&!l(ie)}(Y)}(G.target,Y.node)||(G.preventDefault(),o.getBody().focus(),_(O(1,Y.node,Y.before))))}}),o.on("keypress",function(G){C.modifierPressed(G)||v(o.selection.getNode())&&G.preventDefault()}),o.on("getSelectionRange",function(G){var Z=G.range;if(w){if(!w.parentNode)return void(w=null);(Z=Z.cloneRange()).selectNode(w),G.range=Z}}),o.on("setSelectionRange",function(G){var Z;(Z=z(G.range,G.forward))&&(G.range=Z)}),o.on("AfterSetSelectionRange",function(G){var Z=G.range;L(Z)||ue(),function x(ae){return o.dom.hasClass(ae,"mce-offscreen-selection")}(Z.startContainer.parentNode)||q()}),o.on("focus",function(){g.setEditorTimeout(o,function(){o.selection.setRng(i.renderRangeCaret(o,o.selection.getRng()))},0)}),o.on("copy",function(G){var Z=G.clipboardData;if(!G.isDefaultPrevented()&&G.clipboardData&&!a.ie){var Y=function T(){var ae=o.dom.get(b);return ae&&ae.getElementsByTagName("*")[0]}();Y&&(G.preventDefault(),Z.clearData(),Z.setData("text/html",Y.outerHTML),Z.setData("text/plain",Y.outerText))}}),u.init(o)}(),function P(){var ae=o.contentStyles,ne=".mce-content-body";ae.push(e.getCss()),ae.push(ne+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+ne+" *[contentEditable=false] {cursor: default;}"+ne+" *[contentEditable=true] {cursor: text;}")}()),{showCaret:O,showBlockCaretContainer:function M(ae){ae.hasAttribute("data-mce-caret")&&(S.showCaretContainerBlock(ae),_(A()),F(ae[0]))},hideFakeCaret:ue,destroy:function ee(){e.destroy(),w=null}}}}),V("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],function(S){return{create:function y(s,t,m){for(var r=[];t&&t!=s;t=t.parentNode)r.push(S.nodeIndex(t,m));return r},resolve:function h(s,t){var m,r,u;for(r=s,m=t.length-1;m>=0;m--){if(t[m]>(u=r.childNodes).length-1)return null;r=u[t[m]]}return r}}}),V("tinymce.core.util.Quirks",["tinymce.core.util.VK","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodePath","tinymce.core.html.Node","tinymce.core.html.Entities","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker"],function(S,y,h,s,t,m,r,u,a,d,i,c){return function(g){var k=u.each,C=S.BACKSPACE,p=S.DELETE,v=g.dom,l=g.selection,f=g.settings,n=g.parser,o=g.serializer,E=r.gecko,e=r.ie,b=r.webkit,w="data:text/mce-internal,",x=e?"Text":"URL";function T(re,fe){try{g.getDoc().execCommand(re,!1,fe)}catch(Ce){}}function N(){return g.getDoc().documentMode||6}function _(re){return re.isDefaultPrevented()}function M(){g.shortcuts.add("meta+a",null,"SelectAll")}function P(){g.on("keydown",function(re){if(!_(re)&&re.keyCode===C){if(!g.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng(!0).startOffset){var fe=l.getNode(),Ce=fe.previousSibling;if("HR"==fe.nodeName)return v.remove(fe),void re.preventDefault();Ce&&Ce.nodeName&&"hr"===Ce.nodeName.toLowerCase()&&(v.remove(Ce),re.preventDefault())}}})}function ee(){g.on("keydown",function(re){if(!_(re)&&re.keyCode===C&&l.isCollapsed()&&0===l.getRng(!0).startOffset){var fe=l.getNode().previousSibling;if(fe&&fe.nodeName&&"table"===fe.nodeName.toLowerCase())return re.preventDefault(),!1}})}function oe(){g.inline||(g.contentStyles.push("body {min-height: 150px}"),g.on("click",function(re){var fe;if("HTML"==re.target.nodeName){if(r.ie>11)return void g.getBody().focus();fe=g.selection.getRng(),g.getBody().focus(),g.selection.setRng(fe),g.selection.normalize(),g.nodeChanged()}}))}function Te(){function re(fe){var Ce=new c(fe.getBody()),Ae=fe.selection.getRng(),Me=i.fromRangeStart(Ae),Le=i.fromRangeEnd(Ae),Ye=Ce.prev(Me),Ke=Ce.next(Le);return!fe.selection.isCollapsed()&&(!Ye||Ye.isAtStart()&&Me.isEqual(Ye))&&(!Ke||Ke.isAtEnd()&&Me.isEqual(Ke))}g.on("keypress",function(fe){!_(fe)&&!l.isCollapsed()&&fe.charCode>31&&!S.metaKeyPressed(fe)&&re(g)&&(fe.preventDefault(),g.setContent(String.fromCharCode(fe.charCode)),g.selection.select(g.getBody(),!0),g.selection.collapse(!1),g.nodeChanged())}),g.on("keydown",function(fe){var Ce=fe.keyCode;!_(fe)&&(Ce==p||Ce==C)&&re(g)&&(fe.preventDefault(),g.setContent(""),g.nodeChanged())})}return function ne(){g.on("keydown",function(re){var fe,Ce,Ae,Me,Le;if(!_(re)&&re.keyCode==S.BACKSPACE&&(Ce=(fe=l.getRng()).startContainer,Ae=fe.startOffset,Me=v.getRoot(),Le=Ce,fe.collapsed&&0===Ae)){for(;Le&&Le.parentNode&&Le.parentNode.firstChild==Le&&Le.parentNode!=Me;)Le=Le.parentNode;"BLOCKQUOTE"===Le.tagName&&(g.formatter.toggle("blockquote",null,Le),(fe=v.createRng()).setStart(Ce,0),fe.setEnd(Ce,0),l.setRng(fe))}})}(),function R(){function re(Ce){var Ae=v.create("body"),Me=Ce.cloneContents();return Ae.appendChild(Me),l.serializer.serialize(Ae,{format:"html"})}g.on("keydown",function(Ce){var Me,Le,Ae=Ce.keyCode;if(!_(Ce)&&(Ae==p||Ae==C)){if(Me=g.selection.isCollapsed(),Le=g.getBody(),Me&&!v.isEmpty(Le)||!Me&&!function fe(Ce){if(!Ce.setStart){if(Ce.item)return!1;var Ae=Ce.duplicate();return Ae.moveToElementText(g.getBody()),y.compareRanges(Ce,Ae)}var Me=re(Ce),Le=v.createRng();return Le.selectNode(g.getBody()),Me===re(Le)}(g.selection.getRng()))return;Ce.preventDefault(),g.setContent(""),Le.firstChild&&v.isBlock(Le.firstChild)?g.selection.setCursorLocation(Le.firstChild,0):g.selection.setCursorLocation(Le,0),g.nodeChanged()}})}(),r.windowsPhone||function ie(){g.on("keyup focusin mouseup",function(re){(65!=re.keyCode||!S.metaKeyPressed(re))&&l.normalize()},!0)}(),b&&(Te(),function U(){g.settings.content_editable||v.bind(g.getDoc(),"mousedown mouseup",function(re){var fe;if(re.target==g.getDoc().documentElement)if(fe=l.getRng(),g.getBody().focus(),"mousedown"==re.type){if(d.isCaretContainer(fe.startContainer))return;l.placeCaretAt(re.clientX,re.clientY)}else l.setRng(fe)})}(),function L(){g.on("click",function(re){var fe=re.target;/^(IMG|HR)$/.test(fe.nodeName)&&"false"!==v.getContentEditableParent(fe)&&(re.preventDefault(),g.selection.select(fe),g.nodeChanged()),"A"==fe.nodeName&&v.hasClass(fe,"mce-item-anchor")&&(re.preventDefault(),l.select(fe))})}(),function me(){f.forced_root_block&&g.on("init",function(){T("DefaultParagraphSeparator",f.forced_root_block)})}(),function we(){g.on("init",function(){g.dom.bind(g.getBody(),"submit",function(re){re.preventDefault()})})}(),ee(),function De(){n.addNodeFilter("br",function(re){for(var fe=re.length;fe--;)"Apple-interchange-newline"==re[fe].attr("class")&&re[fe].remove()})}(),r.iOS?(function ye(){g.inline||g.on("keydown",function(){document.activeElement==document.body&&g.getWin().focus()})}(),oe(),function be(){g.on("click",function(re){var fe=re.target;do{if("A"===fe.tagName)return void re.preventDefault()}while(fe=fe.parentNode)}),g.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):M()),e&&r.ie<11&&(P(),function q(){document.body.setAttribute("role","application")}(),function ue(){N()>7||(T("RespectVisibilityInDesign",!0),g.contentStyles.push(".mceHideBrInPre pre br {display: none}"),v.addClass(g.getBody(),"mceHideBrInPre"),n.addNodeFilter("pre",function(re){for(var Ce,Ae,Me,Le,fe=re.length;fe--;)for(Ae=(Ce=re[fe].getAll("br")).length;Ae--;)(Le=(Me=Ce[Ae]).prev)&&3===Le.type&&"\n"!=Le.value.charAt(Le.value-1)?Le.value+="\n":Me.parent.insert(new t("#text",3),Me,!0).value="\n"}),o.addNodeFilter("pre",function(re){for(var Ce,Ae,Le,fe=re.length;fe--;)for(Ae=(Ce=re[fe].getAll("br")).length;Ae--;)(Le=Ce[Ae].prev)&&3==Le.type&&(Le.value=Le.value.replace(/\r?\n$/,""))}))}(),function ae(){v.bind(g.getBody(),"mouseup",function(){var re,fe=l.getNode();"IMG"==fe.nodeName&&((re=v.getStyle(fe,"width"))&&(v.setAttrib(fe,"width",re.replace(/[^0-9%]+/g,"")),v.setStyle(fe,"width","")),(re=v.getStyle(fe,"height"))&&(v.setAttrib(fe,"height",re.replace(/[^0-9%]+/g,"")),v.setStyle(fe,"height","")))})}(),function $(){g.on("keydown",function(re){var fe;!_(re)&&re.keyCode==C&&(fe=g.getDoc().selection.createRange())&&fe.item&&(re.preventDefault(),g.undoManager.beforeChange(),v.remove(fe.item(0)),g.undoManager.add())})}(),function G(){var re;N()>=10&&(re="",k("p div h1 h2 h3 h4 h5 h6".split(" "),function(fe,Ce){re+=(Ce>0?",":"")+fe+":empty"}),g.contentStyles.push(re+"{padding-right: 1px !important}"))}(),function Z(){N()<9&&(n.addNodeFilter("noscript",function(re){for(var Ce,Ae,fe=re.length;fe--;)(Ae=(Ce=re[fe]).firstChild)&&Ce.attr("data-mce-innertext",Ae.value)}),o.addNodeFilter("noscript",function(re){for(var Ce,Ae,Me,fe=re.length;fe--;)Ce=re[fe],(Ae=re[fe].firstChild)?Ae.value=m.decode(Ae.value):(Me=Ce.attributes.map["data-mce-innertext"])&&(Ce.attr("data-mce-innertext",null),(Ae=new t("#text",3)).value=Me,Ae.raw=!0,Ce.append(Ae))}))}(),function Y(){var Ce,Ae,Me,re=v.doc,fe=re.body;function Le(je,Xe){var it=fe.createTextRange();try{it.moveToPoint(je,Xe)}catch(D){it=null}return it}function Ye(je){var Xe;je.button?(Xe=Le(je.x,je.y))&&(Xe.compareEndPoints("StartToStart",Ae)>0?Xe.setEndPoint("StartToStart",Ae):Xe.setEndPoint("EndToEnd",Ae),Xe.select()):Ke()}function Ke(){var je=re.selection.createRange();Ae&&!je.item&&0===je.compareEndPoints("StartToEnd",je)&&Ae.select(),v.unbind(re,"mouseup",Ke),v.unbind(re,"mousemove",Ye),Ae=Ce=0}re.documentElement.unselectable=!0,v.bind(re,"mousedown contextmenu",function(je){if("HTML"===je.target.nodeName){if(Ce&&Ke(),(Me=re.documentElement).scrollHeight>Me.clientHeight)return;Ce=1,(Ae=Le(je.x,je.y))&&(v.bind(re,"mouseup",Ke),v.bind(re,"mousemove",Ye),v.getRoot().focus(),Ae.select())}})}()),r.ie>=11&&(oe(),ee()),r.ie&&(M(),function se(){T("AutoUrlDetect",!1)}(),function ve(){g.on("dragstart",function(re){!function A(re){var fe,Ce;re.dataTransfer&&(g.selection.isCollapsed()&&"IMG"==re.target.tagName&&l.select(re.target),(fe=g.selection.getContent()).length>0&&(Ce=w+escape(g.id)+","+escape(fe),re.dataTransfer.setData(x,Ce)))}(re)}),g.on("drop",function(re){if(!_(re)){var fe=function F(re){var fe;return re.dataTransfer&&(fe=re.dataTransfer.getData(x))&&fe.indexOf(w)>=0?(fe=fe.substr(w.length).split(","),{id:unescape(fe[0]),html:unescape(fe[1])}):null}(re);if(fe&&fe.id!=g.id){re.preventDefault();var Ce=y.getCaretRangeFromPoint(re.x,re.y,g.getDoc());l.setRng(Ce),function O(re,fe){g.queryCommandSupported("mceInsertClipboardContent")?g.execCommand("mceInsertClipboardContent",!1,{content:re,internal:fe}):g.execCommand("mceInsertContent",!1,re)}(fe.html,!0)}}})}()),E&&(Te(),P(),function B(){window.Range.prototype.getClientRects||g.on("mousedown",function(re){if(!_(re)&&"HTML"===re.target.nodeName){var fe=g.getBody();fe.blur(),a.setEditorTimeout(g,function(){fe.focus()})}})}(),function z(){function re(){var Ce=v.getAttribs(l.getStart().cloneNode(!1));return function(){var Ae=l.getStart();Ae!==g.getBody()&&(v.setAttrib(Ae,"style",null),k(Ce,function(Me){Ae.setAttributeNode(Me.cloneNode(!0))}))}}function fe(){return!l.isCollapsed()&&v.getParent(l.getStart(),v.isBlock)!=v.getParent(l.getEnd(),v.isBlock)}g.on("keypress",function(Ce){var Ae;if(!_(Ce)&&(8==Ce.keyCode||46==Ce.keyCode)&&fe())return Ae=re(),g.getDoc().execCommand("delete",!1,null),Ae(),Ce.preventDefault(),!1}),v.bind(g.getDoc(),"cut",function(Ce){var Ae;!_(Ce)&&fe()&&(Ae=re(),a.setEditorTimeout(g,function(){Ae()}))})}(),function he(){f.readonly||g.on("BeforeExecCommand MouseDown",function re(){T("StyleWithCSS",!1),T("enableInlineTableEditing",!1),f.object_resizing||T("enableObjectResizing",!1)})}(),function Ee(){g.on("SetContent ExecCommand",function(fe){("setcontent"==fe.type||"mceInsertLink"===fe.command)&&function re(){k(v.select("a"),function(fe){var Ce=fe.parentNode,Ae=v.getRoot();if(Ce.lastChild===fe){for(;Ce&&!v.isBlock(Ce);){if(Ce.parentNode.lastChild!==Ce||Ce===Ae)return;Ce=Ce.parentNode}v.add(Ce,"br",{"data-mce-bogus":1})}})}()})}(),function ke(){g.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function K(){r.mac&&g.on("keydown",function(re){S.metaKeyPressed(re)&&!re.shiftKey&&(37==re.keyCode||39==re.keyCode)&&(re.preventDefault(),g.selection.getSel().modify("move",37==re.keyCode?"backward":"forward","lineboundary"))})}(),ee()),{refreshContentEditable:function Ue(){},isHidden:function qe(){var re;return!E||g.removed?0:!(re=g.selection.getSel())||!re.rangeCount||0===re.rangeCount}}}}),V("tinymce.core.init.InitContentBody",["global!document","global!window","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.EditorUpload","tinymce.core.ErrorReporter","tinymce.core.ForceBlocks","tinymce.core.Formatter","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k,C,p,v,l,f,n){var o=s.DOM,b=function(x){x.bindPendingEventDelegates(),x.initialized=!0,x.fire("init"),x.focus(!0),x.nodeChanged({initial:!0}),x.execCallback("init_instance_callback",x),function(x){x.settings.auto_focus&&l.setEditorTimeout(x,function(){var T;(T=!0===x.settings.auto_focus?x:x.editorManager.get(x.settings.auto_focus)).destroyed||T.focus()},100)}(x)};return{initContentBody:function(x,T){var F,O,N=x.settings,_=x.getElement(),A=x.getDoc();N.inline||(x.getElement().style.visibility=x.orgVisibility),!T&&!N.content_editable&&(A.open(),A.write(x.iframeHTML),A.close()),N.content_editable&&(x.on("remove",function(){var R=this.getBody();o.removeClass(R,"mce-content-body"),o.removeClass(R,"mce-edit-focus"),o.setAttrib(R,"contentEditable",null)}),o.addClass(_,"mce-content-body"),x.contentDocument=A=N.content_document||S,x.contentWindow=N.content_window||y,x.bodyElement=_,N.content_document=N.content_window=null,N.root_name=_.nodeName.toLowerCase()),(F=x.getBody()).disabled=!0,x.readonly=N.readonly,x.readonly||(x.inline&&"static"===o.getStyle(F,"position",!0)&&(F.style.position="relative"),F.contentEditable=x.getParam("content_editable_state",!0)),F.disabled=!1,x.editorUpload=new r(x),x.schema=new g(N),x.dom=new s(A,{keep_values:!0,url_converter:x.convertURL,url_converter_scope:x,hex_colors:N.force_hex_style_colors,class_filter:N.class_filter,update_styles:!0,root_element:x.inline?x.getBody():null,collect:N.content_editable,schema:x.schema,onSetAttrib:function(R){x.fire("SetAttrib",R)}}),x.parser=function(x){var T=new i(x.settings,x.schema);return T.addAttributeFilter("src,href,style,tabindex",function(N,_){for(var F,R,M,A=N.length,O=x.dom;A--;)if(R=(F=N[A]).attr(_),!F.attributes.map[M="data-mce-"+_]){if(0===R.indexOf("data:")||0===R.indexOf("blob:"))continue;"style"===_?((R=O.serializeStyle(O.parseStyle(R),F.name)).length||(R=null),F.attr(M,R),F.attr(_,R)):"tabindex"===_?(F.attr(M,R),F.attr(_,null)):F.attr(M,x.convertURL(R,_,F.name))}}),T.addNodeFilter("script",function(N){for(var A,F,_=N.length;_--;)0!==(F=(A=N[_]).attr("type")||"no/type").indexOf("mce-")&&A.attr("type","mce-"+F)}),T.addNodeFilter("#cdata",function(N){for(var A,_=N.length;_--;)(A=N[_]).type=8,A.name="#comment",A.value="[CDATA["+A.value+"]]"}),T.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(N){for(var A,_=N.length,F=x.schema.getNonEmptyElements();_--;)(A=N[_]).isEmpty(F)&&0===A.getAll("br").length&&(A.append(new c("br",1)).shortEnded=!0)}),T}(x),x.serializer=new m(N,x),x.selection=new t(x.dom,x.getWin(),x.serializer,x),x.formatter=new d(x),x.undoManager=new v(x),x._nodeChangeDispatcher=new C(x),x._selectionOverrides=new p(x),h.setup(x),k.setup(x),a.setup(x),x.fire("PreInit"),!N.browser_spellcheck&&!N.gecko_spellcheck&&(A.body.spellcheck=!1,o.setAttrib(F,"spellcheck","false")),x.quirks=new f(x),x.fire("PostRender"),N.directionality&&(F.dir=N.directionality),N.nowrap&&(F.style.whiteSpace="nowrap"),N.protect&&x.on("BeforeSetContent",function(R){n.each(N.protect,function(M){R.content=R.content.replace(M,function(U){return"\x3c!--mce:protected "+escape(U)+"--\x3e"})})}),x.on("SetContent",function(){x.addVisual(x.getBody())}),N.padd_empty_editor&&x.on("PostProcess",function(R){R.content=R.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),x.load({initial:!0,format:"html"}),x.startContent=x.getContent({format:"raw"}),x.on("compositionstart compositionend",function(R){x.composing="compositionstart"===R.type}),x.contentStyles.length>0&&(O="",n.each(x.contentStyles,function(R){O+=R+"\r\n"}),x.dom.addStyle(O)),x.dom.styleSheetLoader.loadAll(x.contentCSS,function(R){b(x)},function(R){b(x),u.contentCssError(x,R)})}}}),V("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(S){return S.PluginManager}),V("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(S){return S.ThemeManager}),V("tinymce.core.init.Init",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.init.InitContentBody","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(S,y,h,s,t,m,r,u,a){var d=h.DOM,i=function(l,f,n){var E,e,o=m.get(n);if(E=m.urls[n]||l.documentBaseUrl.replace(/\/$/,""),n=u.trim(n),o&&-1===u.inArray(f,n)){if(u.each(m.dependencies(n),function(b){i(l,f,b)}),l.plugins[n])return;e=new o(l,E,l.$),l.plugins[n]=e,e.init&&(e.init(l,E),f.push(n))}};return{init:function(l){var o,f=l.settings,n=l.getElement();if(l.rtl=f.rtl_ui||l.editorManager.i18n.rtl,l.editorManager.i18n.setCode(f.language),f.aria_label=f.aria_label||d.getAttrib(n,"aria-label",l.getLang("aria.rich_text_area")),l.fire("ScriptsLoaded"),function(l){var f,n=l.settings;n.theme&&("function"!=typeof n.theme?(n.theme=n.theme.replace(/-/,""),f=r.get(n.theme),l.theme=new f(l,r.urls[n.theme]),l.theme.init&&l.theme.init(l,r.urls[n.theme]||l.documentBaseUrl.replace(/\/$/,""),l.$)):l.theme=n.theme)}(l),function(l){var f=[];u.each(l.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(n){i(l,f,n)})}(l),o=function(l){var f,n,o,E,e,b=l.settings,w=l.getElement();return b.render_ui&&l.theme&&(l.orgDisplay=w.style.display,"function"!=typeof b.theme?(f=b.width||d.getStyle(w,"width")||"100%",n=b.height||d.getStyle(w,"height")||w.offsetHeight,o=b.min_height||100,(E=/^[0-9\.]+(|px)$/i).test(""+f)&&(f=Math.max(parseInt(f,10),100)),E.test(""+n)&&(n=Math.max(parseInt(n,10),o)),e=l.theme.renderUI({targetNode:w,width:f,height:n,deltaWidth:b.delta_width,deltaHeight:b.delta_height}),b.content_editable||(n=(e.iframeHeight||n)+("number"==typeof n?e.deltaHeight||0:""))<o&&(n=o)):((e=b.theme(l,w)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||l.id+"_parent"),e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||l.id+"_iframecontainer"),n=e.iframeHeight||w.offsetHeight),l.editorContainer=e.editorContainer,e.height=n),e}(l),f.content_css&&u.each(u.explode(f.content_css),function(e){l.contentCSS.push(l.documentBaseURI.toAbsolute(e))}),f.content_style&&l.contentStyles.push(f.content_style),f.content_editable)return t.initContentBody(l);var E=function(l,f){var o,E,n=l.settings;l.iframeHTML=n.doctype+"<html><head>",n.document_base_url!=l.documentBaseUrl&&(l.iframeHTML+='<base href="'+l.documentBaseURI.getURI()+'" />'),!s.caretAfter&&n.ie7_compat&&(l.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),l.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(o=n.body_id||"tinymce").indexOf("=")&&(o=(o=l.getParam("body_id","","hash"))[l.id]||o),-1!=(E=n.body_class||"").indexOf("=")&&(E=(E=l.getParam("body_class","","hash"))[l.id]||""),n.content_security_policy&&(l.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+n.content_security_policy+'" />'),l.iframeHTML+='</head><body id="'+o+'" class="mce-content-body '+E+'" data-id="'+l.id+'"><br></body></html>';var e=d.create("iframe",{id:l.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:l.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:f.height,display:"block"}});e.onload=function(){e.onload=null,l.fire("load")};var b=function(l,f){if(S.domain!==y.location.hostname&&s.ie&&s.ie<12){var n=a.uuid("mce");return l[n]=function(){t.initContentBody(l)},d.setAttrib(f,"src",'javascript:(function(){document.open();document.domain="'+S.domain+'";var ed = window.parent.tinymce.get("'+l.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()"),!0}return!1}(l,e);return l.contentAreaContainer=f.iframeContainer,l.iframeElement=e,d.add(f.iframeContainer,e),b}(l,o);o.editorContainer&&(d.get(o.editorContainer).style.display=l.orgDisplay,l.hidden=d.isHidden(o.editorContainer)),l.getElement().style.display="none",d.setAttrib(l.id,"aria-hidden",!0),E||t.initContentBody(l)}}}),V("tinymce.core.init.Render",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.NotificationManager","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.WindowManager"],function(S,y,h,s,t,m,r,u,a,d,i,c){var g=y.DOM;return{render:function(p){var v=p.settings,l=p.id;if(h.Event.domLoaded){if(p.getElement()&&t.contentEditable){v.inline?p.inline=!0:(p.orgVisibility=p.getElement().style.visibility,p.getElement().style.visibility="hidden");var n=p.getElement().form||g.getParent(l,"form");n&&(p.formElement=n,v.hidden_input&&!/TEXTAREA|INPUT/i.test(p.getElement().nodeName)&&(g.insertAfter(g.create("input",{type:"hidden",name:l}),l),p.hasHiddenInput=!0),p.formEventDelegate=function(o){p.fire(o.type,o)},g.bind(n,"submit reset",p.formEventDelegate),p.on("reset",function(){p.setContent(p.startContent,{format:"raw"})}),v.submit_patch&&!n.submit.nodeType&&!n.submit.length&&!n._mceOldSubmit&&(n._mceOldSubmit=n.submit,n.submit=function(){return p.editorManager.triggerSave(),p.setDirty(!1),n._mceOldSubmit(n)})),p.windowManager=new c(p),p.notificationManager=new u(p),"xml"===v.encoding&&p.on("GetContent",function(o){o.save&&(o.content=g.encode(o.content))}),v.add_form_submit_trigger&&p.on("submit",function(){p.initialized&&p.save()}),v.add_unload_trigger&&(p._beforeUnload=function(){p.initialized&&!p.destroyed&&!p.isHidden()&&p.save({format:"raw",no_events:!0,set_dirty:!1})},p.editorManager.on("BeforeUnload",p._beforeUnload)),p.editorManager.add(p),function(p,v){var l=p.settings,f=s.ScriptLoader;if(l.language&&"en"!=l.language&&!l.language_url&&(l.language_url=p.editorManager.baseURL+"/langs/"+l.language+".js"),l.language_url&&f.add(l.language_url),l.theme&&"function"!=typeof l.theme&&"-"!=l.theme.charAt(0)&&!d.urls[l.theme]){var n=l.theme_url;n=n?p.documentBaseURI.toAbsolute(n):"themes/"+l.theme+"/theme"+v+".js",d.load(l.theme,n)}i.isArray(l.plugins)&&(l.plugins=l.plugins.join(" ")),i.each(l.external_plugins,function(o,E){a.load(E,o),l.plugins+=" "+E}),i.each(l.plugins.split(/[ ,]/),function(o){if((o=i.trim(o))&&!a.urls[o])if("-"===o.charAt(0)){o=o.substr(1,o.length);var E=a.dependencies(o);i.each(E,function(e){e=a.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+v+".js"},e),a.load(e.resource,e)})}else a.load(o,{prefix:"plugins/",resource:o,suffix:"/plugin"+v+".js"})}),f.loadQueue(function(){p.removed||r.init(p)},p,function(o){m.pluginLoadError(p,o[0]),p.removed||r.init(p)})}(p,p.suffix)}}else g.bind(S,"ready",function f(){g.unbind(S,"ready",f),p.render()})}}}),V("tinymce.core.Mode",[],function(){function S(t,m,r){try{t.getDoc().execCommand(m,!1,r)}catch(u){}}function h(t,m){t._clickBlocker&&(t._clickBlocker.unbind(),t._clickBlocker=null),m?(t._clickBlocker=function y(t){var m,r;return m=t.getBody(),r=function(u){t.dom.getParents(u.target,"a").length>0&&u.preventDefault()},t.dom.bind(m,"click",r),{unbind:function(){t.dom.unbind(m,"click",r)}}}(t),t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,S(t,"StyleWithCSS",!1),S(t,"enableInlineTableEditing",!1),S(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())}return{setMode:function s(t,m){m!=(t.readonly?"readonly":"design")&&(t.initialized?h(t,"readonly"==m):t.on("init",function(){h(t,"readonly"==m)}),t.fire("SwitchMode",{mode:m}))}}}),V("tinymce.core.ui.Sidebar",[],function(){return{add:function(y,h,s){var t=y.sidebars?y.sidebars:[];t.push({name:h,settings:s}),y.sidebars=t}}}),V("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k){var C=h.DOM,p=c.extend,v=c.each,l=c.trim,f=c.resolve,n=m.gecko,o=m.ie;function E(e,b,w){var T,N,_,x=this;T=x.documentBaseUrl=w.documentBaseURL,N=w.baseURI,b=p({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:T,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:x.convertURL,url_converter_scope:x,ie7_compat:!0},_=w.defaultSettings,b),_&&_.external_plugins&&b.external_plugins&&(b.external_plugins=p({},_.external_plugins,b.external_plugins)),x.settings=b,S.language=b.language||"en",S.languageLoad=b.language_load,S.baseURL=w.baseURL,x.id=b.id=e,x.setDirty(!1),x.plugins={},x.documentBaseURI=new g(b.document_base_url||T,{base_uri:N}),x.baseURI=N,x.contentCSS=[],x.contentStyles=[],x.shortcuts=new d(x),x.loadedCSS={},x.editorCommands=new s(x),x.suffix=w.suffix,x.editorManager=w,x.inline=b.inline,x.settings.content_editable=x.inline,b.cache_suffix&&(m.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,"")),!1===b.override_viewport&&(m.overrideViewPort=!1),w.fire("SetupEditor",x),x.execCallback("setup",x),x.$=y.overrideDefaults(function(){return{context:x.inline?x.getBody():x.getDoc(),element:x.getBody()}})}return E.prototype={render:function(){u.render(this)},focus:function(e){var T,N,F,b=this,w=b.selection,x=b.settings.content_editable,_=b.getDoc(),A=b.getBody();if(!b.removed){if(!e){if((T=w.getRng()).item&&(N=T.item(0)),b.quirks.refreshContentEditable(),F=function O(R){return b.dom.getParent(R,function(M){return"true"===b.dom.getContentEditable(M)})}(w.getNode()),b.$.contains(A,F))return F.focus(),w.normalize(),void b.editorManager.setActive(b);if(x||(m.opera||b.getBody().focus(),b.getWin().focus()),n||x){if(A.setActive)try{A.setActive()}catch(R){A.focus()}else A.focus();x&&w.normalize()}N&&N.ownerDocument==_&&((T=_.body.createControlRange()).addElement(N),T.select())}b.editorManager.setActive(b)}},execCallback:function(e){var x,b=this,w=b.settings[e];if(w)return b.callbackLookup&&(x=b.callbackLookup[e])&&(w=x.func,x=x.scope),"string"==typeof w&&(x=(x=w.replace(/\.\w+$/,""))?f(x):0,w=f(w),b.callbackLookup=b.callbackLookup||{},b.callbackLookup[e]={func:w,scope:x}),w.apply(x||b,Array.prototype.slice.call(arguments,1))},translate:function(e){var b=this.settings.language||"en",w=this.editorManager.i18n;return e?(e=w.data[b+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(x,T){return w.data[b+"."+T]||"{#"+T+"}"}),this.editorManager.translate(e)):""},getLang:function(e,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==b?b:"{#"+e+"}")},getParam:function(e,b,w){var T,x=e in this.settings?this.settings[e]:b;return"hash"===w?(T={},"string"==typeof x?v(x.indexOf("=")>0?x.split(/[;,](?![^=;,]*(?:[;,]|$))/):x.split(","),function(N){N=N.split("="),T[l(N[0])]=l(N.length>1?N[1]:N)}):T=x,T):x},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,b){var w=this;b.cmd&&(b.onclick=function(){w.execCommand(b.cmd)}),!b.text&&!b.icon&&(b.icon=e),w.buttons=w.buttons||{},b.tooltip=b.tooltip||b.title,w.buttons[e]=b},addSidebar:function(e,b){return i.add(this,e,b)},addMenuItem:function(e,b){var w=this;b.cmd&&(b.onclick=function(){w.execCommand(b.cmd)}),w.menuItems=w.menuItems||{},w.menuItems[e]=b},addContextToolbar:function(e,b){var x,w=this;w.contextToolbars=w.contextToolbars||[],"string"==typeof e&&(x=e,e=function(T){return w.dom.is(T,x)}),w.contextToolbars.push({id:k.uuid("mcet"),predicate:e,items:b})},addCommand:function(e,b,w){this.editorCommands.addCommand(e,b,w)},addQueryStateHandler:function(e,b,w){this.editorCommands.addQueryStateHandler(e,b,w)},addQueryValueHandler:function(e,b,w){this.editorCommands.addQueryValueHandler(e,b,w)},addShortcut:function(e,b,w,x){this.shortcuts.add(e,b,w,x)},execCommand:function(e,b,w,x){return this.editorCommands.execCommand(e,b,w,x)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(C.show(e.getContainer()),C.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,b=e.getDoc();e.hidden||(o&&b&&!e.inline&&b.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(C.hide(e.getContainer()),C.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,b){this.fire("ProgressState",{state:e,time:b})},load:function(e){var x,b=this,w=b.getElement();return b.removed?"":w?((e=e||{}).load=!0,x=b.setContent(void 0!==w.value?w.value:w.innerHTML,e),e.element=w,e.no_events||b.fire("LoadContent",e),e.element=w=null,x):void 0},save:function(e){var x,T,b=this,w=b.getElement();if(w&&b.initialized&&!b.removed)return(e=e||{}).save=!0,e.element=w,e.content=b.getContent(e),e.no_events||b.fire("SaveContent",e),"raw"==e.format&&b.fire("RawSaveContent",e),x=e.content,/TEXTAREA|INPUT/i.test(w.nodeName)?w.value=x:(b.inline||(w.innerHTML=x),(T=C.getParent(b.id,"form"))&&v(T.elements,function(N){if(N.name==b.id)return N.value=x,!1})),e.element=w=null,!1!==e.set_dirty&&b.setDirty(!1),x},setContent:function(e,b){var T,N,w=this,x=w.getBody();return(b=b||{}).format=b.format||"html",b.set=!0,b.content=e,b.no_events||w.fire("BeforeSetContent",b),0===(e=b.content).length||/^\s+$/.test(e)?(N=o&&o<11?"":'<br data-mce-bogus="1">',"TABLE"==x.nodeName?e="<tr><td>"+N+"</td></tr>":/^(UL|OL)$/.test(x.nodeName)&&(e="<li>"+N+"</li>"),(T=w.settings.forced_root_block)&&w.schema.isValidChild(x.nodeName.toLowerCase(),T.toLowerCase())?e=w.dom.createHTML(T,w.settings.forced_root_block_attrs,e=N):!o&&!e&&(e='<br data-mce-bogus="1">'),w.dom.setHTML(x,e),w.fire("SetContent",b)):("raw"!==b.format&&(e=new r({validate:w.validate},w.schema).serialize(w.parser.parse(e,{isRootContent:!0}))),b.content=l(e),w.dom.setHTML(x,b.content),b.no_events||w.fire("SetContent",b)),b.content},getContent:function(e){var w,b=this,x=b.getBody();return b.removed?"":((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||b.fire("BeforeGetContent",e),w="raw"==e.format?c.trim(b.serializer.getTrimmedContent()):"text"==e.format?x.innerText||x.textContent:b.serializer.serialize(x,e),e.content="text"!=e.format?l(w):w,e.no_events||b.fire("GetContent",e),e.content)},insertContent:function(e,b){b&&(e=p({content:e},b)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var b=!this.isNotDirty;this.isNotDirty=!e,e&&e!=b&&this.fire("dirty")},setMode:function(e){a.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=C.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=C.get(this.id)),this.targetElm},getWin:function(){var b,e=this;return e.contentWindow||(b=e.iframeElement)&&(e.contentWindow=b.contentWindow),e.contentWindow},getDoc:function(){var b,e=this;return e.contentDocument||(b=e.getWin())&&(e.contentDocument=b.document),e.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,b,w){var x=this,T=x.settings;return T.urlconverter_callback?x.execCallback("urlconverter_callback",e,w,!0,b):!T.convert_urls||w&&"LINK"==w.nodeName||0===e.indexOf("file:")||0===e.length?e:T.relative_urls?x.documentBaseURI.toRelative(e):e=x.documentBaseURI.toAbsolute(e,T.remove_script_host)},addVisual:function(e){var T,b=this,w=b.settings,x=b.dom;e=e||b.getBody(),void 0===b.hasVisual&&(b.hasVisual=w.visual),v(x.select("table,a",e),function(N){var _;switch(N.nodeName){case"TABLE":return T=w.visual_table_class||"mce-item-table",void((_=x.getAttrib(N,"border"))&&"0"!=_||!b.hasVisual?x.removeClass(N,T):x.addClass(N,T));case"A":return void(x.getAttrib(N,"href",!1)||(_=x.getAttrib(N,"name")||N.id,T=w.visual_anchor_class||"mce-item-anchor",_&&b.hasVisual?x.addClass(N,T):x.removeClass(N,T)))}}),b.fire("VisualAid",{element:e,hasVisual:b.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&C.remove(e.getElement().nextSibling),e.inline||(o&&o<10&&e.getDoc().execCommand("SelectAll",!1,null),C.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),C.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var w,b=this;if(!b.destroyed){if(!e&&!b.removed)return void b.remove();e||(b.editorManager.off("beforeunload",b._beforeUnload),b.theme&&b.theme.destroy&&b.theme.destroy(),b.selection.destroy(),b.dom.destroy()),(w=b.formElement)&&(w._mceOldSubmit&&(w.submit=w._mceOldSubmit,w._mceOldSubmit=null),C.unbind(w,"submit reset",b.formEventDelegate)),b.contentAreaContainer=b.formElement=b.container=b.editorContainer=null,b.bodyElement=b.contentDocument=b.contentWindow=null,b.iframeElement=b.targetElm=null,b.selection&&(b.selection=b.selection.win=b.selection.dom=b.selection.dom.doc=null),b.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},p(E.prototype,t),E}),V("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(S){"use strict";var y={},h="en";return{setCode:function(s){s&&(h=s,this.rtl=!!this.data[s]&&"rtl"===this.data[s]._dir)},getCode:function(){return h},rtl:!1,add:function(s,t){var m=y[s];for(var r in m||(y[s]=m={}),t)m[r]=t[r];this.setCode(s)},translate:function(s){var t=y[h]||{};function m(d){return S.is(d,"function")?Object.prototype.toString.call(d):r(d)?"":""+d}function r(d){return""===d||null===d||S.is(d,"undefined")}function u(d){return d=m(d),S.hasOwn(t,d)?m(t[d]):d}if(r(s))return"";if(S.is(s,"object")&&S.hasOwn(s,"raw"))return m(s.raw);if(S.is(s,"array")){var a=s.slice(1);s=u(s[0]).replace(/\{([0-9]+)\}/g,function(d,i){return S.hasOwn(a,i)?m(a[i]):d})}return u(s).replace(/{context:\w+}$/,"")},data:y}}),V("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay","tinymce.core.Env"],function(S,y,h){var s,t,m,r=S.DOM,u=function(c,g){var k=c?c.settings.custom_ui_selector:"";return null!==r.getParent(g,function(p){return i.isEditorUIElement(p)||!!k&&c.dom.is(p,k)})};function i(c){function g(){try{return document.activeElement}catch(l){return document.body}}c.on("AddEditor",function p(l){var f=l.editor;f.on("init",function(){(f.inline||h.ie)&&("onbeforedeactivate"in document&&h.ie<9?f.dom.bind(f.getBody(),"beforedeactivate",function(n){if(n.target==f.getBody())try{f.lastRng=f.selection.getRng()}catch(o){}}):f.on("nodechange mouseup keyup",function(n){var o=g();"nodechange"==n.type&&n.selectionChange||(o&&o.id==f.id+"_ifr"&&(o=f.getBody()),f.dom.isChildOf(o,f.getBody())&&(f.lastRng=f.selection.getRng()))}),h.webkit&&!s&&(s=function(){var n=c.activeEditor;if(n&&n.selection){var o=n.selection.getRng();o&&!o.collapsed&&(f.lastRng=o)}},r.bind(document,"selectionchange",s)))}),f.on("setcontent",function(){f.lastRng=null}),f.on("mousedown",function(){f.selection.lastFocusBookmark=null}),f.on("focusin",function(){var o,n=c.focusedEditor;f.selection.lastFocusBookmark&&(o=function C(l,f){var n;return f.startContainer?((n=l.getDoc().createRange()).setStart(f.startContainer,f.startOffset),n.setEnd(f.endContainer,f.endOffset)):n=f,n}(f,f.selection.lastFocusBookmark),f.selection.lastFocusBookmark=null,f.selection.setRng(o)),n!=f&&(n&&n.fire("blur",{focusedEditor:f}),c.setActive(f),c.focusedEditor=f,f.fire("focus",{blurredEditor:n}),f.focus(!0)),f.lastRng=null}),f.on("focusout",function(){y.setEditorTimeout(f,function(){var n=c.focusedEditor;!u(f,g())&&n==f&&(f.fire("blur",{focusedEditor:null}),c.focusedEditor=null,f.selection&&(f.selection.lastFocusBookmark=null))})}),t||(t=function(n){var E,o=c.activeEditor;E=n.target,o&&E.ownerDocument===document&&(o.selection&&E!==o.getBody()&&function(c,g){return!1===function(c){return!0===c.inline}(c)||!1===c.dom.isChildOf(g,c.getBody())}(f,E)&&(o.selection.lastFocusBookmark=function k(l,f){return f&&f.startContainer?l.isChildOf(f.startContainer,l.getRoot())&&l.isChildOf(f.endContainer,l.getRoot())?{startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset}:void 0:f}(o.dom,o.lastRng)),E!==document.body&&!u(o,E)&&c.focusedEditor===o&&(o.fire("blur",{focusedEditor:null}),c.focusedEditor=null))},r.bind(document,"focusin",t)),f.inline&&!m&&(m=function(n){var o=c.activeEditor,E=o.dom;if(o.inline&&E&&!E.isChildOf(n.target,o.getBody())){var e=o.selection.getRng();e.collapsed||(o.lastRng=e)}},r.bind(document,"mouseup",m))}),c.on("RemoveEditor",function v(l){c.focusedEditor==l.editor&&(c.focusedEditor=null),c.activeEditor||(r.unbind(document,"selectionchange",s),r.unbind(document,"focusin",t),r.unbind(document,"mouseup",m),s=t=m=null)})}return i.isEditorUIElement=function(c){return-1!==c.className.toString().indexOf("mce-")},i._isUIElement=u,i}),V("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],function(S){var y=S.each,h=S.explode;return{register:function(t){t.on("AddEditor",function(m){var r=m.editor;r.on("preInit",function(){var u,a,d,i=r.settings;function c(k,C){y(C,function(p,v){p&&d.setStyle(k,v,p)}),d.rename(k,"span")}i.inline_styles&&(a=h(i.font_size_legacy_values),u={font:function(k,C){c(C,{backgroundColor:C.style.backgroundColor,color:C.color,fontFamily:C.face,fontSize:a[parseInt(C.size,10)-1]})},u:function(k,C){"html4"===r.settings.schema&&c(C,{textDecoration:"underline"})},strike:function(k,C){c(C,{textDecoration:"line-through"})}},r.on("PreProcess SetContent",function g(k){d=r.dom,i.convert_fonts_to_spans&&y(d.select("font,u,strike",k.node),function(C){u[C.nodeName.toLowerCase()](d,C)})}))})})}}}),V("tinymce.core.EditorManager",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.FocusManager","tinymce.core.LegacyInput","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(S,y,h,s,t,m,r,u,a,d,i,c,g){var f,n,k=h.DOM,C=c.explode,p=c.each,v=c.extend,l=0,o=!1;function E(x){p(n.editors,function(T){T.fire("scroll"===x.type?"ScrollWindow":"ResizeWindow",x)})}function e(x,T){T!==o&&(T?y(window).on("resize scroll",E):y(window).off("resize scroll",E),o=T)}function b(x){var N,T=n.editors;delete T[x.id];for(var _=0;_<T.length;_++)if(T[_]==x){T.splice(_,1),N=!0;break}return n.activeEditor==x&&(n.activeEditor=T[0]),n.focusedEditor==x&&(n.focusedEditor=null),N}return n={$:y,majorVersion:"4",minorVersion:"6.3",releaseDate:"2017-05-30",editors:[],i18n:a,activeEditor:null,setup:function(){var T,N,A,F,x=this,_="";if(N=g.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(N)&&(N=N.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(N)||(N+="/")),A=window.tinymce||window.tinyMCEPreInit)T=A.base||A.baseURL,_=A.suffix;else{for(var O=document.getElementsByTagName("script"),R=0;R<O.length;R++){var M=(F=O[R].src).substring(F.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(F)){-1!=M.indexOf(".min")&&(_=".min"),T=F.substring(0,F.lastIndexOf("/"));break}}!T&&document.currentScript&&(-1!=(F=document.currentScript.src).indexOf(".min")&&(_=".min"),T=F.substring(0,F.lastIndexOf("/")))}x.baseURL=new g(N).toAbsolute(T),x.documentBaseURL=N,x.baseURI=new g(x.baseURL),x.suffix=_,x.focusManager=new r(x)},overrideDefaults:function(x){var T;(T=x.base_url)&&(this.baseURL=new g(this.documentBaseURL).toAbsolute(T.replace(/\/+$/,"")),this.baseURI=new g(this.baseURL)),x.suffix&&(this.suffix=x.suffix),this.defaultSettings=x;var _=x.plugin_base_urls;for(var A in _)S.PluginManager.urls[A]=_[A]},init:function(x){var N,_,T=this;function F(B){var L=B.id;return L||(L=(L=B.name)&&!k.get(L)?B.name:k.uniqueId(),B.setAttribute("id",L)),L}function R(B,L){return L.constructor===RegExp?L.test(B.className):k.hasClass(B,L)}_=c.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var U=function(B){N=B};return T.settings=x,k.bind(window,"ready",function P(){var z,B=0,L=[];function q(ee,ue,ae){var ne=new s(ee,ue,T);L.push(ne),ne.on("init",function(){++B===z.length&&U(L)}),ne.targetElm=ne.targetElm||ae,ne.render()}k.unbind(window,"ready",P),function O(B){var L=x[B];if(L)L.apply(T,Array.prototype.slice.call(arguments,2))}("onpageload"),z=y.unique(function M(B){var L,z=[];if(t.ie&&t.ie<11)return m.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(B.types)return p(B.types,function(q){z=z.concat(k.select(q.selector))}),z;if(B.selector)return k.select(B.selector);if(B.target)return[B.target];switch(B.mode){case"exact":(L=B.elements||"").length>0&&p(C(L),function(q){var ee;(ee=k.get(q))?z.push(ee):p(document.forms,function(ue){p(ue.elements,function(ae){ae.name===q&&(q="mce_editor_"+l++,k.setAttrib(ae,"id",q),z.push(ae))})})});break;case"textareas":case"specific_textareas":p(k.select("textarea"),function(q){B.editor_deselector&&R(q,B.editor_deselector)||(!B.editor_selector||R(q,B.editor_selector))&&z.push(q)})}return z}(x)),x.types?p(x.types,function(ee){c.each(z,function(ue){return!k.is(ue,ee.selector)||(q(F(ue),v({},x,ee),ue),!1)})}):(c.each(z,function(ee){!function w(x){x&&x.initialized&&!(x.getContainer()||x.getBody()).parentNode&&(b(x),x.unbindAllNativeEvents(),x.destroy(!0),x.removed=!0,x=null)}(T.get(ee.id))}),0===(z=c.grep(z,function(ee){return!T.get(ee.id)})).length?U([]):p(z,function(ee){!function A(B,L){return B.inline&&L.tagName.toLowerCase()in _}(x,ee)?q(F(ee),x,ee):m.initError("Could not initialize inline editor on invalid inline target element",ee)}))}),new i(function(B){N?B(N):U=function(L){B(L)}})},get:function(x){return arguments.length?x in this.editors?this.editors[x]:null:this.editors},add:function(x){var T=this,N=T.editors;return N[x.id]=x,N.push(x),e(0,!0),T.activeEditor=x,T.fire("AddEditor",{editor:x}),f||(f=function(){T.fire("BeforeUnload")},k.bind(window,"beforeunload",f)),x},createEditor:function(x,T){return this.add(new s(x,T,this))},remove:function(x){var N,A,T=this,_=T.editors;if(x){if("string"!=typeof x)return _[(A=x).id]?(b(A)&&T.fire("RemoveEditor",{editor:A}),_.length||k.unbind(window,"beforeunload",f),A.remove(),e(0,_.length>0),A):null;p(k.select(x=x.selector||x),function(F){(A=_[F.id])&&T.remove(A)})}else for(N=_.length-1;N>=0;N--)T.remove(_[N])},execCommand:function(x,T,N){var _=this,A=_.get(N);switch(x){case"mceAddEditor":return _.get(N)||new s(N,_.settings,_).render(),!0;case"mceRemoveEditor":return A&&A.remove(),!0;case"mceToggleEditor":return A?(A.isHidden()?A.show():A.hide(),!0):(_.execCommand("mceAddEditor",0,N),!0)}return!!_.activeEditor&&_.activeEditor.execCommand(x,T,N)},triggerSave:function(){p(this.editors,function(x){x.save()})},addI18n:function(x,T){a.add(x,T)},translate:function(x){return a.translate(x)},setActive:function(x){var T=this.activeEditor;this.activeEditor!=x&&(T&&T.fire("deactivate",{relatedTarget:x}),x.fire("activate",{relatedTarget:T})),this.activeEditor=x}},v(n,d),n.setup(),u.register(n),n}),V("tinymce.core.util.XHR",["tinymce.core.util.Observable","tinymce.core.util.Tools"],function(S,y){var h={send:function(s){var t,m=0;function r(){!s.async||4==t.readyState||m++>1e4?(s.success&&m<1e4&&200==t.status?s.success.call(s.success_scope,""+t.responseText,t,s):s.error&&s.error.call(s.error_scope,m>1e4?"TIMED_OUT":"GENERAL",t,s),t=null):setTimeout(r,10)}if(s.scope=s.scope||this,s.success_scope=s.success_scope||s.scope,s.error_scope=s.error_scope||s.scope,s.async=!1!==s.async,s.data=s.data||"",h.fire("beforeInitialize",{settings:s}),t=new XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(s.content_type),t.open(s.type||(s.data?"POST":"GET"),s.url,s.async),s.crossDomain&&(t.withCredentials=!0),s.content_type&&t.setRequestHeader("Content-Type",s.content_type),s.requestheaders&&y.each(s.requestheaders,function(u){t.setRequestHeader(u.key,u.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=h.fire("beforeSend",{xhr:t,settings:s}).xhr).send(s.data),!s.async)return r();setTimeout(r,10)}}};return y.extend(h,S),h}),V("tinymce.core.util.JSON",[],function(){return{serialize:function S(y,h){var s,t,m,r;if(h=h||'"',null===y)return"null";if("string"==(m=typeof y))return t="\bb\tt\nn\ff\rr\"\"''\\\\",h+y.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(u,a){return'"'===h&&"'"===u?u:(s=t.indexOf(a))+1?"\\"+t.charAt(s+1):(u=a.charCodeAt().toString(16),"\\u"+"0000".substring(u.length)+u)})+h;if("object"==m){if(y.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(y)){for(s=0,t="[";s<y.length;s++)t+=(s>0?",":"")+S(y[s],h);return t+"]"}for(r in t="{",y)y.hasOwnProperty(r)&&(t+="function"!=typeof y[r]?(t.length>1?","+h:h)+r+h+":"+S(y[r],h):"");return t+"}"}return""+y},parse:function(y){try{return window[String.fromCharCode(101)+"val"]("("+y+")")}catch(h){}}}}),V("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(S,y,h){var s=h.extend;function t(m){this.settings=s({},m),this.count=0}return t.sendRPC=function(m){return(new t).send(m)},t.prototype={send:function(m){var r=m.error,u=m.success;(m=s(this.settings,m)).success=function(a,d){void 0===(a=S.parse(a))&&(a={error:"JSON Parse error."}),a.error?r.call(m.error_scope||m.scope,a.error,d):u.call(m.success_scope||m.scope,a.result)},m.error=function(a,d){r&&r.call(m.error_scope||m.scope,a,d)},m.data=S.serialize({id:m.id||"c"+this.count++,method:m.method,params:m.params}),m.content_type="application/json",y.send(m)}},t}),V("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(S){return{callbacks:{},count:0,send:function(y){var h=this,s=S.DOM,t=void 0!==y.count?y.count:h.count,m="tinymce_jsonp_"+t;h.callbacks[t]=function(r){s.remove(m),delete h.callbacks[t],y.callback(r)},s.add(s.doc.body,"script",{id:m,src:y.url,type:"text/javascript"}),h.count++}}}),V("tinymce.core.util.LocalStorage",[],function(){var S,y,h,s,t,m;try{if(window.localStorage)return localStorage}catch(d){}function r(){for(var d in s=[],h)s.push(d);S.length=s.length}function a(){var d,i="";if(m){for(var c in h)d=h[c],i+=(i?",":"")+c.length.toString(32)+","+c+","+d.length.toString(32)+","+d;y.setAttribute(t,i);try{y.save(t)}catch(g){}r()}}return t="tinymce",y=document.documentElement,(m=!!y.addBehavior)&&y.addBehavior("#default#userData"),S={key:function(d){return s[d]},getItem:function(d){return d in h?h[d]:null},setItem:function(d,i){h[d]=""+i,a()},removeItem:function(d){delete h[d],a()},clear:function(){h={},a()}},function u(){var d,i,c,g=0;if(h={},m){y.load(t),i=y.getAttribute(t)||"";do{var C=k();if(null===C)break;if(null!==(d=k(parseInt(C,32)||0))){if(null===(C=k()))break;c=k(parseInt(C,32)||0),d&&(h[d]=c)}}while(null!==d);r()}function k(p){var v,l;return-1===(l=void 0!==p?g+p:i.indexOf(",",g))||l>i.length?null:(v=i.substring(g,l),g=l+1,v)}}(),S}),V("tinymce.core.api.Compat",["tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.util.Tools","tinymce.core.Env"],function(S,y,h,s,t,m){return{register:function(u){u.DOM=S.DOM,u.ScriptLoader=h.ScriptLoader,u.PluginManager=s.PluginManager,u.ThemeManager=s.ThemeManager,u.dom=u.dom||{},u.dom.Event=y.Event,t.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(a){u[a]=t[a]}),t.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){u[a]=m[a.substr(2).toLowerCase()]})}}}),V("tinymce.core.util.Color",[],function(){var S=Math.min,y=Math.max,h=Math.round;return function s(t){var m=this,r=0,u=0,a=0;function C(p){var v;return"object"==typeof p?"r"in p?(r=p.r,u=p.g,a=p.b):"v"in p&&function i(p,v,l){var f,n,o,E;if(p=(parseInt(p,10)||0)%360,v=parseInt(v,10)/100,l=parseInt(l,10)/100,v=y(0,S(v,1)),l=y(0,S(l,1)),0!==v){switch(f=p/60,o=(n=l*v)*(1-Math.abs(f%2-1)),E=l-n,Math.floor(f)){case 0:r=n,u=o,a=0;break;case 1:r=o,u=n,a=0;break;case 2:r=0,u=n,a=o;break;case 3:r=0,u=o,a=n;break;case 4:r=o,u=0,a=n;break;case 5:r=n,u=0,a=o;break;default:r=u=a=0}r=h(255*(r+E)),u=h(255*(u+E)),a=h(255*(a+E))}else r=u=a=h(255*l)}(p.h,p.s,p.v):(v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(p))?(r=parseInt(v[1],10),u=parseInt(v[2],10),a=parseInt(v[3],10)):(v=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(p))?(r=parseInt(v[1],16),u=parseInt(v[2],16),a=parseInt(v[3],16)):(v=/#([0-F])([0-F])([0-F])/gi.exec(p))&&(r=parseInt(v[1]+v[1],16),u=parseInt(v[2]+v[2],16),a=parseInt(v[3]+v[3],16)),r=r<0?0:r>255?255:r,u=u<0?0:u>255?255:u,a=a<0?0:a>255?255:a,m}t&&C(t),m.toRgb=function g(){return{r,g:u,b:a}},m.toHsv=function k(){return function d(p,v,l){var n,o,e,b;return n=0,o=0,(e=S(p/=255,S(v/=255,l/=255)))==(b=y(p,y(v,l)))?{h:0,s:0,v:100*(o=e)}:(n=(b-e)/b,o=b,{h:h(60*((p==e?3:l==e?1:5)-(p==e?v-l:l==e?p-v:l-p)/(b-e))),s:h(100*n),v:h(100*o)})}(r,u,a)},m.toHex=function c(){function p(v){return(v=parseInt(v,10).toString(16)).length>1?v:"0"+v}return"#"+p(r)+p(u)+p(a)},m.parse=C}}),V("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(S,y){"use strict";return S.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(h){this.settings=y.extend({},this.Defaults,h)},preRender:function(h){h.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var m,r,u,a,t=this.settings;m=t.firstControlClass,r=t.lastControlClass,h.each(function(d){d.classes.remove(m).remove(r).add(t.controlClass),d.visible()&&(u||(u=d),a=d)}),u&&u.classes.add(m),a&&a.classes.add(r)},renderHtml:function(h){var t="";return this.applyClasses(h.items()),h.items().each(function(m){t+=m.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),V("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],function(S){"use strict";return S.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(y){y.items().filter(":visible").each(function(h){var s=h.settings;h.layoutRect({x:s.x,y:s.y,w:s.w,h:s.h}),h.recalc&&h.recalc()})},renderHtml:function(y){return'<div id="'+y._id+'-absend" class="'+y.classPrefix+'abs-end"></div>'+this._super(y)}})}),V("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{classes:"widget btn",role:"button"},init:function(y){var s,h=this;h._super(y),y=h.settings,s=h.settings.size,h.on("click mousedown",function(t){t.preventDefault()}),h.on("touchstart",function(t){h.fire("click",t),t.preventDefault()}),y.subtype&&h.classes.add(y.subtype),s&&h.classes.add("btn-"+s),y.icon&&h.icon(y.icon)},icon:function(y){return arguments.length?(this.state.set("icon",y),this):this.state.get("icon")},repaint:function(){var h,y=this.getEl().firstChild;y&&((h=y.style).width=h.height="100%"),this._super()},renderHtml:function(){var m,y=this,h=y._id,s=y.classPrefix,t=y.state.get("icon"),r=y.state.get("text"),u="";return(m=y.settings.image)?(t="none","string"!=typeof m&&(m=window.getSelection?m[0]:m[1]),m=" style=\"background-image: url('"+m+"')\""):m="",r&&(y.classes.add("btn-has-text"),u='<span class="'+s+'txt">'+y.encode(r)+"</span>"),'<div id="'+h+'" class="'+y.classes+'" tabindex="-1"><button role="presentation" type="button" tabindex="-1">'+((t=t?s+"ico "+s+"i-"+t:"")?'<i class="'+t+'"'+m+"></i>":"")+u+"</button></div>"},bindStates:function(){var y=this,h=y.$,s=y.classPrefix+"txt";function t(m){var r=h("span."+s,y.getEl());m?(r[0]||(h("button:first",y.getEl()).append('<span class="'+s+'"></span>'),r=h("span."+s,y.getEl())),r.html(y.encode(m))):r.remove(),y.classes.toggle("btn-has-text",!!m)}return y.state.on("change:text",function(m){t(m.value)}),y.state.on("change:icon",function(m){var r=m.value,u=y.classPrefix;y.settings.icon=r,r=r?u+"ico "+u+"i-"+y.settings.icon:"";var a=y.getEl().firstChild,d=a.getElementsByTagName("i")[0];r?((!d||d!=a.firstChild)&&(d=document.createElement("i"),a.insertBefore(d,a.firstChild)),d.className=r):d&&a.removeChild(d),t(y.state.get("text"))}),y._super()}})}),V("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var y=this,h=y._layout;return y.classes.add("btn-group"),y.preRender(),h.preRender(y),'<div id="'+y._id+'" class="'+y.classes+'"><div id="'+y._id+'-body">'+(y.settings.html||"")+h.renderHtml(y)+"</div></div>"}})}),V("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(y){var h=this;h._super(y),h.on("click mousedown",function(s){s.preventDefault()}),h.on("click",function(s){s.preventDefault(),h.disabled()||h.checked(!h.checked())}),h.checked(h.settings.checked)},checked:function(y){return arguments.length?(this.state.set("checked",y),this):this.state.get("checked")},value:function(y){return arguments.length?this.checked(y):this.checked()},renderHtml:function(){var y=this,h=y._id,s=y.classPrefix;return'<div id="'+h+'" class="'+y.classes+'" unselectable="on" aria-labelledby="'+h+'-al" tabindex="-1"><i class="'+s+"ico "+s+'i-checkbox"></i><span id="'+h+'-al" class="'+s+'label">'+y.encode(y.state.get("text"))+"</span></div>"},bindStates:function(){var y=this;function h(s){y.classes.toggle("checked",s),y.aria("checked",s)}return y.state.on("change:text",function(s){y.getEl("al").firstChild.data=y.translate(s.value)}),y.state.on("change:checked change:value",function(s){y.fire("change"),h(s.value)}),y.state.on("change:icon",function(s){var t=s.value,m=y.classPrefix;if(void 0===t)return y.settings.icon;y.settings.icon=t,t=t?m+"ico "+m+"i-"+y.settings.icon:"";var r=y.getEl().firstChild,u=r.getElementsByTagName("i")[0];t?((!u||u!=r.firstChild)&&(u=document.createElement("i"),r.insertBefore(u,r.firstChild)),u.className=t):u&&r.removeChild(u)}),y.state.get("checked")&&h(!0),y._super()}})}),V("tinymce.core.ui.ComboBox",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.VK","tinymce.core.util.Tools"],function(S,y,h,s,t,m){"use strict";return S.extend({init:function(r){var u=this;u._super(r),r=u.settings,u.classes.add("combobox"),u.subinput=!0,u.ariaTarget="inp",r.menu=r.menu||r.values,r.menu&&(r.icon="caret"),u.on("click",function(a){var d=a.target,i=u.getEl();if(s.contains(i,d)||d==i)for(;d&&d!=i;)d.id&&-1!=d.id.indexOf("-open")&&(u.fire("action"),r.menu&&(u.showMenu(),a.aria&&u.menu.items()[0].focus())),d=d.parentNode}),u.on("keydown",function(a){var d;13==a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),u.parents().reverse().each(function(i){if(i.toJSON)return d=i,!1}),u.fire("submit",{data:d.toJSON()}))}),u.on("keyup",function(a){if("INPUT"==a.target.nodeName){var d=u.state.get("value"),i=a.target.value;i!==d&&(u.state.set("value",i),u.fire("autocomplete",a))}}),u.on("mouseover",function(a){var d=u.tooltip().moveTo(-65535);if(u.statusLevel()&&-1!==a.target.className.indexOf(u.classPrefix+"status")){var i=u.statusMessage()||"Ok",c=d.text(i).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);d.classes.toggle("tooltip-n","bc-tc"==c),d.classes.toggle("tooltip-nw","bc-tl"==c),d.classes.toggle("tooltip-ne","bc-tr"==c),d.moveRel(a.target,c)}})},statusLevel:function(r){return arguments.length>0&&this.state.set("statusLevel",r),this.state.get("statusLevel")},statusMessage:function(r){return arguments.length>0&&this.state.set("statusMessage",r),this.state.get("statusMessage")},showMenu:function(){var a,r=this;r.menu||((a=r.settings.menu||[]).length?a={type:"menu",items:a}:a.type=a.type||"menu",r.menu=y.create(a).parent(r).renderTo(r.getContainerElm()),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(d){d.control===r.menu&&r.focus()}),r.menu.on("show hide",function(d){d.control.items().each(function(i){i.active(i.value()==r.value())})}).fire("show"),r.menu.on("select",function(d){r.value(d.control.value())}),r.on("focusin",function(d){"INPUT"==d.target.tagName.toUpperCase()&&r.menu.hide()}),r.aria("expanded",!0)),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var i,c,r=this,u=r.getEl(),a=r.getEl("open"),d=r.layoutRect(),g=0,k=u.firstChild;r.statusLevel()&&"none"!==r.statusLevel()&&(g=parseInt(h.getRuntimeStyle(k,"padding-right"),10)-parseInt(h.getRuntimeStyle(k,"padding-left"),10)),i=a?d.w-h.getSize(a).width-10:d.w-10;var C=document;return C.all&&(!C.documentMode||C.documentMode<=8)&&(c=r.layoutRect().h-2+"px"),s(k).css({width:i-g,lineHeight:c}),r._super(),r},postRender:function(){var r=this;return s(this.getEl("inp")).on("change",function(u){r.state.set("value",u.target.value),r.fire("change",u)}),r._super()},renderHtml:function(){var c,g,p,r=this,u=r._id,a=r.settings,d=r.classPrefix,i=r.state.get("value")||"",k="",C="";return"spellcheck"in a&&(C+=' spellcheck="'+a.spellcheck+'"'),a.maxLength&&(C+=' maxlength="'+a.maxLength+'"'),a.size&&(C+=' size="'+a.size+'"'),a.subtype&&(C+=' type="'+a.subtype+'"'),p='<i id="'+u+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(C+=' disabled="disabled"'),(c=a.icon)&&"caret"!=c&&(c=d+"ico "+d+"i-"+a.icon),g=r.state.get("text"),(c||g)&&(k='<div id="'+u+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+u+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=c?'<i class="'+c+'"></i>':'<i class="'+d+'caret"></i>')+(g?(c?" ":"")+g:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+u+'" class="'+r.classes+'"><input id="'+u+'-inp" class="'+d+'textbox" value="'+r.encode(i,!1)+'" hidefocus="1"'+C+' placeholder="'+r.encode(a.placeholder)+'" />'+p+k+"</div>"},value:function(r){return arguments.length?(this.state.set("value",r),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(r,u){var a=this;if(0!==r.length){var d=function(c,g){return function(){a.fire("selectitem",{title:g,value:c})}};a.menu?a.menu.items().remove():a.menu=y.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(a).renderTo(),m.each(r,function(c){a.menu.add({text:c.title,url:c.previewUrl,match:u,classes:"menu-item-ellipsis",onclick:d(c.value,c.title)})}),a.menu.renderNew(),a.hideMenu(),a.menu.on("cancel",function(c){c.control.parent()===a.menu&&(c.stopPropagation(),a.focus(),a.hideMenu())}),a.menu.on("select",function(){a.focus()});var i=a.layoutRect().w;a.menu.layoutRect({w:i,minW:0,maxW:i}),a.menu.reflow(),a.menu.show(),a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else a.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var r=this;r.state.on("change:value",function(a){r.getEl("inp").value!=a.value&&(r.getEl("inp").value=a.value)}),r.state.on("change:disabled",function(a){r.getEl("inp").disabled=a.value}),r.state.on("change:statusLevel",function(a){var d=r.getEl("status"),i=r.classPrefix,c=a.value;h.css(d,"display","none"===c?"none":""),h.toggleClass(d,i+"i-checkmark","ok"===c),h.toggleClass(d,i+"i-warning","warn"===c),h.toggleClass(d,i+"i-error","error"===c),r.classes.toggle("has-status","none"!==c),r.repaint()}),h.on(r.getEl("status"),"mouseleave",function(){r.tooltip().hide()}),r.on("cancel",function(a){r.menu&&r.menu.visible()&&(a.stopPropagation(),r.hideMenu())});var u=function(a,d){d&&d.items().length>0&&d.items().eq(a)[0].focus()};return r.on("keydown",function(a){var d=a.keyCode;"INPUT"===a.target.nodeName&&(d===t.DOWN?(a.preventDefault(),r.fire("autocomplete"),u(0,r.menu)):d===t.UP&&(a.preventDefault(),u(-1,r.menu)))}),r._super()},remove:function(){s(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),V("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],function(S){"use strict";return S.extend({init:function(y){var h=this;y.spellcheck=!1,y.onaction&&(y.icon="none"),h._super(y),h.classes.add("colorbox"),h.on("change keyup postrender",function(){h.repaintColor(h.value())})},repaintColor:function(y){var h=this.getEl("open"),s=h?h.getElementsByTagName("i")[0]:null;if(s)try{s.style.background=y}catch(t){}},bindStates:function(){var y=this;return y.state.on("change:value",function(h){y.state.get("rendered")&&y.repaintColor(h.value)}),y._super()}})}),V("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],function(S,y){"use strict";return S.extend({showPanel:function(){var h=this,s=h.settings;if(h.active(!0),h.panel)h.panel.show();else{var t=s.panel;t.type&&(t={layout:"grid",items:t}),t.role=t.role||"dialog",t.popover=!0,t.autohide=!0,t.ariaRoot=!0,h.panel=new y(t).on("hide",function(){h.active(!1)}).on("cancel",function(m){m.stopPropagation(),h.focus(),h.hidePanel()}).parent(h).renderTo(h.getContainerElm()),h.panel.fire("show"),h.panel.reflow()}h.panel.moveRel(h.getEl(),s.popoverAlign||(h.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var h=this;return h.aria("haspopup",!0),h.on("click",function(s){s.control===h&&(h.panel&&h.panel.visible()?h.hidePanel():(h.showPanel(),h.panel.focus(!!s.aria)))}),h._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),V("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(S,y){"use strict";var h=y.DOM;return S.extend({init:function(s){this._super(s),this.classes.add("colorbutton")},color:function(s){return s?(this._color=s,this.getEl("preview").style.backgroundColor=s,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var s=this,t=s._id,m=s.classPrefix,r=s.state.get("text"),u=s.settings.icon?m+"ico "+m+"i-"+s.settings.icon:"",a=s.settings.image?" style=\"background-image: url('"+s.settings.image+"')\"":"",d="";return r&&(s.classes.add("btn-has-text"),d='<span class="'+m+'txt">'+s.encode(r)+"</span>"),'<div id="'+t+'" class="'+s.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(u?'<i class="'+u+'"'+a+"></i>":"")+'<span id="'+t+'-preview" class="'+m+'preview"></span>'+d+'</button><button type="button" class="'+m+'open" hidefocus="1" tabindex="-1"> <i class="'+m+'caret"></i></button></div>'},postRender:function(){var s=this,t=s.settings.onclick;return s.on("click",function(m){m.aria&&"down"==m.aria.key||m.control==s&&!h.getParent(m.target,"."+s.classPrefix+"open")&&(m.stopImmediatePropagation(),t.call(s,m))}),delete s.settings.onclick,s._super()}})}),V("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],function(S,y,h,s){"use strict";return S.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){var r,u,a,d,i,t=this,m=t.color();function c(p,v){var f,n,l=h.getPos(p);return f=v.pageX-l.x,n=v.pageY-l.y,{x:f=Math.max(0,Math.min(f/p.clientWidth,1)),y:n=Math.max(0,Math.min(n/p.clientHeight,1))}}function g(p,v){h.css(a,{top:(360-p.h)/360*100+"%"}),v||h.css(i,{left:p.s+"%",top:100-p.v+"%"}),d.style.background=new s({s:100,v:100,h:p.h}).toHex(),t.color().parse({s:p.s,v:p.v,h:p.h})}function k(p){var v;v=c(d,p),r.s=100*v.x,r.v=100*(1-v.y),g(r),t.fire("change")}function C(p){var v;v=c(u,p),(r=m.toHsv()).h=360*(1-v.y),g(r,!0),t.fire("change")}u=t.getEl("h"),a=t.getEl("hp"),d=t.getEl("sv"),i=t.getEl("svp"),t._repaint=function(){g(r=m.toHsv())},t._super(),t._svdraghelper=new y(t._id+"-sv",{start:k,drag:k}),t._hdraghelper=new y(t._id+"-h",{start:C,drag:C}),t._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var m=this;if(!arguments.length)return m.color().toHex();m.color().parse(t),m._rendered&&m._repaint()},color:function(){return this._color||(this._color=new s),this._color},renderHtml:function(){var u,t=this,m=t._id,r=t.classPrefix;return u='<div id="'+m+'-h" class="'+r+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+function d(){var c,g,C,p,k="";for(C="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",c=0,g=(p="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000".split(",")).length-1;c<g;c++)k+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/g+"%;"+C+p[c]+",endColorstr="+p[c+1]+");-ms-"+C+p[c]+",endColorstr="+p[c+1]+')"></div>';return k}()+'<div id="'+m+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+t.classes+'"><div id="'+m+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+u+"</div>"}})}),V("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({init:function(y){var h=this;y.delimiter||(y.delimiter="\xbb"),h._super(y),h.classes.add("path"),h.canFocus=!0,h.on("click",function(s){var t;(t=s.target.getAttribute("data-index"))&&h.fire("select",{value:h.row()[t],index:t})}),h.row(h.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(y){return arguments.length?(this.state.set("row",y),this):this.state.get("row")},renderHtml:function(){var y=this;return'<div id="'+y._id+'" class="'+y.classes+'">'+y._getDataPathHtml(y.state.get("row"))+"</div>"},bindStates:function(){var y=this;return y.state.on("change:row",function(h){y.innerHtml(y._getDataPathHtml(h.value))}),y._super()},_getDataPathHtml:function(y){var t,m,h=this,s=y||[],r="",u=h.classPrefix;for(t=0,m=s.length;t<m;t++)r+=(t>0?'<div class="'+u+'divider" aria-hidden="true"> '+h.settings.delimiter+" </div>":"")+'<div role="button" class="'+u+"path-item"+(t==m-1?" "+u+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+h._id+"-"+t+'" aria-level="'+(t+1)+'">'+s[t].name+"</div>";return r||(r='<div class="'+u+'path-item">\xa0</div>'),r}})}),V("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],function(S){return S.extend({postRender:function(){var y=this,h=y.settings.editor;function s(t){return 1===t.nodeType&&("BR"==t.nodeName||!!t.getAttribute("data-mce-bogus")||"bookmark"===t.getAttribute("data-mce-type"))}return!1!==h.settings.elementpath&&(y.on("select",function(t){h.focus(),h.selection.select(this.row()[t.index].element),h.nodeChanged()}),h.on("nodeChange",function(t){for(var m=[],r=t.parents,u=r.length;u--;)if(1==r[u].nodeType&&!s(r[u])){var a=h.fire("ResolveName",{name:r[u].nodeName.toLowerCase(),target:r[u]});if(a.isDefaultPrevented()||m.push({name:a.name,element:r[u]}),a.isPropagationStopped())break}y.row(m)})),y._super()}})}),V("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var y=this,h=y._layout,s=y.classPrefix;return y.classes.add("formitem"),h.preRender(y),'<div id="'+y._id+'" class="'+y.classes+'" hidefocus="1" tabindex="-1">'+(y.settings.title?'<div id="'+y._id+'-title" class="'+s+'title">'+y.settings.title+"</div>":"")+'<div id="'+y._id+'-body" class="'+y.bodyClasses+'">'+(y.settings.html||"")+h.renderHtml(y)+"</div></div>"}})}),V("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],function(S,y,h){"use strict";return S.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var s=this,t=s.items();s.settings.formItemDefaults||(s.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(m){var r,u=m.settings.label;u&&((r=new y(h.extend({items:{type:"label",id:m._id+"-l",text:u,flex:0,forId:m._id,disabled:m.disabled()}},s.settings.formItemDefaults))).type="formitem",m.aria("labelledby",m._id+"-l"),void 0===m.settings.flex&&(m.settings.flex=1),s.replace(m,r),r.add(m))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var s=this;s._super(),s.fromJSON(s.settings.data)},bindStates:function(){var s=this;function t(){var u,a,m=0,r=[];if(!1!==s.settings.labelGapCalc)for(("children"==s.settings.labelGapCalc?s.find("formitem"):s.items()).filter("formitem").each(function(i){var c=i.items()[0],g=c.getEl().clientWidth;m=g>m?g:m,r.push(c)}),a=s.settings.labelGap||0,u=r.length;u--;)r[u].settings.minWidth=m+a}s._super(),s.on("show",t),t()}})}),V("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],function(S){"use strict";return S.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var y=this,h=y._layout,s=y.classPrefix;return y.preRender(),h.preRender(y),'<fieldset id="'+y._id+'" class="'+y.classes+'" hidefocus="1" tabindex="-1">'+(y.settings.title?'<legend id="'+y._id+'-title" class="'+s+'fieldset-title">'+y.settings.title+"</legend>":"")+'<div id="'+y._id+'-body" class="'+y.bodyClasses+'">'+(y.settings.html||"")+h.renderHtml(y)+"</div></fieldset>"}})}),V("tinymce.core.content.LinkTargets",["tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(S,y,h,s,t,m){var r=t.trim,u=function(x,T,N,_,A){return{type:x,title:T,url:N,level:_,attach:A}},i=function(x){return x.innerText||x.textContent},k=function(x){return function(x){return x&&"A"===x.nodeName&&(x.id||x.name)}(x)&&p(x)},C=function(x){return x&&/^(H[1-6])$/.test(x.nodeName)},p=function(x){return function(x){for(;x=x.parentNode;){var T=x.contentEditable;if(T&&"inherit"!==T)return y.isContentEditableTrue(x)}return!1}(x)&&!y.isContentEditableFalse(x)},v=function(x){return C(x)&&p(x)},f=function(x){var T=function(x){return x.id?x.id:m.uuid("h")}(x);return u("header",i(x),"#"+T,function(x){return C(x)?parseInt(x.nodeName.substr(1),10):0}(x),function(){x.id=T})},n=function(x){var T=x.id||x.name,N=i(x);return u("anchor",N||"#"+T,"#"+T,0,s.noop)},b=function(x){return r(x.title).length>0};return{find:function(x){var T=function(x){return function(x,T){return S.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",T)}(0,x)}(x);return h.filter(function(x){return h.map(h.filter(x,v),f)}(T).concat(function(x){return h.map(h.filter(x,k),n)}(T)),b)}}}),V("tinymce.core.ui.FilePicker",["global!window","tinymce.core.content.LinkTargets","tinymce.core.EditorManager","tinymce.core.ui.ComboBox","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(S,y,h,s,t,m,r){"use strict";var a={},i=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},g=function(e,b){return{title:e,value:{title:e,url:b,attach:m.noop}}},C=function(e,b,w){var x=b in e?e[b]:w;return!1===x?null:x},l=function(e,b){var w=e.toLowerCase(),x=r.grep(b,function(T){return-1!==T.title.toLowerCase().indexOf(w)});return 1===x.length&&x[0].title===e?[]:x},n=function(e,b,w,x){var T=function(N){var A=function(e,b,w,x){var O,R,M,T={title:"-"},N=function(O){var R=t.filter(O[w],function(M){return function(e,b){return!t.find(b,function(x){return x.url===e})}(M,b)});return r.map(R,function(M){return{title:M,value:{title:M,url:M,attach:m.noop}}})},_=function(O){return function(e){return r.map(e,i)}(t.filter(b,function(M){return M.type==O}))};return!1===x.typeahead_urls?[]:"file"===w?function(O){return t.reduce(O,function(R,M){return 0===R.length||0===M.length?R.concat(M):R.concat(T,M)},[])}([l(e,N(a)),l(e,_("header")),l(e,(O=_("anchor"),R=C(x,"anchor_top","#top"),M=C(x,"anchor_bottom","#bottom"),null!==R&&O.unshift(g("<top>",R)),null!==M&&O.push(g("<bottom>",M)),O))]):l(e,N(a))}(N,y.find(w),x,b);e.showAutoComplete(A,N)};e.on("autocomplete",function(){T(e.value())}),e.on("selectitem",function(N){var _=N.value;e.value(_.url);var A=function(e){var b=e.title;return b.raw?b.raw:b}(_);e.fire("change","image"===x?{meta:{alt:A,attach:_.attach}}:{meta:{text:A,attach:_.attach}}),e.focus()}),e.on("click",function(N){0===e.value().length&&"INPUT"===N.target.nodeName&&T("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(N){N.isDefaultPrevented()||function(e,b){var w=a[b];!/^https?/.test(e)||(w?-1===t.indexOf(w,e)&&(a[b]=w.slice(0,5).concat(e)):a[b]=[e])}(e.value(),x)})})};return s.extend({init:function(e){var T,N,_,b=this,w=S.tinymce?S.tinymce.activeEditor:h.activeEditor,x=w.settings,A=e.filetype;e.spellcheck=!1,(_=x.file_picker_types||x.file_browser_callback_types)&&(_=r.makeMap(_,/[, ]/)),(!_||_[A])&&(!(N=x.file_picker_callback)||_&&!_[A]?(N=x.file_browser_callback)&&(!_||_[A])&&(T=function(){N(b.getEl("inp").id,b.value(),A,S)}):T=function(){var F=b.fire("beforecall").meta;F=r.extend({filetype:A},F),N.call(w,function(O,R){b.value(O).fire("change",{meta:R})},b.value(),F)}),T&&(e.icon="browse",e.onaction=T),b._super(e),n(b,x,w.getBody(),A),function(e,b,w){var x=b.filepicker_validator_handler;x&&e.state.on("change:value",function(N){!function(N){0!==N.length?x({url:N,type:w},function(_){var A=function(e){var b=e.status,w=e.message;return"valid"===b?{status:"ok",message:w}:"unknown"===b||"invalid"===b?{status:"warn",message:w}:{status:"none",message:""}}(_);e.statusMessage(A.message),e.statusLevel(A.status)}):e.statusLevel("none")}(N.value)})}(b,x,A)}})}),V("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(y){var h=y.layoutRect(),s=y.paddingBox;y.items().filter(":visible").each(function(t){t.layoutRect({x:s.left,y:s.top,w:h.innerW-s.right-s.left,h:h.innerH-s.top-s.bottom}),t.recalc&&t.recalc()})}})}),V("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(y){var h,s,t,m,r,u,a,d,i,c,g,k,C,p,l,n,o,E,e,b,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,f=[],ue=Math.max,ae=Math.min;for(t=y.items().filter(":visible"),m=y.layoutRect(),r=y.paddingBox,u=y.settings,k=y.isRtl()?u.direction||"row-reversed":u.direction,a=u.align,d=y.isRtl()?u.pack||"end":u.pack,i=u.spacing||0,("row-reversed"==k||"column-reverse"==k)&&(t=t.set(t.toArray().reverse()),k=k.split("-")[0]),"column"==k?(N="y",x="h",T="minH",_="maxH",F="innerH",A="top",O="deltaH",R="contentH",L="left",P="w",M="x",U="innerW",B="minW",z="right",q="deltaW",ee="contentW"):(N="x",x="w",T="minW",_="maxW",F="innerW",A="left",O="deltaW",R="contentW",L="top",P="h",M="y",U="innerH",B="minH",z="bottom",q="deltaH",ee="contentH"),g=m[F]-r[A]-r[A],w=c=0,h=0,s=t.length;h<s;h++)p=(C=t[h]).layoutRect(),g-=h<s-1?i:0,(l=C.settings.flex)>0&&(c+=l,p[_]&&f.push(C),p.flex=l),g-=p[T],(n=r[L]+p[B]+r[z])>w&&(w=n);if((e={})[T]=g<0?m[T]-g+m[O]:m[F]-g+m[O],e[B]=w+m[q],e[R]=m[F]-g,e[ee]=w,e.minW=ae(e.minW,m.maxW),e.minH=ae(e.minH,m.maxH),e.minW=ue(e.minW,m.startMinWidth),e.minH=ue(e.minH,m.startMinHeight),!m.autoResize||e.minW==m.minW&&e.minH==m.minH){for(E=g/c,h=0,s=f.length;h<s;h++)(n=(p=(C=f[h]).layoutRect())[T]+p.flex*E)>(o=p[_])?(g-=p[_]-p[T],c-=p.flex,p.flex=0,p.maxFlexSize=o):p.maxFlexSize=0;for(E=g/c,b=r[A],e={},0===c&&("end"==d?b=g+r[A]:"center"==d?(b=Math.round(m[F]/2-(m[F]-g)/2)+r[A])<0&&(b=r[A]):"justify"==d&&(b=r[A],i=Math.floor(g/(t.length-1)))),e[M]=r[L],h=0,s=t.length;h<s;h++)n=(p=(C=t[h]).layoutRect()).maxFlexSize||p[T],"center"===a?e[M]=Math.round(m[U]/2-p[P]/2):"stretch"===a?(e[P]=ue(p[B]||0,m[U]-r[L]-r[z]),e[M]=r[L]):"end"===a&&(e[M]=m[U]-p[P]-r.top),p.flex>0&&(n+=p.flex*E),e[x]=n,e[N]=b,C.layoutRect(e),C.recalc&&C.recalc(),b+=n+i}else if(e.w=e.minW,e.h=e.minH,y.layoutRect(e),this.recalc(y),null===y._lastRect){var ne=y.parent();ne&&(ne._lastRect=null,ne.recalc())}}})}),V("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],function(S){return S.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(y){y.items().filter(":visible").each(function(h){h.recalc&&h.recalc()})},isNative:function(){return!0}})}),V("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(S,y,h,s,t){var d=function(i){return function(c,g){return y.from(g).map(h.fromDom).filter(s.isElement).bind(function(k){return function(i,c,g){for(;g!==c;){if(g.style[i]){var k=g.style[i];return""!==k?y.some(k):y.none()}g=g.parentNode}return y.none()}(i,c,k.dom()).or(function(i,c){return y.from(t.DOM.getStyle(c,i,!0))}(i,k.dom()))}).getOr("")}};return{getFontSize:d("fontSize"),getFontFamily:S.compose(function(i){return i.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},d("fontFamily")),toPt:function(i){return/[0-9.]+px$/.test(i)?Math.round(72*parseInt(i,10)/96)+"pt":i}}}),V("tinymce.core.ui.FormatControls",["tinymce.core.ui.Control","tinymce.core.ui.Widget","tinymce.core.ui.FloatPanel","tinymce.core.util.Tools","tinymce.core.util.Arr","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.fmt.FontInfo"],function(S,y,h,s,t,m,r,u,a){var d=s.each;return r.on("AddEditor",function(C){var p=C.editor;(function g(C){C.on("ScriptsLoaded",function(){C.rtl&&(S.rtl=!0)})})(p),function k(C){var p;function v(O,R){return function(){var M=this;C.on("nodeChange",function(U){var P=C.formatter,B=null;d(U.parents,function(L){if(d(O,function(z){if(R?P.matchNode(L,R,{value:z.value})&&(B=z.value):P.matchNode(L,z.value)&&(B=z.value),B)return!1}),B)return!1}),M.value(B)})}}function f(O){return function(){var R=this;C.on("nodeChange",function(M){var U,P,B=null;U=a.getFontSize(C.getBody(),M.element),P=a.toPt(U),d(O,function(L){L.value===U?B=U:L.value===P&&(B=P)}),R.value(B),B||R.text(P)})}}function n(O){for(var R=(O=O.replace(/;$/,"").split(";")).length;R--;)O[R]=O[R].split("=");return O}function E(O){return function(){var R=this;C.formatter?C.formatter.formatChanged(O,function(M){R.active(M)}):C.on("init",function(){C.formatter.formatChanged(O,function(M){R.active(M)})})}}function e(O){return function(){var R=this;function M(){return!!C.undoManager&&C.undoManager["redo"==O?"hasRedo":"hasUndo"]()}R.disabled(!M()),C.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){R.disabled(C.readonly||!M())})}}p=function o(){var O=0,R=[],M=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function U(B){var L=[];if(B)return d(B,function(z){var q={text:z.title,icon:z.icon};if(z.items)q.menu=U(z.items);else{var ee=z.format||"custom"+O++;z.format||(z.name=ee,R.push(z)),q.format=ee,q.cmd=z.cmd}L.push(q)}),L}return C.on("init",function(){d(R,function(B){C.formatter.register(B.name,B)})}),{type:"menu",items:function P(){return U(C.settings.style_formats_merge?C.settings.style_formats?M.concat(C.settings.style_formats):M:C.settings.style_formats||M)}(),onPostRender:function(B){C.fire("renderFormatsMenu",{control:B.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return C.formatter.getCssText(this.settings.format)},onPostRender:function(){var B=this;B.parent().on("show",function(){var L,z;(L=B.settings.format)&&(B.disabled(!C.formatter.canApply(L)),B.active(C.formatter.match(L))),(z=B.settings.cmd)&&B.active(C.queryCommandState(z))})},onclick:function(){this.settings.format&&_(this.settings.format),this.settings.cmd&&C.execCommand(this.settings.cmd)}}}}(),d({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(O,R){C.addButton(R,{tooltip:O,onPostRender:E(R),onclick:function(){_(R)}})}),d({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(O,R){C.addButton(R,{tooltip:O[0],cmd:O[1]})}),d({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(O,R){C.addButton(R,{tooltip:O[0],cmd:O[1],onPostRender:E(R)})});var x=function(O){var R,M;if("string"==typeof O)M=O.split(" ");else if(s.isArray(O))return function(C){return t.reduce(C,function(p,v){return p.concat(v)},[])}(s.map(O,x));return R=s.grep(M,function(U){return"|"===U||U in C.menuItems}),s.map(R,function(U){return"|"===U?{text:"-"}:C.menuItems[U]})},N=function(O){return function(O){var R=O;return R.length>0&&"-"===R[0].text&&(R=R.slice(1)),R.length>0&&"-"===R[R.length-1].text&&(R=R.slice(0,R.length-1)),R}(O.insert_button_items?x(O.insert_button_items):function(O){var R=[{text:"-"}],M=s.grep(C.menuItems,function(U){return U.context===O});return s.each(M,function(U){"before"==U.separator&&R.push({text:"|"}),U.prependToContext?R.unshift(U):R.push(U),"after"==U.separator&&R.push({text:"|"})}),R}("insert"))};function _(O){O.control&&(O=O.control.value()),O&&C.execCommand("mceToggleFormat",!1,O)}function A(O){var R=O.length;return s.each(O,function(M){M.menu&&(M.hidden=0===A(M.menu));var U=M.format;U&&(M.hidden=!C.formatter.canApply(U)),M.hidden&&R--}),R}function F(O){var R=O.items().length;return O.items().each(function(M){M.menu&&M.visible(F(M.menu)>0),!M.menu&&M.settings.menu&&M.visible(A(M.settings.menu)>0);var U=M.settings.format;U&&M.visible(C.formatter.canApply(U)),M.visible()||R--}),R}C.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),C.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),C.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),C.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),C.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),C.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function b(){var O=this;C.on("VisualAid",function(R){O.active(R.hasVisual)}),O.active(C.hasVisual)},cmd:"mceToggleVisualAid"}),C.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),C.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(N(C.settings)),this.menu.renderNew()}}),d({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(O,R){C.addMenuItem(R,{text:O[0],icon:R,shortcut:O[2],cmd:O[1]})}),C.on("mousedown",function(){h.hideAll()}),C.addButton("styleselect",{type:"menubutton",text:"Formats",menu:p,onShowMenu:function(){C.settings.style_formats_autohide&&F(this.menu)}}),C.addButton("formatselect",function(){var O=[],R=n(C.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return d(R,function(M){O.push({text:M[0],value:M[1],textStyle:function(){return C.formatter.getCssText(M[1])}})}),{type:"listbox",text:R[0][0],values:O,fixedWidth:!0,onselect:_,onPostRender:v(O)}}),C.addButton("fontselect",function(){var O,R=[],M=n(C.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return d(M,function(U){R.push({text:{raw:U[0]},value:U[1],textStyle:-1==U[1].indexOf("dings")?"font-family:"+U[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:R,fixedWidth:!0,onPostRender:(O=R,function(){var R=this,M=function(U){return U?U.split(",")[0]:""};C.on("nodeChange",function(U){var P,B=null;P=a.getFontFamily(C.getBody(),U.element),d(O,function(L){L.value.toLowerCase()===P.toLowerCase()&&(B=L.value)}),d(O,function(L){!B&&M(L.value).toLowerCase()===M(P).toLowerCase()&&(B=L.value)}),R.value(B),!B&&P&&R.text(M(P))})}),onselect:function(U){U.control.settings.value&&C.execCommand("FontName",!1,U.control.settings.value)}}}),C.addButton("fontsizeselect",function(){var O=[];return d((C.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(U){var P=U,B=U,L=U.split("=");L.length>1&&(P=L[0],B=L[1]),O.push({text:P,value:B})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:O,fixedWidth:!0,onPostRender:f(O),onclick:function(U){U.control.settings.value&&C.execCommand("FontSize",!1,U.control.settings.value)}}}),C.addMenuItem("formats",{text:"Formats",menu:p})}(p),function c(C){C.settings.ui_container&&(u.container=m.DOM.select(C.settings.ui_container)[0])}(p)}),S.translate=function(C){return r.translate(C)},y.tooltips=!u.iOS,{}}),V("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],function(S){"use strict";return S.extend({recalc:function(y){var h,s,t,m,r,u,a,d,i,c,g,k,C,p,v,l,f,n,o,E,e,b,w,N,_,A,F,O,x=[],T=[];for((h=y.settings,m=y.items().filter(":visible"),r=y.layoutRect(),t=h.columns||Math.ceil(Math.sqrt(m.length)),s=Math.ceil(m.length/t),n=h.spacingH||h.spacing||0,o=h.spacingV||h.spacing||0,E=h.alignH||h.align,e=h.alignV||h.align,l=y.paddingBox,O="reverseRows"in h?h.reverseRows:y.isRtl(),E&&"string"==typeof E&&(E=[E]),e&&"string"==typeof e&&(e=[e]),g=0);g<t;g++)x.push(0);for(k=0;k<s;k++)T.push(0);for(k=0;k<s;k++)for(g=0;g<t&&(c=m[k*t+g]);g++)_=(i=c.layoutRect()).minH,x[g]=(N=i.minW)>x[g]?N:x[g],T[k]=_>T[k]?_:T[k];for(A=r.innerW-l.left-l.right,b=0,g=0;g<t;g++)b+=x[g]+(g>0?n:0),A-=(g>0?n:0)+x[g];for(F=r.innerH-l.top-l.bottom,w=0,k=0;k<s;k++)w+=T[k]+(k>0?o:0),F-=(k>0?o:0)+T[k];if(w+=l.top+l.bottom,(d={}).minW=(b+=l.left+l.right)+(r.w-r.innerW),d.minH=w+(r.h-r.innerH),d.contentW=d.minW-r.deltaW,d.contentH=d.minH-r.deltaH,d.minW=Math.min(d.minW,r.maxW),d.minH=Math.min(d.minH,r.maxH),d.minW=Math.max(d.minW,r.startMinWidth),d.minH=Math.max(d.minH,r.startMinHeight),!r.autoResize||d.minW==r.minW&&d.minH==r.minH){var U;r.autoResize&&((d=y.layoutRect(d)).contentW=d.minW-r.deltaW,d.contentH=d.minH-r.deltaH),U="start"==h.packV?0:F>0?Math.floor(F/s):0;var P=0,B=h.flexWidths;if(B)for(g=0;g<B.length;g++)P+=B[g];else P=t;var L=A/P;for(g=0;g<t;g++)x[g]+=B?B[g]*L:L;for(p=l.top,k=0;k<s;k++){for(C=l.left,a=T[k]+U,g=0;g<t&&(c=m[O?k*t+t-1-g:k*t+g]);g++)v=c.settings,i=c.layoutRect(),u=Math.max(x[g],i.startMinWidth),i.x=C,i.y=p,"center"==(f=v.alignH||(E?E[g]||E[0]:null))?i.x=C+u/2-i.w/2:"right"==f?i.x=C+u-i.w:"stretch"==f&&(i.w=u),"center"==(f=v.alignV||(e?e[g]||e[0]:null))?i.y=p+a/2-i.h/2:"bottom"==f?i.y=p+a-i.h:"stretch"==f&&(i.h=a),c.layoutRect(i),C+=u+n,c.recalc&&c.recalc();p+=a+o}}else if(d.w=d.minW,d.h=d.minH,y.layoutRect(d),this.recalc(y),null===y._lastRect){var M=y.parent();M&&(M._lastRect=null,M.recalc())}}})}),V("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],function(S,y){"use strict";return S.extend({renderHtml:function(){var h=this;return h.classes.add("iframe"),h.canFocus=!1,'<iframe id="'+h._id+'" class="'+h.classes+'" tabindex="-1" src="'+(h.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(h){this.getEl().src=h},html:function(h,s){var t=this,m=this.getEl().contentWindow.document.body;return m?(m.innerHTML=h,s&&s()):y.setTimeout(function(){t.html(h)}),this}})}),V("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({init:function(y){var h=this;h._super(y),h.classes.add("widget").add("infobox"),h.canFocus=!1},severity:function(y){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(y)},help:function(y){this.state.set("help",y)},renderHtml:function(){var y=this,h=y.classPrefix;return'<div id="'+y._id+'" class="'+y.classes+'"><div id="'+y._id+'-body">'+y.encode(y.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var y=this;return y.state.on("change:text",function(h){y.getEl("body").firstChild.data=y.encode(h.value),y.state.get("rendered")&&y.updateLayoutRect()}),y.state.on("change:help",function(h){y.classes.toggle("has-help",h.value),y.state.get("rendered")&&y.updateLayoutRect()}),y._super()}})}),V("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],function(S,y){"use strict";return S.extend({init:function(h){var s=this;s._super(h),s.classes.add("widget").add("label"),s.canFocus=!1,h.multiline&&s.classes.add("autoscroll"),h.strong&&s.classes.add("strong")},initLayoutRect:function(){var h=this,s=h._super();return h.settings.multiline&&(y.getSize(h.getEl()).width>s.maxW&&(s.minW=s.maxW,h.classes.add("multiline")),h.getEl().style.width=s.minW+"px",s.startMinH=s.h=s.minH=Math.min(s.maxH,y.getSize(h.getEl()).height)),s},repaint:function(){var h=this;return h.settings.multiline||(h.getEl().style.lineHeight=h.layoutRect().h+"px"),h._super()},severity:function(h){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(h)},renderHtml:function(){var s,t,h=this,m=h.settings.forId,r=h.settings.html?h.settings.html:h.encode(h.state.get("text"));return!m&&(t=h.settings.forName)&&(s=h.getRoot().find("#"+t)[0])&&(m=s._id),m?'<label id="'+h._id+'" class="'+h.classes+'"'+(m?' for="'+m+'"':"")+">"+r+"</label>":'<span id="'+h._id+'" class="'+h.classes+'">'+r+"</span>"},bindStates:function(){var h=this;return h.state.on("change:text",function(s){h.innerHtml(h.encode(s.value)),h.state.get("rendered")&&h.updateLayoutRect()}),h._super()}})}),V("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],function(S){"use strict";return S.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(y){this._super(y),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(h){h.classes.add("toolbar-item")}),this._super()}})}),V("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],function(S){"use strict";return S.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),V("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],function(S,y,h){"use strict";var t=S.extend({init:function(m){var r=this;r._renderOpen=!0,r._super(m),m=r.settings,r.classes.add("menubtn"),m.fixedWidth&&r.classes.add("fixed-width"),r.aria("haspopup",!0),r.state.set("menu",m.menu||r.render())},showMenu:function(m){var u,r=this;if(r.menu&&r.menu.visible()&&!1!==m)return r.hideMenu();r.menu||((u=r.state.get("menu")||[]).length?u={type:"menu",items:u}:u.type=u.type||"menu",r.menu=u.renderTo?u.parent(r).show().renderTo():y.create(u).parent(r).renderTo(),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(a){a.control.parent()===r.menu&&(a.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),r.menu.on("show hide",function(a){a.control==r.menu&&r.activeMenu("show"==a.type),r.aria("expanded","show"==a.type)}).fire("show")),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),r.fire("showmenu")},hideMenu:function(){var m=this;m.menu&&(m.menu.items().each(function(r){r.hideMenu&&r.hideMenu()}),m.menu.hide())},activeMenu:function(m){this.classes.toggle("active",m)},renderHtml:function(){var d,m=this,r=m._id,u=m.classPrefix,a=m.settings.icon,i=m.state.get("text"),c="";return(d=m.settings.image)?(a="none","string"!=typeof d&&(d=window.getSelection?d[0]:d[1]),d=" style=\"background-image: url('"+d+"')\""):d="",i&&(m.classes.add("btn-has-text"),c='<span class="'+u+'txt">'+m.encode(i)+"</span>"),a=m.settings.icon?u+"ico "+u+"i-"+a:"",m.aria("role",m.parent()instanceof h?"menuitem":"button"),'<div id="'+r+'" class="'+m.classes+'" tabindex="-1" aria-labelledby="'+r+'"><button id="'+r+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+d+"></i>":"")+c+' <i class="'+u+'caret"></i></button></div>'},postRender:function(){var m=this;return m.on("click",function(r){r.control===m&&function s(m,r){for(;m;){if(r===m)return!0;m=m.parentNode}return!1}(r.target,m.getEl())&&(m.focus(),m.showMenu(!r.aria),r.aria&&m.menu.items().filter(":visible")[0].focus())}),m.on("mouseenter",function(r){var d,u=r.control,a=m.parent();u&&a&&u instanceof t&&u.parent()==a&&(a.items().filter("MenuButton").each(function(i){i.hideMenu&&i!=u&&(i.menu&&i.menu.visible()&&(d=!0),i.hideMenu())}),d&&(u.focus(),u.showMenu()))}),m._super()},bindStates:function(){var m=this;return m.state.on("change:menu",function(){m.menu&&m.menu.remove(),m.menu=null}),m._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return t}),V("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(S,y,h,s){"use strict";return S.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var r,m=this;m._super(t),t=m.settings,m.classes.add("menu-item"),t.menu&&m.classes.add("menu-item-expand"),t.preview&&m.classes.add("menu-item-preview"),("-"===(r=m.state.get("text"))||"|"===r)&&(m.classes.add("menu-item-sep"),m.aria("role","separator"),m.state.set("text","-")),t.selectable&&(m.aria("role","menuitemcheckbox"),m.classes.add("menu-item-checkbox"),t.icon="selected"),!t.preview&&!t.selectable&&m.classes.add("menu-item-normal"),m.on("mousedown",function(u){u.preventDefault()}),t.menu&&!t.ariaHideMenu&&m.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var r,t=this,m=t.settings,u=t.parent();if(u.items().each(function(d){d!==t&&d.hideMenu()}),m.menu){(r=t.menu)?r.show():((r=m.menu).length?r={type:"menu",items:r}:r.type=r.type||"menu",u.settings.itemDefaults&&(r.itemDefaults=u.settings.itemDefaults),(r=t.menu=y.create(r).parent(t).renderTo()).reflow(),r.on("cancel",function(d){d.stopPropagation(),t.focus(),r.hide()}),r.on("show hide",function(d){d.control.items&&d.control.items().each(function(i){i.active(i.settings.selected)})}).fire("show"),r.on("hide",function(d){d.control===r&&t.classes.remove("selected")}),r.submenu=!0),r._parentMenu=u,r.classes.add("menu-sub");var a=r.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(t.getEl(),a),r.rel=a,a="menu-sub-"+a,r.classes.remove(r._lastRel).add(a),r._lastRel=a,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(m){m.hideMenu&&m.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){var k,t=this,m=t._id,r=t.settings,u=t.classPrefix,a=t.state.get("text"),d=t.settings.icon,i="",c=r.shortcut,g=t.encode(r.url);function p(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(f){var n=r.match||"";return n?f.replace(new RegExp(p(n),"gi"),function(o){return"!mce~match["+o+"]mce~match!"}):f}function l(f){return f.replace(new RegExp(p("!mce~match["),"g"),"<b>").replace(new RegExp(p("]mce~match!"),"g"),"</b>")}return d&&t.parent().classes.add("menu-has-icons"),r.image&&(i=" style=\"background-image: url('"+r.image+"')\""),c&&(c=function C(f){var n,o,E;for(E=h.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},f=f.split("+"),n=0;n<f.length;n++)(o=E[f[n].toLowerCase()])&&(f[n]=o);return f.join("+")}(c)),d=u+"ico "+u+"i-"+(t.settings.icon||"none"),k="-"!==a?'<i class="'+d+'"'+i+"></i>\xa0":"",a=l(t.encode(v(a))),g=l(t.encode(v(g))),'<div id="'+m+'" class="'+t.classes+'" tabindex="-1">'+k+("-"!==a?'<span id="'+m+'-text" class="'+u+'text">'+a+"</span>":"")+(c?'<div id="'+m+'-shortcut" class="'+u+'menu-shortcut">'+c+"</div>":"")+(r.menu?'<div class="'+u+'caret"></div>':"")+(g?'<div class="'+u+'menu-item-link">'+g+"</div>":"")+"</div>"},postRender:function(){var t=this,m=t.settings,r=m.textStyle;if("function"==typeof r&&(r=r.call(this)),r){var u=t.getEl("text");u&&u.setAttribute("style",r)}return t.on("mouseenter click",function(a){a.control===t&&(m.menu||"click"!==a.type?(t.showMenu(),a.aria&&t.menu.focus(!0)):(t.fire("select"),s.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(m){m.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return void 0!==t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),V("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],function(S,y,h){"use strict";return function(s,t){var r,a,m=this,u=y.classPrefix;m.show=function(d,i){function c(){r&&(S(s).append('<div class="'+u+"throbber"+(t?" "+u+"throbber-inline":"")+'"></div>'),i&&i())}return m.hide(),r=!0,d?a=h.setTimeout(c,d):c(),m},m.hide=function(){var d=s.lastChild;return h.clearTimeout(a),d&&-1!=d.className.indexOf("throbber")&&d.parentNode.removeChild(d),r=!1,m}}}),V("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],function(S,y,h,s){"use strict";return S.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var r=t.items,u=r.length;u--;)r[u]=s.extend({},t.itemDefaults,r[u]);this._super(t),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var m,t=this;function u(){t.throbber&&(t.throbber.hide(),t.throbber=null)}t.settings.itemsFactory&&(t.throbber||(t.throbber=new h(t.getEl("body"),!0),0===t.items().length?(t.throbber.show(),t.fire("loading")):t.throbber.show(100,function(){t.items().remove(),t.fire("loading")}),t.on("hide close",u)),t.requestTime=m=(new Date).getTime(),t.settings.itemsFactory(function(a){0!==a.length?t.requestTime===m&&(t.getEl().style.width="",t.getEl("body").style.width="",u(),t.items().remove(),t.getEl("body").innerHTML="",t.add(a),t.renderNew(),t.fire("loaded")):t.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each(function(m){var r=m.settings;if(r.icon||r.image||r.selectable)return t._hasIcons=!0,!1}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),V("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],function(S,y){"use strict";return S.extend({init:function(h){var t,m,r,u,s=this;s._super(h),s._values=t=(h=s.settings).values,t&&(void 0!==h.value&&function a(d){for(var i=0;i<d.length;i++){if(m=d[i].selected||h.value===d[i].value)return r=r||d[i].text,s.state.set("value",d[i].value),!0;if(d[i].menu&&a(d[i].menu))return!0}}(t),!m&&t.length>0&&(r=t[0].text,s.state.set("value",t[0].value)),s.state.set("menu",t)),s.state.set("text",h.text||r),s.classes.add("listbox"),s.on("select",function(d){var i=d.control;u&&(d.lastControl=u),h.multiple?i.active(!i.active()):s.value(d.control.value()),u=i})},bindStates:function(){var h=this;function t(m,r){var u;if(m)for(var a=0;a<m.length;a++){if(m[a].value===r)return m[a];if(m[a].menu&&(u=t(m[a].menu,r)))return u}}return h.on("show",function(m){!function s(m,r){m instanceof y&&m.items().each(function(u){u.hasMenus()||u.active(u.value()===r)})}(m.control,h.value())}),h.state.on("change:value",function(m){var r=t(h.state.get("menu"),m.value);h.text(r?r.text:h.settings.text)}),h._super()}})}),V("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],function(S){"use strict";return S.extend({Defaults:{classes:"radio",role:"radio"}})}),V("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],function(S,y){"use strict";return S.extend({renderHtml:function(){var h=this,s=h.classPrefix;return h.classes.add("resizehandle"),"both"==h.settings.direction&&h.classes.add("resizehandle-both"),h.canFocus=!1,'<div id="'+h._id+'" class="'+h.classes+'"><i class="'+s+"ico "+s+'i-resize"></i></div>'},postRender:function(){var h=this;h._super(),h.resizeDragHelper=new y(this._id,{start:function(){h.fire("ResizeStart")},drag:function(s){"both"!=h.settings.direction&&(s.deltaX=0),h.fire("Resize",s)},stop:function(){h.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),V("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],function(S){"use strict";function y(h){var s="";if(h)for(var t=0;t<h.length;t++)s+='<option value="'+h[t]+'">'+h[t]+"</option>";return s}return S.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(h){var s=this;s._super(h),s.settings.size&&(s.size=s.settings.size),s.settings.options&&(s._options=s.settings.options),s.on("keydown",function(t){var m;13==t.keyCode&&(t.preventDefault(),s.parents().reverse().each(function(r){if(r.toJSON)return m=r,!1}),s.fire("submit",{data:m.toJSON()}))})},options:function(h){return arguments.length?(this.state.set("options",h),this):this.state.get("options")},renderHtml:function(){var s,h=this,t="";return s=y(h._options),h.size&&(t=' size = "'+h.size+'"'),'<select id="'+h._id+'" class="'+h.classes+'"'+t+">"+s+"</select>"},bindStates:function(){var h=this;return h.state.on("change:options",function(s){h.getEl().innerHTML=y(s.value)}),h._super()}})}),V("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],function(S,y,h){"use strict";function s(r,u,a){return r<u&&(r=u),r>a&&(r=a),r}function t(r,u,a){r.setAttribute("aria-"+u,a)}function m(r,u){var a,d,i,c,k;"v"==r.settings.orientation?(c="top",i="height",d="h"):(c="left",i="width",d="w"),k=r.getEl("handle"),a=(r.layoutRect()[d]||100)-h.getSize(k)[i],k.style[c]=a*((u-r._minValue)/(r._maxValue-r._minValue))+"px",k.style.height=r.layoutRect().h+"px",t(k,"valuenow",u),t(k,"valuetext",""+r.settings.previewFilter(u)),t(k,"valuemin",r._minValue),t(k,"valuemax",r._maxValue)}return S.extend({init:function(r){var u=this;r.previewFilter||(r.previewFilter=function(a){return Math.round(100*a)/100}),u._super(r),u.classes.add("slider"),"v"==r.orientation&&u.classes.add("vertical"),u._minValue=r.minValue||0,u._maxValue=r.maxValue||100,u._initValue=u.state.get("value")},renderHtml:function(){var r=this,u=r._id;return'<div id="'+u+'" class="'+r.classes+'"><div id="'+u+'-handle" class="'+r.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var u,a,d,i,c,g,r=this;u=r._minValue,a=r._maxValue,"v"==r.settings.orientation?(d="screenY",i="top",c="height",g="h"):(d="screenX",i="left",c="width",g="w"),r._super(),function p(l,f){function n(o){var E;E=r.value(),E=function C(l,f,n){return n*(f-l)-l}(l,f,function k(l,f,n){return(n+l)/(f-l)}(l,f,E)+.05*o),E=s(E,l,f),r.value(E),r.fire("dragstart",{value:E}),r.fire("drag",{value:E}),r.fire("dragend",{value:E})}r.on("keydown",function(o){switch(o.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}})}(u,a,r.getEl("handle")),function v(l,f,n){var o,E,e,b,w;r._dragHelper=new y(r._id,{handle:r._id+"-handle",start:function(x){o=x[d],E=parseInt(r.getEl("handle").style[i],10),e=(r.layoutRect()[g]||100)-h.getSize(n)[c],r.fire("dragstart",{value:w})},drag:function(x){b=s(E+(x[d]-o),0,e),n.style[i]=b+"px",r.value(w=l+b/e*(f-l)),r.tooltip().text(""+r.settings.previewFilter(w)).show().moveRel(n,"bc tc"),r.fire("drag",{value:w})},stop:function(){r.tooltip().hide(),r.fire("dragend",{value:w})}})}(u,a,r.getEl("handle"))},repaint:function(){this._super(),m(this,this.value())},bindStates:function(){var r=this;return r.state.on("change:value",function(u){m(r,u.value)}),r._super()}})}),V("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],function(S){"use strict";return S.extend({renderHtml:function(){var y=this;return y.classes.add("spacer"),y.canFocus=!1,'<div id="'+y._id+'" class="'+y.classes+'"></div>'}})}),V("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],function(S,y,h){return S.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var u,s=this,t=s.getEl(),m=s.layoutRect();return s._super(),u=t.lastChild,h(t.firstChild).css({width:m.w-y.getSize(u).width,height:m.h-2}),h(u).css({height:m.h-2}),s},activeMenu:function(s){h(this.getEl().lastChild).toggleClass(this.classPrefix+"active",s)},renderHtml:function(){var r,s=this,t=s._id,m=s.classPrefix,u=s.state.get("icon"),a=s.state.get("text"),d="";return(r=s.settings.image)?(u="none","string"!=typeof r&&(r=window.getSelection?r[0]:r[1]),r=" style=\"background-image: url('"+r+"')\""):r="",u=s.settings.icon?m+"ico "+m+"i-"+u:"",a&&(s.classes.add("btn-has-text"),d='<span class="'+m+'txt">'+s.encode(a)+"</span>"),'<div id="'+t+'" class="'+s.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(u?'<i class="'+u+'"'+r+"></i>":"")+d+'</button><button type="button" class="'+m+'open" hidefocus="1" tabindex="-1">'+(s._menuBtnText?(u?"\xa0":"")+s._menuBtnText:"")+' <i class="'+m+'caret"></i></button></div>'},postRender:function(){var s=this,t=s.settings.onclick;return s.on("click",function(m){var r=m.target;if(m.control==this)for(;r;){if(m.aria&&"down"!=m.aria.key||"BUTTON"==r.nodeName&&-1==r.className.indexOf("open"))return m.stopImmediatePropagation(),void(t&&t.call(this,m));r=r.parentNode}}),delete s.settings.onclick,s._super()}})}),V("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],function(S){"use strict";return S.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),V("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],function(S,y,h){"use strict";return S.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(s){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),y(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+s,(t=this.getEl("t"+s)).setAttribute("aria-selected","true"),y(t).addClass(this.classPrefix+"active"),this.items()[s].show().fire("showtab"),this.reflow(),this.items().each(function(m,r){s!=r&&m.hide()})},renderHtml:function(){var s=this,t=s._layout,m="",r=s.classPrefix;return s.preRender(),t.preRender(s),s.items().each(function(u,a){var d=s._id+"-t"+a;u.aria("role","tabpanel"),u.aria("labelledby",d),m+='<div id="'+d+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+u._id+'" aria-selected="false" tabIndex="-1">'+s.encode(u.settings.title)+"</div>"}),'<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1"><div id="'+s._id+'-head" class="'+r+'tabs" role="tablist">'+m+'</div><div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+t.renderHtml(s)+"</div></div>"},postRender:function(){var s=this;s._super(),s.settings.activeTab=s.settings.activeTab||0,s.activateTab(s.settings.activeTab),this.on("click",function(t){var m=t.target.parentNode;if(m&&m.id==s._id+"-head")for(var r=m.childNodes.length;r--;)m.childNodes[r]==t.target&&s.activateTab(r)})},initLayoutRect:function(){var t,m,r,s=this;m=(m=h.getSize(s.getEl("head")).width)<0?0:m,r=0,s.items().each(function(a){m=Math.max(m,a.layoutRect().minW),r=Math.max(r,a.layoutRect().minH)}),s.items().each(function(a){a.settings.x=0,a.settings.y=0,a.settings.w=m,a.settings.h=r,a.layoutRect({x:0,y:0,w:m,h:r})});var u=h.getSize(s.getEl("head")).height;return s.settings.minWidth=m,s.settings.minHeight=r+u,(t=s._super()).deltaH+=u,t.innerH=t.h-t.deltaH,t}})}),V("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],function(S,y,h){return S.extend({init:function(s){var t=this;t._super(s),t.classes.add("textbox"),s.multiline?t.classes.add("multiline"):(t.on("keydown",function(m){var r;13==m.keyCode&&(m.preventDefault(),t.parents().reverse().each(function(u){if(u.toJSON)return r=u,!1}),t.fire("submit",{data:r.toJSON()}))}),t.on("keyup",function(m){t.state.set("value",m.target.value)}))},repaint:function(){var t,m,r,u,d,s=this,a=0;t=s.getEl().style,m=s._layoutRect,d=s._lastRepaintRect||{};var i=document;return!s.settings.multiline&&i.all&&(!i.documentMode||i.documentMode<=8)&&(t.lineHeight=m.h-a+"px"),u=(r=s.borderBox).left+r.right+8,a=r.top+r.bottom+(s.settings.multiline?8:0),m.x!==d.x&&(t.left=m.x+"px",d.x=m.x),m.y!==d.y&&(t.top=m.y+"px",d.y=m.y),m.w!==d.w&&(t.width=m.w-u+"px",d.w=m.w),m.h!==d.h&&(t.height=m.h-a+"px",d.h=m.h),s._lastRepaintRect=d,s.fire("repaint",{},!1),s},renderHtml:function(){var m,r,s=this,t=s.settings;return m={id:s._id,hidefocus:"1"},y.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(u){m[u]=t[u]}),s.disabled()&&(m.disabled="disabled"),t.subtype&&(m.type=t.subtype),(r=h.create(t.multiline?"textarea":"input",m)).value=s.state.get("value"),r.className=s.classes,r.outerHTML},value:function(s){return arguments.length?(this.state.set("value",s),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var s=this;s.getEl().value=s.state.get("value"),s._super(),s.$el.on("change",function(t){s.state.set("value",t.target.value),s.fire("change",t)})},bindStates:function(){var s=this;return s.state.on("change:value",function(t){s.getEl().value!=t.value&&(s.getEl().value=t.value)}),s.state.on("change:disabled",function(t){s.getEl().disabled=t.value}),s._super()},remove:function(){this.$el.off(),this._super()}})}),V("tinymce.core.ui.Api",["tinymce.core.ui.Selector","tinymce.core.ui.Collection","tinymce.core.ui.ReflowQueue","tinymce.core.ui.Control","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.ui.Container","tinymce.core.ui.DragHelper","tinymce.core.ui.Scrollable","tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.FloatPanel","tinymce.core.ui.Window","tinymce.core.ui.MessageBox","tinymce.core.ui.Tooltip","tinymce.core.ui.Widget","tinymce.core.ui.Progress","tinymce.core.ui.Notification","tinymce.core.ui.Layout","tinymce.core.ui.AbsoluteLayout","tinymce.core.ui.Button","tinymce.core.ui.ButtonGroup","tinymce.core.ui.Checkbox","tinymce.core.ui.ComboBox","tinymce.core.ui.ColorBox","tinymce.core.ui.PanelButton","tinymce.core.ui.ColorButton","tinymce.core.ui.ColorPicker","tinymce.core.ui.Path","tinymce.core.ui.ElementPath","tinymce.core.ui.FormItem","tinymce.core.ui.Form","tinymce.core.ui.FieldSet","tinymce.core.ui.FilePicker","tinymce.core.ui.FitLayout","tinymce.core.ui.FlexLayout","tinymce.core.ui.FlowLayout","tinymce.core.ui.FormatControls","tinymce.core.ui.GridLayout","tinymce.core.ui.Iframe","tinymce.core.ui.InfoBox","tinymce.core.ui.Label","tinymce.core.ui.Toolbar","tinymce.core.ui.MenuBar","tinymce.core.ui.MenuButton","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.ui.Menu","tinymce.core.ui.ListBox","tinymce.core.ui.Radio","tinymce.core.ui.ResizeHandle","tinymce.core.ui.SelectBox","tinymce.core.ui.Slider","tinymce.core.ui.Spacer","tinymce.core.ui.SplitButton","tinymce.core.ui.StackLayout","tinymce.core.ui.TabPanel","tinymce.core.ui.TextBox"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k,C,p,v,l,f,n,o,E,e,b,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne,he,Ee,me,$,G,Z,Y,ie,ke,ye,oe,K,se,be,we){"use strict";var ve=function(Te,re,fe){var Ce,Ae;for(Ae=re.split(/[.\/]/),Ce=0;Ce<Ae.length-1;++Ce)void 0===Te[Ae[Ce]]&&(Te[Ae[Ce]]={}),Te=Te[Ae[Ce]];Te[Ae[Ae.length-1]]=fe,function(Te,re){t.add(Te.split(".").pop(),re)}(re,fe)},qe={appendTo:function(Te){ve(Te,"ui.Selector",S),ve(Te,"ui.Collection",y),ve(Te,"ui.ReflowQueue",h),ve(Te,"ui.Control",s),ve(Te,"ui.Factory",t),ve(Te,"ui.KeyboardNavigation",m),ve(Te,"ui.Container",r),ve(Te,"ui.DragHelper",u),ve(Te,"ui.Scrollable",a),ve(Te,"ui.Panel",d),ve(Te,"ui.Movable",i),ve(Te,"ui.Resizable",c),ve(Te,"ui.FloatPanel",g),ve(Te,"ui.Window",k),ve(Te,"ui.MessageBox",C),ve(Te,"ui.Tooltip",p),ve(Te,"ui.Widget",v),ve(Te,"ui.Progress",l),ve(Te,"ui.Notification",f),ve(Te,"ui.Layout",n),ve(Te,"ui.AbsoluteLayout",o),ve(Te,"ui.Button",E),ve(Te,"ui.ButtonGroup",e),ve(Te,"ui.Checkbox",b),ve(Te,"ui.ComboBox",w),ve(Te,"ui.ColorBox",x),ve(Te,"ui.PanelButton",T),ve(Te,"ui.ColorButton",N),ve(Te,"ui.ColorPicker",_),ve(Te,"ui.Path",A),ve(Te,"ui.ElementPath",F),ve(Te,"ui.FormItem",O),ve(Te,"ui.Form",R),ve(Te,"ui.FieldSet",M),ve(Te,"ui.FilePicker",U),ve(Te,"ui.FitLayout",P),ve(Te,"ui.FlexLayout",B),ve(Te,"ui.FlowLayout",L),ve(Te,"ui.FormatControls",z),ve(Te,"ui.GridLayout",q),ve(Te,"ui.Iframe",ee),ve(Te,"ui.InfoBox",ue),ve(Te,"ui.Label",ae),ve(Te,"ui.Toolbar",ne),ve(Te,"ui.MenuBar",he),ve(Te,"ui.MenuButton",Ee),ve(Te,"ui.MenuItem",me),ve(Te,"ui.Throbber",$),ve(Te,"ui.Menu",G),ve(Te,"ui.ListBox",Z),ve(Te,"ui.Radio",Y),ve(Te,"ui.ResizeHandle",ie),ve(Te,"ui.SelectBox",ke),ve(Te,"ui.Slider",ye),ve(Te,"ui.Spacer",oe),ve(Te,"ui.SplitButton",K),ve(Te,"ui.StackLayout",se),ve(Te,"ui.TabPanel",be),ve(Te,"ui.TextBox",we),ve(Te,"ui.Api",qe)}};return qe}),V("tinymce.core.api.Tinymce",["tinymce.core.geom.Rect","tinymce.core.util.Promise","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.html.Styles","tinymce.core.dom.TreeWalker","tinymce.core.html.Entities","tinymce.core.dom.DOMUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.dom.RangeUtils","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.html.DomParser","tinymce.core.html.Writer","tinymce.core.html.Serializer","tinymce.core.dom.Serializer","tinymce.core.util.VK","tinymce.core.dom.ControlSelection","tinymce.core.dom.BookmarkManager","tinymce.core.dom.Selection","tinymce.core.Formatter","tinymce.core.UndoManager","tinymce.core.EditorCommands","tinymce.core.util.URI","tinymce.core.util.Class","tinymce.core.util.EventDispatcher","tinymce.core.util.Observable","tinymce.core.WindowManager","tinymce.core.NotificationManager","tinymce.core.EditorObservable","tinymce.core.Shortcuts","tinymce.core.Editor","tinymce.core.util.I18n","tinymce.core.FocusManager","tinymce.core.EditorManager","tinymce.core.util.XHR","tinymce.core.util.JSON","tinymce.core.util.JSONRequest","tinymce.core.util.JSONP","tinymce.core.util.LocalStorage","tinymce.core.api.Compat","tinymce.core.util.Color","tinymce.core.ui.Api"],function(S,y,h,s,t,m,r,u,a,d,i,c,g,k,C,p,v,l,f,n,o,E,e,b,w,x,T,N,_,A,F,O,R,M,U,P,B,L,z,q,ee,ue,ae,ne,he,Ee,me,$,G){var Z=ee,Y=function(ie,ke,ye){var oe,K;for(K=ke.split(/[.\/]/),oe=0;oe<K.length-1;++oe)void 0===ie[K[oe]]&&(ie[K[oe]]={}),ie=ie[K[oe]];ie[K[K.length-1]]=ye};return Y(Z,"geom.Rect",S),Y(Z,"util.Promise",y),Y(Z,"util.Delay",h),Y(Z,"Env",s),Y(Z,"dom.EventUtils",t),Y(Z,"dom.Sizzle",m),Y(Z,"util.Tools",r),Y(Z,"dom.DomQuery",u),Y(Z,"html.Styles",a),Y(Z,"dom.TreeWalker",d),Y(Z,"html.Entities",i),Y(Z,"dom.DOMUtils",c),Y(Z,"dom.ScriptLoader",g),Y(Z,"AddOnManager",k),Y(Z,"dom.RangeUtils",C),Y(Z,"html.Node",p),Y(Z,"html.Schema",v),Y(Z,"html.SaxParser",l),Y(Z,"html.DomParser",f),Y(Z,"html.Writer",n),Y(Z,"html.Serializer",o),Y(Z,"dom.Serializer",E),Y(Z,"util.VK",e),Y(Z,"dom.ControlSelection",b),Y(Z,"dom.BookmarkManager",w),Y(Z,"dom.Selection",x),Y(Z,"Formatter",T),Y(Z,"UndoManager",N),Y(Z,"EditorCommands",_),Y(Z,"util.URI",A),Y(Z,"util.Class",F),Y(Z,"util.EventDispatcher",O),Y(Z,"util.Observable",R),Y(Z,"WindowManager",M),Y(Z,"NotificationManager",U),Y(Z,"EditorObservable",P),Y(Z,"Shortcuts",B),Y(Z,"Editor",L),Y(Z,"util.I18n",z),Y(Z,"FocusManager",q),Y(Z,"EditorManager",ee),Y(Z,"util.XHR",ue),Y(Z,"util.JSON",ae),Y(Z,"util.JSONRequest",ne),Y(Z,"util.JSONP",he),Y(Z,"util.LocalStorage",Ee),Y(Z,"Compat",me),Y(Z,"util.Color",$),G.appendTo(Z),me.register(Z),Z}),V("tinymce.core.Register",[],function(){var S=this||window;return{exposeToModuleLoaders:function(h){"function"==typeof S.define&&(S.define.amd||(S.define("ephox/tinymce",[],function(){return h}),S.define("tinymce.core.EditorManager",[],function(){return h}))),ut.exports=h}}}),V("tinymce.core.api.Main",["tinymce.core.api.Tinymce","tinymce.core.Register"],function(S,y){return function(){return window.tinymce=S,window.tinyMCE=S,y.exposeToModuleLoaders(S),S}}),rt("tinymce.core.api.Main")()},7081:(ut,nt,Ve)=>{"use strict";Ve.d(nt,{F:()=>ot});const ot=[Ve(8915).t]},8066:(ut,nt,Ve)=>{"use strict";Ve.r(nt),Ve.d(nt,{NzDemoRichTextEditorModule:()=>C});var st=Ve(3238),ot=Ve(4515),rt=Ve(7081),at=Ve(1380),I=Ve(9724);let V=(()=>{class p{constructor(){this.expanded=!1}goLink(l){window&&(window.location.hash=l)}expandAllCode(){this.expanded=!this.expanded,this.codeBoxes.forEach(l=>{l.nzExpanded=this.expanded,l.expandCode(this.expanded),l.check()})}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275cmp=I.Xpm({type:p,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(l,f){if(1&l&&I.Gf(at.G,5),2&l){let n;I.iGM(n=I.CRH())&&(f.codeBoxes=n)}},decls:0,vars:0,template:function(l,f){},encapsulation:2}),p})();var lt=Ve(3563),ct=Ve(695),et=Ve(5760),S=Ve(8918),y=Ve(8741),h=Ve(5535),s=Ve(2552),m=(Ve(6708),Ve(1048)),r=Ve(7727);const u=["editor"];function a(p,v){if(1&p){const l=I.EpF();I.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"editor",4,5),I.NdJ("ngModelChange",function(n){return I.CHM(l),I.oxw().textChanged(n)})("onKeyDown",function(n){return I.CHM(l),I.oxw().onKeyDown(n)}),I.qZA()()()()}if(2&p){const l=I.oxw();I.xp6(1),I.s9C("ngClass",l.options.wrapperClass),I.xp6(2),I.Q6J("init",l.initOptions)("ngModel",l.text)}}let d=(()=>{class p{constructor(l){this.cdRef=l,this.text="",this.scContentEmpty=new I.vpe,this.fieldMenuMap=[],this.propagateChange=f=>{}}ngOnInit(){var l,f,n,o;tinymce.baseURL=this.options.baseUrl,this.options=this.options||{},this.initOptions={auto_focus:null!==(l=this.options.autoFocus)&&void 0!==l&&l,enableSpeechRecognition:!1,body_class:"",branding:!1,browser_spellcheck:!0,convert_fonts_to_spans:!0,convert_urls:!0,extended_valid_elements:"a[name|href|target=_blank|title]",font_formats:'Arial=arial,helvetica,sans-serif;Calibri=calibri;Courier New=courier new,courier;Georgia=georgia,\n      palatino;Tahoma=tahoma,arial,"helvetica,sans-serif;Times New Roman=times new roman,times;Verdana=verdana,geneva',fontsize_formats:"8pt 9pt 10pt 11pt 12pt 14pt 16pt 18pt 20pt 22pt 24pt 26pt 28pt 30pt 36pt 72pt",height:this.options.height||"100%",invalid_elements:"h1,h2,h3,h4,h5,h6,object,script",theme_url:this.options.baseUrl+"/themes/modern/theme.js",keep_styles:!0,menubar:!1,paste_data_images:!0,paste_word_valid_elements:"strong,b,em,i,span,p,ol,ul,li,table,tr,td[colspan|rowspan],th,thead,tfoot,tbody",plugins:"lists paste autolink link",relative_urls:!1,resize:null!==(n=null===(f=this.options)||void 0===f?void 0:f.resize)&&void 0!==n&&n,statusbar:!!(null===(o=this.options)||void 0===o?void 0:o.statusbar),table_clone_elements:"strong em b i span a font",toolbar:["bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent"],skin_url:this.options.baseUrl+"/styles",jobadder_fields:void 0,jobadder_images:this.options.sharedImages,setup:E=>this.editorSetup(E,this.options)},this.options.minimalEditor||(this.initOptions.toolbar=["insertfield | fontselect jobadder_images | fontsizeselect | bold italic underline strikethrough | forecolor | alignmentsplit | bullist numlist outdent indent | link unlink table | removeformat | tinymoji | jobadder_code"],this.initOptions.plugins=`${this.initOptions.plugins} lists nonbreaking paste tabfocus textcolor table tinymoji`,this.initOptions.external_plugins={jobadder_linkcolorfix:this.options.baseUrl+"/scripts/linkcolorfix.js",jobadder_code:this.options.baseUrl+"/scripts/code.js",jobadder_images:this.options.baseUrl+"/scripts/images.js"},this.options.fonts&&this.options.fonts.length&&(this.initOptions.font_formats=this.options.fonts.map(E=>`${E}=${E}`).join(";"))),this.options.insertableFields&&(this.initOptions.plugins=`${this.initOptions.plugins} mention`,this.initOptions.mentions={source:this.options.insertableFields.map(E=>({name:E})),delimiter:["{"],insert:E=>`<span>{${E.name}}</span>`,default:20}),setTimeout(()=>{this.editorEnabled=!0,this.cdRef.markForCheck()},0)}writeValue(l){this.text=l,this.cdRef.markForCheck()}registerOnChange(l){this.propagateChange=l}registerOnTouched(){}textChanged(l){!l&&this.text&&this.scContentEmpty.emit(),this.text=l,this.propagateChange(this.text)}editorSetup(l,f){f.close&&l.on("keyDown",n=>{"Escape"===n.key&&f.close()}),this.setUpAlignmentButtons(l),this.options.insertableFields&&this.setupInsertFieldsButtons(l,this.options.insertableFields)}setUpAlignmentButtons(l){const f={type:"menubutton",icon:"alignleft",size:"small",menu:[this.getAlignmentButton("alignleft","JustifyLeft","Justify Left"),this.getAlignmentButton("alignright","JustifyRight","Justify Right"),this.getAlignmentButton("aligncenter","JustifyCenter","Justify Center"),this.getAlignmentButton("alignjustify","JustifyFull","Justify Full")]};l.addButton("alignmentsplit",f)}getAlignmentButton(l,f,n){return{icon:l,text:n,classes:"align-menu-item",size:"small",onclick:()=>{window.tinyMCE.execCommand(f)}}}setupInsertFieldsButtons(l,f){const n={type:"menubutton",text:"Insert Fields",menu:this.getInsertFieldButtons(f)};l.addButton("insertfield",n)}getInsertFieldButtons(l){return l.map(f=>({name:f,text:f,classes:"align-menu-item",size:"small",onclick:()=>{this.myEditor.editor.insertContent(`<span>{${f}}</span>`)}}))}onKeyDown(l){"Delete"===l.event.key&&(this.cdRef.markForCheck(),setTimeout(()=>{let n=this.myEditor.editor.contentDocument.activeElement.innerText.replaceAll(/\s/g,"");!n&&this.text&&(this.text=n,this.scContentEmpty.emit())},5))}}return p.\u0275fac=function(l){return new(l||p)(I.Y36(I.sBO))},p.\u0275cmp=I.Xpm({type:p,selectors:[["sc-rich-text-editor"]],viewQuery:function(l,f){if(1&l&&I.Gf(u,5),2&l){let n;I.iGM(n=I.CRH())&&(f.myEditor=n.first)}},inputs:{options:"options"},outputs:{scContentEmpty:"scContentEmpty"},features:[I._Bn([{provide:s.JU,useExisting:(0,I.Gpc)(()=>p),multi:!0}])],decls:1,vars:1,consts:[["class","editor-body h-100",4,"ngIf"],[1,"editor-body","h-100"],[1,"h-100",3,"ngClass"],[1,"rich-text-editor"],[3,"init","ngModel","ngModelChange","onKeyDown"],["editor",""]],template:function(l,f){1&l&&I.YNc(0,a,5,3,"div",0),2&l&&I.Q6J("ngIf",f.editorEnabled)},directives:[m.O5,m.mk,r.PG,s.JJ,s.On],styles:[".h-100{height:100%}\n"],encapsulation:2,changeDetection:0}),p})(),i=(()=>{class p{constructor(){}ngOnInit(){this.initOptions={insertableFields:["name","Test1","test2"],baseUrl:"/tinymce"}}contentEmpty(){console.log("Contents empty event fired.")}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275cmp=I.Xpm({type:p,selectors:[["nz-demo-rich-text-editor-basic"]],decls:1,vars:1,consts:[[3,"options","scContentEmpty"]],template:function(l,f){1&l&&(I.TgZ(0,"sc-rich-text-editor",0),I.NdJ("scContentEmpty",function(){return f.contentEmpty()}),I.qZA()),2&l&&I.Q6J("options",f.initOptions)},directives:[d],encapsulation:2,changeDetection:0}),p})();var c=Ve(4124);let g=(()=>{class p{constructor(){this.expanded=!1}goLink(l){window&&(window.location.hash=l)}expandAllCode(){this.expanded=!this.expanded,this.codeBoxes.forEach(l=>{l.nzExpanded=this.expanded,l.expandCode(this.expanded),l.check()})}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275cmp=I.Xpm({type:p,selectors:[["nz-demo-rich-text-editor"]],viewQuery:function(l,f){if(1&l&&I.Gf(at.G,5),2&l){let n;I.iGM(n=I.CRH())&&(f.codeBoxes=n)}},decls:280,vars:8,consts:[[1,"toc-affix",3,"nzOffsetTop"],["nzShowInkInFixed","",3,"nzAffix","nzClick"],["nzHref","#components-rich-text-editor-demo-basic","nzTitle","Rich text editor"],["nzHref","#api","nzTitle","API"],[1,"markdown"],[1,"subtitle"],[1,"widget"],["aria-label","Edit this page on Github","href","https://github.com/JobAdder/scales-workspace/tree/dev/projects/scales-library/src/lib//rich-text-editor/doc/index.en-US.md","target","_blank","rel","noopener noreferrer",1,"edit-button"],["nz-icon","","nzType","edit"],["id","when-to-use"],["onclick","window.location.hash = 'when-to-use'",1,"anchor"],[1,"language-ts"],[1,"token","keyword"],[1,"token","punctuation"],[1,"token","string"],["id","component-tab"],["nzTitle","Examples"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","Rich text editor","nzSelector","nz-demo-rich-text-editor-basic","nzGenerateCommand","ng g ng-zorro-antd:rich-text-editor-basic <name>","nzComponentName","NzDemoRichTextEditorBasicComponent","nzIframeSource","null",3,"nzId","nzLink","nzIframeHeight","nzHref"],["demo",""],["intro",""],["nzTitle","Usage"],["nzTitle","Installation"],[1,"markdown","api-container"],["id","api"],["onclick","window.location.hash = 'api'",1,"anchor"],["id","[sc-rich-text-editor]"],[1,"api-type-label","directive"],["onclick","window.location.hash = '[sc-rich-text-editor]'",1,"anchor"],["id","richtexteditoroptions"],["onclick","window.location.hash = 'richtexteditoroptions'",1,"anchor"],[1,"token","operator"],["id","usage-and-options"],["onclick","window.location.hash = 'usage-and-options'",1,"anchor"]],template:function(l,f){1&l&&(I.TgZ(0,"article")(1,"nz-affix",0)(2,"nz-anchor",1),I.NdJ("nzClick",function(o){return f.goLink(o)}),I._UZ(3,"nz-link",2)(4,"nz-link",3),I.qZA()(),I.TgZ(5,"section",4)(6,"h1"),I._uU(7,"Rich text editor"),I._UZ(8,"span",5)(9,"span",6),I.TgZ(10,"a",7),I._UZ(11,"i",8),I.qZA()(),I.TgZ(12,"section",4),I.IAx(),I.TgZ(13,"h2",9)(14,"span"),I._uU(15,"When To Use"),I.qZA(),I.TgZ(16,"a",10),I._uU(17,"#"),I.qZA()(),I.TgZ(18,"p"),I._uU(19,"This component is used as rich text editor."),I.qZA(),I.TgZ(20,"pre",11)(21,"code")(22,"span",12),I._uU(23,"import"),I.qZA(),I._uU(24," "),I.TgZ(25,"span",13),I._uU(26,"{"),I.qZA(),I._uU(27," ScalesLibraryModule "),I.TgZ(28,"span",13),I._uU(29,"}"),I.qZA(),I._uU(30," "),I.TgZ(31,"span",12),I._uU(32,"from"),I.qZA(),I._uU(33," "),I.TgZ(34,"span",14),I._uU(35,"'scales-library'"),I.qZA(),I.TgZ(36,"span",13),I._uU(37,";"),I.qZA()()(),I.fQ9(),I.qZA()(),I.TgZ(38,"nz-tabset",15)(39,"nz-tab",16)(40,"div",17)(41,"div",18)(42,"nz-code-box",19),I._UZ(43,"nz-demo-rich-text-editor-basic",20),I.TgZ(44,"div",21),I.IAx(),I.TgZ(45,"p")(46,"code"),I._uU(47,"A sample of rich text editor compomnent."),I.qZA()(),I.fQ9(),I.qZA()()()()(),I.TgZ(48,"nz-tab",22),I._uU(49," Content of Tab Pane 2 "),I.qZA(),I._UZ(50,"nz-tab",23),I.qZA(),I.TgZ(51,"section",24),I.IAx(),I.TgZ(52,"h2",25)(53,"span"),I._uU(54,"API"),I.qZA(),I.TgZ(55,"a",26),I._uU(56,"#"),I.qZA()(),I.TgZ(57,"h3",27)(58,"span"),I._uU(59,"[sc-rich-text-editor]"),I.qZA(),I.TgZ(60,"label",28),I._uU(61,"directive"),I.qZA(),I.TgZ(62,"a",29),I._uU(63,"#"),I.qZA()(),I.TgZ(64,"table")(65,"thead")(66,"tr")(67,"th"),I._uU(68,"Property"),I.qZA(),I.TgZ(69,"th"),I._uU(70,"Description"),I.qZA(),I.TgZ(71,"th"),I._uU(72,"Type"),I.qZA(),I.TgZ(73,"th"),I._uU(74,"Default"),I.qZA()()(),I.TgZ(75,"tbody")(76,"tr")(77,"td")(78,"code"),I._uU(79,"[scContentEmpty]"),I.qZA()(),I.TgZ(80,"td"),I._uU(81,"Contents empty event fired"),I.qZA(),I.TgZ(82,"td")(83,"code"),I._uU(84,"EventEmitter<Event>"),I.qZA()(),I._UZ(85,"td"),I.qZA(),I.TgZ(86,"tr")(87,"td")(88,"code"),I._uU(89,"[options]"),I.qZA()(),I.TgZ(90,"td"),I._uU(91,"RichTextEditorOptions"),I.qZA(),I.TgZ(92,"td")(93,"code"),I._uU(94,"RichTextEditorOptions"),I.qZA()(),I._UZ(95,"td"),I.qZA()()(),I.TgZ(96,"h3",30)(97,"span"),I._uU(98,"RichTextEditorOptions"),I.qZA(),I.TgZ(99,"a",31),I._uU(100,"#"),I.qZA()(),I.TgZ(101,"p"),I._uU(102,"This interface allows to set some options for [sc-rich-text-editor]"),I.qZA(),I.TgZ(103,"pre",11)(104,"code")(105,"span",13),I._uU(106,"{"),I.qZA(),I._uU(107,"\n  minimalEditor"),I.TgZ(108,"span",32),I._uU(109,"?"),I.qZA(),I.TgZ(110,"span",13),I._uU(111,":"),I.qZA(),I._uU(112," "),I.TgZ(113,"span",12),I._uU(114,"boolean"),I.qZA(),I.TgZ(115,"span",13),I._uU(116,";"),I.qZA(),I._uU(117,"\n  insertableFields"),I.TgZ(118,"span",32),I._uU(119,"?"),I.qZA(),I.TgZ(120,"span",13),I._uU(121,":"),I.qZA(),I._uU(122," "),I.TgZ(123,"span",12),I._uU(124,"string"),I.qZA(),I.TgZ(125,"span",13),I._uU(126,"["),I.qZA(),I.TgZ(127,"span",13),I._uU(128,"]"),I.qZA(),I.TgZ(129,"span",13),I._uU(130,";"),I.qZA(),I._uU(131,"\n  fonts"),I.TgZ(132,"span",32),I._uU(133,"?"),I.qZA(),I.TgZ(134,"span",13),I._uU(135,":"),I.qZA(),I._uU(136," "),I.TgZ(137,"span",12),I._uU(138,"string"),I.qZA(),I.TgZ(139,"span",13),I._uU(140,"["),I.qZA(),I.TgZ(141,"span",13),I._uU(142,"]"),I.qZA(),I.TgZ(143,"span",13),I._uU(144,";"),I.qZA(),I._uU(145,"\n  autoFocus"),I.TgZ(146,"span",32),I._uU(147,"?"),I.qZA(),I.TgZ(148,"span",13),I._uU(149,":"),I.qZA(),I._uU(150," "),I.TgZ(151,"span",12),I._uU(152,"boolean"),I.qZA(),I.TgZ(153,"span",13),I._uU(154,";"),I.qZA(),I._uU(155,"\n  sharedImages"),I.TgZ(156,"span",32),I._uU(157,"?"),I.qZA(),I.TgZ(158,"span",13),I._uU(159,":"),I.qZA(),I._uU(160," "),I.TgZ(161,"span",12),I._uU(162,"any"),I.qZA(),I.TgZ(163,"span",13),I._uU(164,";"),I.qZA(),I._uU(165,"\n  close"),I.TgZ(166,"span",32),I._uU(167,"?"),I.qZA(),I.TgZ(168,"span",13),I._uU(169,":"),I.qZA(),I._uU(170," "),I.TgZ(171,"span",13),I._uU(172,"("),I.qZA(),I.TgZ(173,"span",13),I._uU(174,")"),I.qZA(),I._uU(175," "),I.TgZ(176,"span",32),I._uU(177,"="),I.qZA(),I.TgZ(178,"span",32),I._uU(179,">"),I.qZA(),I._uU(180," "),I.TgZ(181,"span",12),I._uU(182,"void"),I.qZA(),I.TgZ(183,"span",13),I._uU(184,";"),I.qZA(),I._uU(185,"\n  baseUrl"),I.TgZ(186,"span",32),I._uU(187,"?"),I.qZA(),I.TgZ(188,"span",13),I._uU(189,":"),I.qZA(),I._uU(190," "),I.TgZ(191,"span",12),I._uU(192,"string"),I.qZA(),I.TgZ(193,"span",13),I._uU(194,";"),I.qZA(),I._uU(195,"\n  height"),I.TgZ(196,"span",32),I._uU(197,"?"),I.qZA(),I.TgZ(198,"span",13),I._uU(199,":"),I.qZA(),I._uU(200," "),I.TgZ(201,"span",12),I._uU(202,"string"),I.qZA(),I.TgZ(203,"span",13),I._uU(204,";"),I.qZA(),I._uU(205,"\n  wrapperClass"),I.TgZ(206,"span",32),I._uU(207,"?"),I.qZA(),I.TgZ(208,"span",13),I._uU(209,":"),I.qZA(),I._uU(210," "),I.TgZ(211,"span",12),I._uU(212,"string"),I.qZA(),I.TgZ(213,"span",13),I._uU(214,";"),I.qZA(),I._uU(215,"\n  resize"),I.TgZ(216,"span",32),I._uU(217,"?"),I.qZA(),I.TgZ(218,"span",13),I._uU(219,":"),I.qZA(),I._uU(220," "),I.TgZ(221,"span",12),I._uU(222,"boolean"),I.qZA(),I._uU(223," "),I.TgZ(224,"span",32),I._uU(225,"|"),I.qZA(),I._uU(226," "),I.TgZ(227,"span",14),I._uU(228,"'both'"),I.qZA(),I.TgZ(229,"span",13),I._uU(230,";"),I.qZA(),I._uU(231,"\n  statusbar"),I.TgZ(232,"span",32),I._uU(233,"?"),I.qZA(),I.TgZ(234,"span",13),I._uU(235,":"),I.qZA(),I._uU(236," "),I.TgZ(237,"span",12),I._uU(238,"boolean"),I.qZA(),I.TgZ(239,"span",13),I._uU(240,";"),I.qZA(),I._uU(241,"\n"),I.TgZ(242,"span",13),I._uU(243,"}"),I.qZA()()(),I.TgZ(244,"h3",33)(245,"span"),I._uU(246,"Usage and options"),I.qZA(),I.TgZ(247,"a",34),I._uU(248,"#"),I.qZA()(),I.TgZ(249,"p"),I._uU(250,"Since no model is provided as input for this component we need to specify attribute "),I.TgZ(251,"code"),I._uU(252,"formControlName"),I.qZA(),I._uU(253," in order to handle the value.\n"),I.TgZ(254,"code"),I._uU(255,"RichTextEditorOptions"),I.qZA(),I._uU(256," requires at least a baseUrl to be set in order to work properly as it's used to set some theme and style paths on bootstrap.\n"),I.TgZ(257,"strong"),I._uU(258,"For our application it should be set to "),I.TgZ(259,"code"),I._uU(260,"/assets/scales-library/tinymce/"),I.qZA()(),I._uU(261,".\n"),I.TgZ(262,"code"),I._uU(263,"height"),I.qZA(),I._uU(264," allows to set a fixed initial height for the textarea, "),I.TgZ(265,"code"),I._uU(266,"wrapperClass"),I.qZA(),I._uU(267," is useful to set class selectors and "),I.TgZ(268,"code"),I._uU(269,"resize"),I.qZA(),I._uU(270," allows to change editor's width and height, true allows\nvertical resizing, "),I.TgZ(271,"code"),I._uU(272,"both"),I.qZA(),I._uU(273," vertical and horizontal.\n"),I.TgZ(274,"strong"),I._uU(275,"NOTE"),I.qZA(),I._uU(276,": In order to allow resizing, "),I.TgZ(277,"code"),I._uU(278,"statusbar"),I.qZA(),I._uU(279," needs to be set to true as resizing icon is contained in it."),I.qZA(),I.fQ9(),I.qZA()()),2&l&&(I.xp6(1),I.Q6J("nzOffsetTop",16),I.xp6(1),I.Q6J("nzAffix",!1),I.xp6(38),I.Q6J("nzGutter",8),I.xp6(1),I.Q6J("nzSpan",24),I.xp6(1),I.Q6J("nzId","components-rich-text-editor-demo-basic")("nzLink","components-rich-text-editor-demo-basic")("nzIframeHeight",null)("nzHref","https://github.com/NG-ZORRO/ng-zorro-antd/edit/master/components/rich-text-editor/demo/basic.md"))},directives:[lt.$,ct.IT,ct.Fp,et.Ls,S.w,y.xH,y.xw,h.SK,h.t3,at.G,i,c.Om,c.$Z,c.Uo,c._C,c.p0],encapsulation:2}),p})();Ve(8915);let C=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({imports:[[ot.G,...rt.F,st.Bz.forChild([{path:"en",component:g},{path:"zh",component:V}])]]}),p})()}}]);